2022-08-13 16:59:49,940 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting MoviesBattleApplication on DESKTOP-EKRMV67 with PID 22436 (D:\projetos\ada\movies-battle\target\classes started by guibe in D:\projetos\ada\movies-battle)
2022-08-13 16:59:49,945 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.3.1.RELEASE, Spring v5.2.7.RELEASE
2022-08-13 16:59:49,945 INFO org.springframework.boot.SpringApplication [restartedMain] The following profiles are active: dev
2022-08-13 16:59:49,989 INFO org.springframework.boot.logging.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-08-13 16:59:49,990 INFO org.springframework.boot.logging.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-08-13 16:59:51,252 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2022-08-13 16:59:51,324 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 64ms. Found 3 JPA repository interfaces.
2022-08-13 16:59:51,843 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8080 (http)
2022-08-13 16:59:51,851 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8080"]
2022-08-13 16:59:51,851 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2022-08-13 16:59:51,852 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.36]
2022-08-13 16:59:51,948 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2022-08-13 16:59:51,948 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 1958 ms
2022-08-13 16:59:52,048 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2022-08-13 16:59:52,135 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2022-08-13 16:59:52,141 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [restartedMain] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:alura-forum'
2022-08-13 16:59:52,200 INFO org.springframework.boot.actuate.endpoint.web.ServletEndpointRegistrar [restartedMain] Registered '/actuator/jolokia' to jolokia-actuator-endpoint
2022-08-13 16:59:52,266 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2022-08-13 16:59:52,297 INFO org.hibernate.jpa.internal.util.LogHelper [task-1] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-08-13 16:59:52,334 INFO org.hibernate.Version [task-1] HHH000412: Hibernate ORM core version 5.4.17.Final
2022-08-13 16:59:52,344 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-08-13 16:59:52,443 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [task-1] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2022-08-13 16:59:52,536 INFO org.hibernate.dialect.Dialect [task-1] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-08-13 16:59:52,677 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [restartedMain] Exposing 14 endpoint(s) beneath base path '/actuator'
2022-08-13 16:59:52,824 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@a7f7ec7, org.springframework.security.web.context.SecurityContextPersistenceFilter@6f7cf467, org.springframework.security.web.header.HeaderWriterFilter@c62456c, org.springframework.security.web.authentication.logout.LogoutFilter@5692c0b3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@102c4049, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5bf0bdd4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@61006e04, org.springframework.security.web.session.SessionManagementFilter@56bef0e, org.springframework.security.web.access.ExceptionTranslationFilter@48ce0687, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@80cfa13]
2022-08-13 16:59:52,884 INFO springfox.documentation.spring.web.PropertySourcedRequestMappingHandlerMapping [restartedMain] Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2022-08-13 16:59:52,997 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2022-08-13 16:59:53,119 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService
2022-08-13 16:59:53,218 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [task-1] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-08-13 16:59:53,225 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [task-1] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-08-13 16:59:53,289 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8080"]
2022-08-13 16:59:53,312 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8080 (http) with context path ''
2022-08-13 16:59:53,314 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [restartedMain] Context refreshed
2022-08-13 16:59:53,330 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [restartedMain] Found 1 custom documentation plugin(s)
2022-08-13 16:59:53,367 INFO springfox.documentation.spring.web.scanners.ApiListingReferenceScanner [restartedMain] Scanning for api listing references
2022-08-13 16:59:53,377 INFO org.springframework.data.repository.config.DeferredRepositoryInitializationListener [restartedMain] Triggering deferred initialization of Spring Data repositoriesâ€¦
2022-08-13 16:59:53,638 INFO org.springframework.data.repository.config.DeferredRepositoryInitializationListener [restartedMain] Spring Data repositories initialized!
2022-08-13 16:59:53,649 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started MoviesBattleApplication in 3.954 seconds (JVM running for 5.361)
2022-08-13 16:59:55,484 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(1)-127.0.0.1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-08-13 16:59:55,484 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(1)-127.0.0.1] Initializing Servlet 'dispatcherServlet'
2022-08-13 16:59:55,490 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(1)-127.0.0.1] Completed initialization in 6 ms
2022-08-13 16:59:55,750 WARN de.codecentric.boot.admin.client.registration.ApplicationRegistrator [registrationTask1] Failed to register application as Application(name=spring-boot-application, managementUrl=http://DESKTOP-EKRMV67:8080/actuator, healthUrl=http://DESKTOP-EKRMV67:8080/actuator/health, serviceUrl=http://DESKTOP-EKRMV67:8080/) at spring-boot-admin ([http://localhost:8081/instances]): I/O error on POST request for "http://localhost:8081/instances": Connection refused: connect; nested exception is java.net.ConnectException: Connection refused: connect. Further attempts are logged on DEBUG level
2022-08-13 17:01:15,493 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting MoviesBattleApplication on DESKTOP-EKRMV67 with PID 22192 (D:\projetos\ada\movies-battle\target\classes started by guibe in D:\projetos\ada\movies-battle)
2022-08-13 17:01:15,497 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.3.1.RELEASE, Spring v5.2.7.RELEASE
2022-08-13 17:01:15,497 INFO org.springframework.boot.SpringApplication [restartedMain] The following profiles are active: dev
2022-08-13 17:01:15,538 INFO org.springframework.boot.logging.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-08-13 17:01:15,539 INFO org.springframework.boot.logging.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-08-13 17:01:16,721 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2022-08-13 17:01:16,786 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 58ms. Found 3 JPA repository interfaces.
2022-08-13 17:01:17,300 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8080 (http)
2022-08-13 17:01:17,307 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8080"]
2022-08-13 17:01:17,307 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2022-08-13 17:01:17,307 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.36]
2022-08-13 17:01:17,419 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2022-08-13 17:01:17,419 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 1880 ms
2022-08-13 17:01:17,520 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2022-08-13 17:01:17,607 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2022-08-13 17:01:17,612 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [restartedMain] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:alura-forum'
2022-08-13 17:01:17,671 INFO org.springframework.boot.actuate.endpoint.web.ServletEndpointRegistrar [restartedMain] Registered '/actuator/jolokia' to jolokia-actuator-endpoint
2022-08-13 17:01:17,740 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2022-08-13 17:01:17,772 INFO org.hibernate.jpa.internal.util.LogHelper [task-1] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-08-13 17:01:17,810 INFO org.hibernate.Version [task-1] HHH000412: Hibernate ORM core version 5.4.17.Final
2022-08-13 17:01:17,823 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-08-13 17:01:17,903 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [task-1] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2022-08-13 17:01:18,000 INFO org.hibernate.dialect.Dialect [task-1] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-08-13 17:01:18,134 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [restartedMain] Exposing 14 endpoint(s) beneath base path '/actuator'
2022-08-13 17:01:18,279 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@251d005, org.springframework.security.web.context.SecurityContextPersistenceFilter@64b5b17c, org.springframework.security.web.header.HeaderWriterFilter@6ec6ee9e, org.springframework.security.web.authentication.logout.LogoutFilter@422c8f06, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@72f58063, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@41126682, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6302f382, org.springframework.security.web.session.SessionManagementFilter@4b267962, org.springframework.security.web.access.ExceptionTranslationFilter@b5ab878, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@262753ae]
2022-08-13 17:01:18,335 INFO springfox.documentation.spring.web.PropertySourcedRequestMappingHandlerMapping [restartedMain] Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2022-08-13 17:01:18,439 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2022-08-13 17:01:18,552 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService
2022-08-13 17:01:18,675 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [task-1] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-08-13 17:01:18,681 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [task-1] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-08-13 17:01:18,747 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8080"]
2022-08-13 17:01:18,767 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8080 (http) with context path ''
2022-08-13 17:01:18,769 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [restartedMain] Context refreshed
2022-08-13 17:01:18,782 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [restartedMain] Found 1 custom documentation plugin(s)
2022-08-13 17:01:18,814 INFO springfox.documentation.spring.web.scanners.ApiListingReferenceScanner [restartedMain] Scanning for api listing references
2022-08-13 17:01:18,824 INFO org.springframework.data.repository.config.DeferredRepositoryInitializationListener [restartedMain] Triggering deferred initialization of Spring Data repositoriesâ€¦
2022-08-13 17:01:19,092 INFO org.springframework.data.repository.config.DeferredRepositoryInitializationListener [restartedMain] Spring Data repositories initialized!
2022-08-13 17:01:19,103 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started MoviesBattleApplication in 3.848 seconds (JVM running for 5.118)
2022-08-13 17:01:21,085 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [restartedMain] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=supporting
2022-08-13 17:01:21,131 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(3)-127.0.0.1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-08-13 17:01:21,131 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(3)-127.0.0.1] Initializing Servlet 'dispatcherServlet'
2022-08-13 17:01:21,138 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(3)-127.0.0.1] Completed initialization in 7 ms
2022-08-13 17:01:23,888 WARN de.codecentric.boot.admin.client.registration.ApplicationRegistrator [registrationTask1] Failed to register application as Application(name=spring-boot-application, managementUrl=http://DESKTOP-EKRMV67:8080/actuator, healthUrl=http://DESKTOP-EKRMV67:8080/actuator/health, serviceUrl=http://DESKTOP-EKRMV67:8080/) at spring-boot-admin ([http://localhost:8081/instances]): I/O error on POST request for "http://localhost:8081/instances": Connection refused: connect; nested exception is java.net.ConnectException: Connection refused: connect. Further attempts are logged on DEBUG level
2022-08-13 17:15:14,261 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting MoviesBattleApplication on DESKTOP-EKRMV67 with PID 24512 (D:\projetos\ada\movies-battle\target\classes started by guibe in D:\projetos\ada\movies-battle)
2022-08-13 17:15:14,264 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.3.1.RELEASE, Spring v5.2.7.RELEASE
2022-08-13 17:15:14,265 INFO org.springframework.boot.SpringApplication [restartedMain] The following profiles are active: dev
2022-08-13 17:15:14,306 INFO org.springframework.boot.logging.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-08-13 17:15:14,307 INFO org.springframework.boot.logging.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-08-13 17:15:15,570 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2022-08-13 17:15:15,638 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 61ms. Found 3 JPA repository interfaces.
2022-08-13 17:15:16,189 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8080 (http)
2022-08-13 17:15:16,196 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8080"]
2022-08-13 17:15:16,196 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2022-08-13 17:15:16,197 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.36]
2022-08-13 17:15:16,320 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2022-08-13 17:15:16,320 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 2013 ms
2022-08-13 17:15:16,441 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2022-08-13 17:15:16,536 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2022-08-13 17:15:16,542 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [restartedMain] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:alura-forum'
2022-08-13 17:15:16,603 INFO org.springframework.boot.actuate.endpoint.web.ServletEndpointRegistrar [restartedMain] Registered '/actuator/jolokia' to jolokia-actuator-endpoint
2022-08-13 17:15:16,671 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2022-08-13 17:15:16,681 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'taskScheduler'
2022-08-13 17:15:16,713 INFO org.hibernate.jpa.internal.util.LogHelper [task-1] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-08-13 17:15:16,752 INFO org.hibernate.Version [task-1] HHH000412: Hibernate ORM core version 5.4.17.Final
2022-08-13 17:15:16,764 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-08-13 17:15:16,844 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [task-1] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2022-08-13 17:15:16,937 INFO org.hibernate.dialect.Dialect [task-1] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-08-13 17:15:17,106 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [restartedMain] Exposing 14 endpoint(s) beneath base path '/actuator'
2022-08-13 17:15:17,281 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@16c895d9, org.springframework.security.web.context.SecurityContextPersistenceFilter@187335d2, org.springframework.security.web.header.HeaderWriterFilter@5e3ed789, org.springframework.security.web.authentication.logout.LogoutFilter@555e513f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1d01b7d9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4abe180e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3f337875, org.springframework.security.web.session.SessionManagementFilter@34cbc8b1, org.springframework.security.web.access.ExceptionTranslationFilter@3ea7551b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@112f3151]
2022-08-13 17:15:17,320 INFO springfox.documentation.spring.web.PropertySourcedRequestMappingHandlerMapping [restartedMain] Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2022-08-13 17:15:17,445 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2022-08-13 17:15:17,577 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService
2022-08-13 17:15:17,599 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [task-1] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-08-13 17:15:17,605 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [task-1] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-08-13 17:15:17,686 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8080"]
2022-08-13 17:15:17,708 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8080 (http) with context path ''
2022-08-13 17:15:17,711 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [restartedMain] Context refreshed
2022-08-13 17:15:17,728 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [restartedMain] Found 1 custom documentation plugin(s)
2022-08-13 17:15:17,764 INFO springfox.documentation.spring.web.scanners.ApiListingReferenceScanner [restartedMain] Scanning for api listing references
2022-08-13 17:15:17,774 INFO org.springframework.data.repository.config.DeferredRepositoryInitializationListener [restartedMain] Triggering deferred initialization of Spring Data repositoriesâ€¦
2022-08-13 17:15:18,041 INFO org.springframework.data.repository.config.DeferredRepositoryInitializationListener [restartedMain] Spring Data repositories initialized!
2022-08-13 17:15:18,055 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started MoviesBattleApplication in 4.03 seconds (JVM running for 5.276)
2022-08-13 17:15:18,058 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-3] Starting scheduled task to load movies.
2022-08-13 17:15:19,855 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(3)-127.0.0.1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-08-13 17:15:19,855 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(3)-127.0.0.1] Initializing Servlet 'dispatcherServlet'
2022-08-13 17:15:19,861 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(3)-127.0.0.1] Completed initialization in 6 ms
2022-08-13 17:15:20,041 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=latin
2022-08-13 17:15:20,066 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-4] Starting scheduled task to load movies.
2022-08-13 17:15:20,069 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=germany
2022-08-13 17:15:20,160 WARN de.codecentric.boot.admin.client.registration.ApplicationRegistrator [registrationTask1] Failed to register application as Application(name=spring-boot-application, managementUrl=http://DESKTOP-EKRMV67:8080/actuator, healthUrl=http://DESKTOP-EKRMV67:8080/actuator/health, serviceUrl=http://DESKTOP-EKRMV67:8080/) at spring-boot-admin ([http://localhost:8081/instances]): I/O error on POST request for "http://localhost:8081/instances": Connection refused: connect; nested exception is java.net.ConnectException: Connection refused: connect. Further attempts are logged on DEBUG level
2022-08-13 17:15:22,081 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-5] Starting scheduled task to load movies.
2022-08-13 17:15:22,084 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-5] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=pericles
2022-08-13 17:15:24,089 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-6] Starting scheduled task to load movies.
2022-08-13 17:15:24,091 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-6] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=sao
2022-08-13 17:15:24,962 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-4] Finishing scheduled task to load movies.
2022-08-13 17:15:25,487 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-3] Finishing scheduled task to load movies.
2022-08-13 17:15:26,092 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-7] Starting scheduled task to load movies.
2022-08-13 17:15:26,100 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-7] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=cellar
2022-08-13 17:15:27,969 ERROR org.springframework.aop.interceptor.SimpleAsyncUncaughtExceptionHandler [task-5] Unexpected exception occurred invoking async method: public void br.com.ada.moviesbattle.scheduled.LoadMovieTask.loadMovies() throws java.lang.Exception
org.springframework.web.client.UnknownHttpStatusCodeException: 520 : [no body]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:123)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:782)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:740)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:674)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:342)
	at br.com.ada.moviesbattle.service.OmdbServiceImpl.getMovieDetail(OmdbServiceImpl.java:58)
	at br.com.ada.moviesbattle.service.MovieServiceImpl.loadMovies(MovieServiceImpl.java:25)
	at br.com.ada.moviesbattle.scheduled.LoadMovieTask.loadMovies(LoadMovieTask.java:28)
	at br.com.ada.moviesbattle.scheduled.LoadMovieTask$$FastClassBySpringCGLIB$$2cb165b6.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:834)
2022-08-13 17:15:28,098 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-8] Starting scheduled task to load movies.
2022-08-13 17:15:28,100 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-8] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=accelerando
2022-08-13 17:15:28,999 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-6] Finishing scheduled task to load movies.
2022-08-13 17:15:29,105 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-8] Finishing scheduled task to load movies.
2022-08-13 17:15:30,111 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-1] Starting scheduled task to load movies.
2022-08-13 17:15:30,113 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-1] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=bed
2022-08-13 17:15:30,352 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-7] Finishing scheduled task to load movies.
2022-08-13 17:15:32,126 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-2] Starting scheduled task to load movies.
2022-08-13 17:15:32,128 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-2] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=wellies
2022-08-13 17:15:32,501 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-2] Finishing scheduled task to load movies.
2022-08-13 17:15:33,598 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-1] Finishing scheduled task to load movies.
2022-08-13 17:15:34,135 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-4] Starting scheduled task to load movies.
2022-08-13 17:15:34,136 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=bishop
2022-08-13 17:15:35,388 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(9)-127.0.0.1] Application shutdown requested.
2022-08-13 17:15:35,779 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [RMI TCP Connection(9)-127.0.0.1] Shutting down ExecutorService
2022-08-13 17:15:35,782 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [RMI TCP Connection(9)-127.0.0.1] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-08-13 17:15:35,784 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [RMI TCP Connection(9)-127.0.0.1] Shutting down ExecutorService 'taskScheduler'
2022-08-13 17:15:35,784 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [RMI TCP Connection(9)-127.0.0.1] Shutting down ExecutorService 'applicationTaskExecutor'
2022-08-13 17:15:36,005 WARN org.springframework.beans.factory.support.DisposableBeanAdapter [RMI TCP Connection(9)-127.0.0.1] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2022-08-13 17:15:36,005 INFO com.zaxxer.hikari.HikariDataSource [RMI TCP Connection(9)-127.0.0.1] HikariPool-1 - Shutdown initiated...
2022-08-13 17:15:36,009 INFO com.zaxxer.hikari.HikariDataSource [RMI TCP Connection(9)-127.0.0.1] HikariPool-1 - Shutdown completed.
2022-08-13 17:15:37,603 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-4] Finishing scheduled task to load movies.
2022-08-13 17:16:27,320 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting MoviesBattleApplication on DESKTOP-EKRMV67 with PID 25768 (D:\projetos\ada\movies-battle\target\classes started by guibe in D:\projetos\ada\movies-battle)
2022-08-13 17:16:27,322 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.3.1.RELEASE, Spring v5.2.7.RELEASE
2022-08-13 17:16:27,322 INFO org.springframework.boot.SpringApplication [restartedMain] The following profiles are active: dev
2022-08-13 17:16:27,356 INFO org.springframework.boot.logging.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-08-13 17:16:27,357 INFO org.springframework.boot.logging.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-08-13 17:16:28,310 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2022-08-13 17:16:28,358 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 42ms. Found 3 JPA repository interfaces.
2022-08-13 17:16:28,830 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8080 (http)
2022-08-13 17:16:28,837 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8080"]
2022-08-13 17:16:28,837 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2022-08-13 17:16:28,837 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.36]
2022-08-13 17:16:28,929 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2022-08-13 17:16:28,929 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 1572 ms
2022-08-13 17:16:29,029 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2022-08-13 17:16:29,118 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2022-08-13 17:16:29,123 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [restartedMain] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:alura-forum'
2022-08-13 17:16:29,183 INFO org.springframework.boot.actuate.endpoint.web.ServletEndpointRegistrar [restartedMain] Registered '/actuator/jolokia' to jolokia-actuator-endpoint
2022-08-13 17:16:29,248 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2022-08-13 17:16:29,257 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'taskScheduler'
2022-08-13 17:16:29,290 INFO org.hibernate.jpa.internal.util.LogHelper [task-1] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-08-13 17:16:29,326 INFO org.hibernate.Version [task-1] HHH000412: Hibernate ORM core version 5.4.17.Final
2022-08-13 17:16:29,331 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-08-13 17:16:29,410 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [task-1] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2022-08-13 17:16:29,482 INFO org.hibernate.dialect.Dialect [task-1] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-08-13 17:16:29,631 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [restartedMain] Exposing 14 endpoint(s) beneath base path '/actuator'
2022-08-13 17:16:29,772 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7aa3993f, org.springframework.security.web.context.SecurityContextPersistenceFilter@21f4e294, org.springframework.security.web.header.HeaderWriterFilter@308bc28a, org.springframework.security.web.authentication.logout.LogoutFilter@2b0dcad7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@49a9ef1e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@19aae18b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4e52849f, org.springframework.security.web.session.SessionManagementFilter@63cb55d4, org.springframework.security.web.access.ExceptionTranslationFilter@2bfb6316, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@514c64db]
2022-08-13 17:16:29,806 INFO springfox.documentation.spring.web.PropertySourcedRequestMappingHandlerMapping [restartedMain] Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2022-08-13 17:16:29,928 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2022-08-13 17:16:30,040 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService
2022-08-13 17:16:30,064 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [task-1] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-08-13 17:16:30,071 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [task-1] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-08-13 17:16:30,137 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8080"]
2022-08-13 17:16:30,156 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8080 (http) with context path ''
2022-08-13 17:16:30,157 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [restartedMain] Context refreshed
2022-08-13 17:16:30,168 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [restartedMain] Found 1 custom documentation plugin(s)
2022-08-13 17:16:30,195 INFO springfox.documentation.spring.web.scanners.ApiListingReferenceScanner [restartedMain] Scanning for api listing references
2022-08-13 17:16:30,204 INFO org.springframework.data.repository.config.DeferredRepositoryInitializationListener [restartedMain] Triggering deferred initialization of Spring Data repositoriesâ€¦
2022-08-13 17:16:30,415 INFO org.springframework.data.repository.config.DeferredRepositoryInitializationListener [restartedMain] Spring Data repositories initialized!
2022-08-13 17:16:30,426 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started MoviesBattleApplication in 3.308 seconds (JVM running for 4.392)
2022-08-13 17:16:30,428 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-3] Starting scheduled task to load movies.
2022-08-13 17:16:32,147 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(3)-127.0.0.1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-08-13 17:16:32,147 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(3)-127.0.0.1] Initializing Servlet 'dispatcherServlet'
2022-08-13 17:16:32,152 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(3)-127.0.0.1] Completed initialization in 5 ms
2022-08-13 17:16:32,447 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=dispute
2022-08-13 17:16:32,522 WARN de.codecentric.boot.admin.client.registration.ApplicationRegistrator [registrationTask1] Failed to register application as Application(name=spring-boot-application, managementUrl=http://DESKTOP-EKRMV67:8080/actuator, healthUrl=http://DESKTOP-EKRMV67:8080/actuator/health, serviceUrl=http://DESKTOP-EKRMV67:8080/) at spring-boot-admin ([http://localhost:8081/instances]): I/O error on POST request for "http://localhost:8081/instances": Connection refused: connect; nested exception is java.net.ConnectException: Connection refused: connect. Further attempts are logged on DEBUG level
2022-08-13 17:16:35,132 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-3] Finishing scheduled task to load movies.
2022-08-13 17:16:40,437 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-4] Starting scheduled task to load movies.
2022-08-13 17:16:40,441 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=authors
2022-08-13 17:16:41,079 ERROR com.github.dhiraj072.randomwordgenerator.RandomWordGenerator [Thread-373] Error getting word from DataMuse, setting a random word locally
com.github.dhiraj072.randomwordgenerator.exceptions.DataMuseException: DataMuse API did not return any words for request com.github.dhiraj072.randomwordgenerator.datamuse.DataMuseRequest@1d82eac1
	at com.github.dhiraj072.randomwordgenerator.RandomWordGenerator.getDataMuseWords(RandomWordGenerator.java:68)
	at com.github.dhiraj072.randomwordgenerator.RandomWordGenerator.initializeNewRandomWords(RandomWordGenerator.java:50)
	at java.base/java.lang.Thread.run(Thread.java:834)
2022-08-13 17:16:42,652 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-4] Finishing scheduled task to load movies.
2022-08-13 17:16:50,443 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-5] Starting scheduled task to load movies.
2022-08-13 17:16:50,445 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-5] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=Colombia
2022-08-13 17:16:53,575 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-5] Finishing scheduled task to load movies.
2022-08-13 17:17:00,445 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-6] Starting scheduled task to load movies.
2022-08-13 17:17:00,446 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-6] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=omani
2022-08-13 17:17:00,869 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-6] Finishing scheduled task to load movies.
2022-08-13 17:17:10,450 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-7] Starting scheduled task to load movies.
2022-08-13 17:17:10,455 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-7] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=buy
2022-08-13 17:17:13,085 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-7] Finishing scheduled task to load movies.
2022-08-13 17:17:20,460 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-8] Starting scheduled task to load movies.
2022-08-13 17:17:20,461 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-8] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=falkland
2022-08-13 17:17:21,100 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-8] Finishing scheduled task to load movies.
2022-08-13 17:17:30,478 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-9] Starting scheduled task to load movies.
2022-08-13 17:17:30,484 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-9] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=mystery
2022-08-13 17:17:32,479 ERROR org.springframework.aop.interceptor.SimpleAsyncUncaughtExceptionHandler [task-9] Unexpected exception occurred invoking async method: public void br.com.ada.moviesbattle.scheduled.LoadMovieTask.loadMovies() throws java.lang.Exception
org.springframework.web.client.UnknownHttpStatusCodeException: 520 : [no body]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:123)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:782)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:740)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:674)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:342)
	at br.com.ada.moviesbattle.service.OmdbServiceImpl.getMovieDetail(OmdbServiceImpl.java:58)
	at br.com.ada.moviesbattle.service.MovieServiceImpl.loadMovies(MovieServiceImpl.java:25)
	at br.com.ada.moviesbattle.scheduled.LoadMovieTask.loadMovies(LoadMovieTask.java:28)
	at br.com.ada.moviesbattle.scheduled.LoadMovieTask$$FastClassBySpringCGLIB$$2cb165b6.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:834)
2022-08-13 17:17:40,486 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-10] Starting scheduled task to load movies.
2022-08-13 17:17:40,487 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-10] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=shtick
2022-08-13 17:17:41,388 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-10] Finishing scheduled task to load movies.
2022-08-13 17:17:50,488 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-11] Starting scheduled task to load movies.
2022-08-13 17:17:50,492 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-11] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=militarism
2022-08-13 17:17:51,594 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-11] Finishing scheduled task to load movies.
2022-08-13 17:18:00,490 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-12] Starting scheduled task to load movies.
2022-08-13 17:18:00,491 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-12] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=ninescore
2022-08-13 17:18:01,185 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-12] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=great
2022-08-13 17:18:05,199 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-12] Finishing scheduled task to load movies.
2022-08-13 17:18:10,497 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-13] Starting scheduled task to load movies.
2022-08-13 17:18:10,501 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-13] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=annex
2022-08-13 17:18:11,577 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-13] Finishing scheduled task to load movies.
2022-08-13 17:18:20,504 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-14] Starting scheduled task to load movies.
2022-08-13 17:18:20,509 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-14] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=contents
2022-08-13 17:18:22,714 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-14] Finishing scheduled task to load movies.
2022-08-13 17:18:28,886 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(11)-127.0.0.1] Application shutdown requested.
2022-08-13 17:18:29,233 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [RMI TCP Connection(11)-127.0.0.1] Shutting down ExecutorService
2022-08-13 17:18:29,237 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [RMI TCP Connection(11)-127.0.0.1] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-08-13 17:18:29,239 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [RMI TCP Connection(11)-127.0.0.1] Shutting down ExecutorService 'taskScheduler'
2022-08-13 17:18:29,239 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [RMI TCP Connection(11)-127.0.0.1] Shutting down ExecutorService 'applicationTaskExecutor'
2022-08-13 17:18:29,443 WARN org.springframework.beans.factory.support.DisposableBeanAdapter [RMI TCP Connection(11)-127.0.0.1] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2022-08-13 17:18:29,444 INFO com.zaxxer.hikari.HikariDataSource [RMI TCP Connection(11)-127.0.0.1] HikariPool-1 - Shutdown initiated...
2022-08-13 17:18:29,447 INFO com.zaxxer.hikari.HikariDataSource [RMI TCP Connection(11)-127.0.0.1] HikariPool-1 - Shutdown completed.
2022-08-13 17:32:50,077 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting MoviesBattleApplication on DESKTOP-EKRMV67 with PID 30080 (D:\projetos\ada\movies-battle\target\classes started by guibe in D:\projetos\ada\movies-battle)
2022-08-13 17:32:50,081 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.3.1.RELEASE, Spring v5.2.7.RELEASE
2022-08-13 17:32:50,082 INFO org.springframework.boot.SpringApplication [restartedMain] The following profiles are active: dev
2022-08-13 17:32:50,142 INFO org.springframework.boot.logging.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-08-13 17:32:50,142 INFO org.springframework.boot.logging.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-08-13 17:32:51,358 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2022-08-13 17:32:51,420 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 55ms. Found 3 JPA repository interfaces.
2022-08-13 17:32:51,963 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8080 (http)
2022-08-13 17:32:51,970 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8080"]
2022-08-13 17:32:51,971 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2022-08-13 17:32:51,971 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.36]
2022-08-13 17:32:52,083 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2022-08-13 17:32:52,084 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 1941 ms
2022-08-13 17:32:52,195 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2022-08-13 17:32:52,282 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2022-08-13 17:32:52,288 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [restartedMain] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:alura-forum'
2022-08-13 17:32:52,346 INFO org.springframework.boot.actuate.endpoint.web.ServletEndpointRegistrar [restartedMain] Registered '/actuator/jolokia' to jolokia-actuator-endpoint
2022-08-13 17:32:52,416 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2022-08-13 17:32:52,425 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'taskScheduler'
2022-08-13 17:32:52,459 INFO org.hibernate.jpa.internal.util.LogHelper [task-1] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-08-13 17:32:52,499 INFO org.hibernate.Version [task-1] HHH000412: Hibernate ORM core version 5.4.17.Final
2022-08-13 17:32:52,513 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-08-13 17:32:52,598 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [task-1] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2022-08-13 17:32:52,700 INFO org.hibernate.dialect.Dialect [task-1] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-08-13 17:32:52,860 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [restartedMain] Exposing 14 endpoint(s) beneath base path '/actuator'
2022-08-13 17:32:53,016 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6f11843c, org.springframework.security.web.context.SecurityContextPersistenceFilter@4fa4a5ba, org.springframework.security.web.header.HeaderWriterFilter@1b68de3c, org.springframework.security.web.authentication.logout.LogoutFilter@3ef63041, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@a99d527, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1a344c2e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@444ca3, org.springframework.security.web.session.SessionManagementFilter@5ad86940, org.springframework.security.web.access.ExceptionTranslationFilter@32f1ace3, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7750f500]
2022-08-13 17:32:53,075 INFO springfox.documentation.spring.web.PropertySourcedRequestMappingHandlerMapping [restartedMain] Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2022-08-13 17:32:53,190 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2022-08-13 17:32:53,317 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService
2022-08-13 17:32:53,412 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [task-1] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-08-13 17:32:53,418 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [task-1] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-08-13 17:32:53,489 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8080"]
2022-08-13 17:32:53,509 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8080 (http) with context path ''
2022-08-13 17:32:53,511 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [restartedMain] Context refreshed
2022-08-13 17:32:53,528 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [restartedMain] Found 1 custom documentation plugin(s)
2022-08-13 17:32:53,571 INFO springfox.documentation.spring.web.scanners.ApiListingReferenceScanner [restartedMain] Scanning for api listing references
2022-08-13 17:32:53,582 INFO org.springframework.data.repository.config.DeferredRepositoryInitializationListener [restartedMain] Triggering deferred initialization of Spring Data repositoriesâ€¦
2022-08-13 17:32:53,850 INFO org.springframework.data.repository.config.DeferredRepositoryInitializationListener [restartedMain] Spring Data repositories initialized!
2022-08-13 17:32:53,866 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started MoviesBattleApplication in 4.046 seconds (JVM running for 5.35)
2022-08-13 17:32:53,869 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-3] Starting scheduled task to load movies.
2022-08-13 17:32:55,669 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=pipefish
2022-08-13 17:32:55,709 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(10)-127.0.0.1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-08-13 17:32:55,709 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(10)-127.0.0.1] Initializing Servlet 'dispatcherServlet'
2022-08-13 17:32:55,715 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(10)-127.0.0.1] Completed initialization in 6 ms
2022-08-13 17:32:55,966 WARN de.codecentric.boot.admin.client.registration.ApplicationRegistrator [registrationTask1] Failed to register application as Application(name=spring-boot-application, managementUrl=http://DESKTOP-EKRMV67:8080/actuator, healthUrl=http://DESKTOP-EKRMV67:8080/actuator/health, serviceUrl=http://DESKTOP-EKRMV67:8080/) at spring-boot-admin ([http://localhost:8081/instances]): I/O error on POST request for "http://localhost:8081/instances": Connection refused: connect; nested exception is java.net.ConnectException: Connection refused: connect. Further attempts are logged on DEBUG level
2022-08-13 17:32:55,995 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=sea
2022-08-13 17:32:56,841 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt4034228
2022-08-13 17:32:57,464 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt1390411
2022-08-13 17:32:58,117 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt0149261
2022-08-13 17:32:58,771 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt1854564
2022-08-13 17:32:59,383 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt0369702
2022-08-13 17:33:00,033 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt1865505
2022-08-13 17:33:00,687 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt0098273
2022-08-13 17:33:00,893 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt2261331
2022-08-13 17:33:01,547 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt0046672
2022-08-13 17:33:02,193 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt0235737
2022-08-13 17:33:02,854 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-3] Finishing scheduled task to load movies.
2022-08-13 17:33:03,871 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-4] Starting scheduled task to load movies.
2022-08-13 17:33:03,877 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=category
2022-08-13 17:33:04,071 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt0079606
2022-08-13 17:33:04,683 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt0428144
2022-08-13 17:33:05,330 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt3060872
2022-08-13 17:33:05,517 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt9059806
2022-08-13 17:33:06,125 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt1367163
2022-08-13 17:33:06,741 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt1617044
2022-08-13 17:33:07,404 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt2108548
2022-08-13 17:33:08,019 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt1172965
2022-08-13 17:33:08,213 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt4114296
2022-08-13 17:33:08,396 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt4460446
2022-08-13 17:33:09,005 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-4] Finishing scheduled task to load movies.
2022-08-13 17:33:13,882 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-5] Starting scheduled task to load movies.
2022-08-13 17:33:13,889 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-5] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=shores
2022-08-13 17:33:14,093 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-5] https://www.omdbapi.com/?apikey=417758d8&i=tt2592484
2022-08-13 17:33:14,748 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-5] https://www.omdbapi.com/?apikey=417758d8&i=tt0035447
2022-08-13 17:33:14,943 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-5] https://www.omdbapi.com/?apikey=417758d8&i=tt2395337
2022-08-13 17:33:15,558 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-5] https://www.omdbapi.com/?apikey=417758d8&i=tt1872124
2022-08-13 17:33:15,752 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-5] https://www.omdbapi.com/?apikey=417758d8&i=tt0029819
2022-08-13 17:33:15,960 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-5] https://www.omdbapi.com/?apikey=417758d8&i=tt8947352
2022-08-13 17:33:16,155 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-5] https://www.omdbapi.com/?apikey=417758d8&i=tt0314421
2022-08-13 17:33:16,756 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-5] https://www.omdbapi.com/?apikey=417758d8&i=tt0038175
2022-08-13 17:33:16,937 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-5] https://www.omdbapi.com/?apikey=417758d8&i=tt0246826
2022-08-13 17:33:17,604 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-5] https://www.omdbapi.com/?apikey=417758d8&i=tt0181814
2022-08-13 17:33:18,214 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-5] Finishing scheduled task to load movies.
2022-08-13 17:33:23,884 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-6] Starting scheduled task to load movies.
2022-08-13 17:33:23,888 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-6] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=trace
2022-08-13 17:33:24,256 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-6] https://www.omdbapi.com/?apikey=417758d8&i=tt3892172
2022-08-13 17:33:24,464 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-6] https://www.omdbapi.com/?apikey=417758d8&i=tt0086593
2022-08-13 17:33:25,077 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-6] https://www.omdbapi.com/?apikey=417758d8&i=tt9816970
2022-08-13 17:33:25,262 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-6] https://www.omdbapi.com/?apikey=417758d8&i=tt0061017
2022-08-13 17:33:25,910 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-6] https://www.omdbapi.com/?apikey=417758d8&i=tt3733618
2022-08-13 17:33:26,102 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-6] https://www.omdbapi.com/?apikey=417758d8&i=tt4117326
2022-08-13 17:33:26,754 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-6] https://www.omdbapi.com/?apikey=417758d8&i=tt0188268
2022-08-13 17:33:26,952 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-6] https://www.omdbapi.com/?apikey=417758d8&i=tt3715598
2022-08-13 17:33:27,603 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-6] https://www.omdbapi.com/?apikey=417758d8&i=tt0042791
2022-08-13 17:33:27,791 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-6] https://www.omdbapi.com/?apikey=417758d8&i=tt1583389
2022-08-13 17:33:27,968 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-6] Finishing scheduled task to load movies.
2022-08-13 17:35:40,501 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting MoviesBattleApplication on DESKTOP-EKRMV67 with PID 12616 (D:\projetos\ada\movies-battle\target\classes started by guibe in D:\projetos\ada\movies-battle)
2022-08-13 17:35:40,506 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.3.1.RELEASE, Spring v5.2.7.RELEASE
2022-08-13 17:35:40,506 INFO org.springframework.boot.SpringApplication [restartedMain] The following profiles are active: dev
2022-08-13 17:35:40,572 INFO org.springframework.boot.logging.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-08-13 17:35:40,572 INFO org.springframework.boot.logging.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-08-13 17:35:41,799 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2022-08-13 17:35:41,870 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 63ms. Found 3 JPA repository interfaces.
2022-08-13 17:35:42,458 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8080 (http)
2022-08-13 17:35:42,465 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8080"]
2022-08-13 17:35:42,466 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2022-08-13 17:35:42,466 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.36]
2022-08-13 17:35:42,582 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2022-08-13 17:35:42,583 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 2010 ms
2022-08-13 17:35:42,708 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2022-08-13 17:35:42,805 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2022-08-13 17:35:42,810 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [restartedMain] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:alura-forum'
2022-08-13 17:35:42,874 INFO org.springframework.boot.actuate.endpoint.web.ServletEndpointRegistrar [restartedMain] Registered '/actuator/jolokia' to jolokia-actuator-endpoint
2022-08-13 17:35:42,960 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2022-08-13 17:35:42,969 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'taskScheduler'
2022-08-13 17:35:43,003 INFO org.hibernate.jpa.internal.util.LogHelper [task-1] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-08-13 17:35:43,047 INFO org.hibernate.Version [task-1] HHH000412: Hibernate ORM core version 5.4.17.Final
2022-08-13 17:35:43,063 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-08-13 17:35:43,142 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [task-1] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2022-08-13 17:35:43,253 INFO org.hibernate.dialect.Dialect [task-1] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-08-13 17:35:43,413 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [restartedMain] Exposing 14 endpoint(s) beneath base path '/actuator'
2022-08-13 17:35:43,575 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@54de9865, org.springframework.security.web.context.SecurityContextPersistenceFilter@2ca2172a, org.springframework.security.web.header.HeaderWriterFilter@7b1fd75d, org.springframework.security.web.authentication.logout.LogoutFilter@529e90d3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@559ed886, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f60602c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3eed4a51, org.springframework.security.web.session.SessionManagementFilter@3e256336, org.springframework.security.web.access.ExceptionTranslationFilter@760a49fd, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3d6f0eef]
2022-08-13 17:35:43,637 INFO springfox.documentation.spring.web.PropertySourcedRequestMappingHandlerMapping [restartedMain] Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2022-08-13 17:35:43,756 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2022-08-13 17:35:43,900 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService
2022-08-13 17:35:44,004 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [task-1] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-08-13 17:35:44,012 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [task-1] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-08-13 17:35:44,092 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8080"]
2022-08-13 17:35:44,117 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8080 (http) with context path ''
2022-08-13 17:35:44,118 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [restartedMain] Context refreshed
2022-08-13 17:35:44,132 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [restartedMain] Found 1 custom documentation plugin(s)
2022-08-13 17:35:44,165 INFO springfox.documentation.spring.web.scanners.ApiListingReferenceScanner [restartedMain] Scanning for api listing references
2022-08-13 17:35:44,176 INFO org.springframework.data.repository.config.DeferredRepositoryInitializationListener [restartedMain] Triggering deferred initialization of Spring Data repositoriesâ€¦
2022-08-13 17:35:44,461 INFO org.springframework.data.repository.config.DeferredRepositoryInitializationListener [restartedMain] Spring Data repositories initialized!
2022-08-13 17:35:44,473 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started MoviesBattleApplication in 4.228 seconds (JVM running for 5.512)
2022-08-13 17:35:44,477 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-3] Starting scheduled task to load movies.
2022-08-13 17:35:46,335 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(10)-127.0.0.1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-08-13 17:35:46,335 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(10)-127.0.0.1] Initializing Servlet 'dispatcherServlet'
2022-08-13 17:35:46,341 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(10)-127.0.0.1] Completed initialization in 6 ms
2022-08-13 17:35:46,524 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=consumed
2022-08-13 17:35:46,569 WARN de.codecentric.boot.admin.client.registration.ApplicationRegistrator [registrationTask1] Failed to register application as Application(name=spring-boot-application, managementUrl=http://DESKTOP-EKRMV67:8080/actuator, healthUrl=http://DESKTOP-EKRMV67:8080/actuator/health, serviceUrl=http://DESKTOP-EKRMV67:8080/) at spring-boot-admin ([http://localhost:8081/instances]): I/O error on POST request for "http://localhost:8081/instances": Connection refused: connect; nested exception is java.net.ConnectException: Connection refused: connect. Further attempts are logged on DEBUG level
2022-08-13 17:35:47,268 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt3760966
2022-08-13 17:35:47,949 ERROR org.springframework.aop.interceptor.SimpleAsyncUncaughtExceptionHandler [task-3] Unexpected exception occurred invoking async method: public void br.com.ada.moviesbattle.scheduled.LoadMovieTask.loadMovies() throws java.lang.Exception
org.springframework.web.client.RestClientException: Error while extracting response for type [class br.com.ada.moviesbattle.dto.MovieDto] and content type [application/json;charset=utf-8]; nested exception is org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot deserialize value of type `int` from String "1,717": not a valid Integer value; nested exception is com.fasterxml.jackson.databind.exc.InvalidFormatException: Cannot deserialize value of type `int` from String "1,717": not a valid Integer value
 at [Source: (PushbackInputStream); line: 1, column: 774] (through reference chain: br.com.ada.moviesbattle.dto.MovieDto["imdbVotes"])
	at org.springframework.web.client.HttpMessageConverterExtractor.extractData(HttpMessageConverterExtractor.java:120)
	at org.springframework.web.client.RestTemplate$ResponseEntityResponseExtractor.extractData(RestTemplate.java:998)
	at org.springframework.web.client.RestTemplate$ResponseEntityResponseExtractor.extractData(RestTemplate.java:981)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:741)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:674)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:342)
	at br.com.ada.moviesbattle.service.OmdbServiceImpl.getMovieDetail(OmdbServiceImpl.java:58)
	at br.com.ada.moviesbattle.service.MovieServiceImpl.loadMovies(MovieServiceImpl.java:25)
	at br.com.ada.moviesbattle.scheduled.LoadMovieTask.loadMovies(LoadMovieTask.java:28)
	at br.com.ada.moviesbattle.scheduled.LoadMovieTask$$FastClassBySpringCGLIB$$2cb165b6.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:834)
Caused by: org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot deserialize value of type `int` from String "1,717": not a valid Integer value; nested exception is com.fasterxml.jackson.databind.exc.InvalidFormatException: Cannot deserialize value of type `int` from String "1,717": not a valid Integer value
 at [Source: (PushbackInputStream); line: 1, column: 774] (through reference chain: br.com.ada.moviesbattle.dto.MovieDto["imdbVotes"])
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.readJavaType(AbstractJackson2HttpMessageConverter.java:275)
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.read(AbstractJackson2HttpMessageConverter.java:257)
	at org.springframework.web.client.HttpMessageConverterExtractor.extractData(HttpMessageConverterExtractor.java:105)
	... 18 common frames omitted
Caused by: com.fasterxml.jackson.databind.exc.InvalidFormatException: Cannot deserialize value of type `int` from String "1,717": not a valid Integer value
 at [Source: (PushbackInputStream); line: 1, column: 774] (through reference chain: br.com.ada.moviesbattle.dto.MovieDto["imdbVotes"])
	at com.fasterxml.jackson.databind.exc.InvalidFormatException.from(InvalidFormatException.java:67)
	at com.fasterxml.jackson.databind.DeserializationContext.weirdStringException(DeserializationContext.java:1698)
	at com.fasterxml.jackson.databind.DeserializationContext.handleWeirdStringValue(DeserializationContext.java:947)
	at com.fasterxml.jackson.databind.deser.std.NumberDeserializers$IntegerDeserializer._parseInteger(NumberDeserializers.java:527)
	at com.fasterxml.jackson.databind.deser.std.NumberDeserializers$IntegerDeserializer.deserialize(NumberDeserializers.java:479)
	at com.fasterxml.jackson.databind.deser.std.NumberDeserializers$IntegerDeserializer.deserialize(NumberDeserializers.java:457)
	at com.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:129)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserializeFromObject(BeanDeserializer.java:371)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:164)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4482)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3487)
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.readJavaType(AbstractJackson2HttpMessageConverter.java:269)
	... 20 common frames omitted
2022-08-13 17:35:54,482 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-4] Starting scheduled task to load movies.
2022-08-13 17:35:54,487 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=akhenaten
2022-08-13 17:35:55,159 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt11460682
2022-08-13 17:35:55,763 ERROR org.springframework.aop.interceptor.SimpleAsyncUncaughtExceptionHandler [task-4] Unexpected exception occurred invoking async method: public void br.com.ada.moviesbattle.scheduled.LoadMovieTask.loadMovies() throws java.lang.Exception
org.springframework.web.client.RestClientException: Error while extracting response for type [class br.com.ada.moviesbattle.dto.MovieDto] and content type [application/json;charset=utf-8]; nested exception is org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot deserialize value of type `float` from String "N/A": not a valid Float value; nested exception is com.fasterxml.jackson.databind.exc.InvalidFormatException: Cannot deserialize value of type `float` from String "N/A": not a valid Float value
 at [Source: (PushbackInputStream); line: 1, column: 706] (through reference chain: br.com.ada.moviesbattle.dto.MovieDto["imdbRating"])
	at org.springframework.web.client.HttpMessageConverterExtractor.extractData(HttpMessageConverterExtractor.java:120)
	at org.springframework.web.client.RestTemplate$ResponseEntityResponseExtractor.extractData(RestTemplate.java:998)
	at org.springframework.web.client.RestTemplate$ResponseEntityResponseExtractor.extractData(RestTemplate.java:981)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:741)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:674)
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:342)
	at br.com.ada.moviesbattle.service.OmdbServiceImpl.getMovieDetail(OmdbServiceImpl.java:58)
	at br.com.ada.moviesbattle.service.MovieServiceImpl.loadMovies(MovieServiceImpl.java:25)
	at br.com.ada.moviesbattle.scheduled.LoadMovieTask.loadMovies(LoadMovieTask.java:28)
	at br.com.ada.moviesbattle.scheduled.LoadMovieTask$$FastClassBySpringCGLIB$$2cb165b6.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:834)
Caused by: org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot deserialize value of type `float` from String "N/A": not a valid Float value; nested exception is com.fasterxml.jackson.databind.exc.InvalidFormatException: Cannot deserialize value of type `float` from String "N/A": not a valid Float value
 at [Source: (PushbackInputStream); line: 1, column: 706] (through reference chain: br.com.ada.moviesbattle.dto.MovieDto["imdbRating"])
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.readJavaType(AbstractJackson2HttpMessageConverter.java:275)
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.read(AbstractJackson2HttpMessageConverter.java:257)
	at org.springframework.web.client.HttpMessageConverterExtractor.extractData(HttpMessageConverterExtractor.java:105)
	... 18 common frames omitted
Caused by: com.fasterxml.jackson.databind.exc.InvalidFormatException: Cannot deserialize value of type `float` from String "N/A": not a valid Float value
 at [Source: (PushbackInputStream); line: 1, column: 706] (through reference chain: br.com.ada.moviesbattle.dto.MovieDto["imdbRating"])
	at com.fasterxml.jackson.databind.exc.InvalidFormatException.from(InvalidFormatException.java:67)
	at com.fasterxml.jackson.databind.DeserializationContext.weirdStringException(DeserializationContext.java:1698)
	at com.fasterxml.jackson.databind.DeserializationContext.handleWeirdStringValue(DeserializationContext.java:947)
	at com.fasterxml.jackson.databind.deser.std.NumberDeserializers$FloatDeserializer._parseFloat(NumberDeserializers.java:660)
	at com.fasterxml.jackson.databind.deser.std.NumberDeserializers$FloatDeserializer.deserialize(NumberDeserializers.java:618)
	at com.fasterxml.jackson.databind.deser.std.NumberDeserializers$FloatDeserializer.deserialize(NumberDeserializers.java:602)
	at com.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:129)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserializeFromObject(BeanDeserializer.java:371)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:164)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4482)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3487)
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.readJavaType(AbstractJackson2HttpMessageConverter.java:269)
	... 20 common frames omitted
2022-08-13 17:35:58,018 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(8)-127.0.0.1] Application shutdown requested.
2022-08-13 17:35:58,398 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [RMI TCP Connection(8)-127.0.0.1] Shutting down ExecutorService
2022-08-13 17:35:58,400 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [RMI TCP Connection(8)-127.0.0.1] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-08-13 17:35:58,402 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [RMI TCP Connection(8)-127.0.0.1] Shutting down ExecutorService 'taskScheduler'
2022-08-13 17:35:58,403 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [RMI TCP Connection(8)-127.0.0.1] Shutting down ExecutorService 'applicationTaskExecutor'
2022-08-13 17:35:58,618 WARN org.springframework.beans.factory.support.DisposableBeanAdapter [RMI TCP Connection(8)-127.0.0.1] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2022-08-13 17:35:58,619 INFO com.zaxxer.hikari.HikariDataSource [RMI TCP Connection(8)-127.0.0.1] HikariPool-1 - Shutdown initiated...
2022-08-13 17:35:58,622 INFO com.zaxxer.hikari.HikariDataSource [RMI TCP Connection(8)-127.0.0.1] HikariPool-1 - Shutdown completed.
2022-08-13 18:12:17,103 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting MoviesBattleApplication on DESKTOP-EKRMV67 with PID 31564 (D:\projetos\ada\movies-battle\target\classes started by guibe in D:\projetos\ada\movies-battle)
2022-08-13 18:12:17,107 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.3.1.RELEASE, Spring v5.2.7.RELEASE
2022-08-13 18:12:17,107 INFO org.springframework.boot.SpringApplication [restartedMain] The following profiles are active: dev
2022-08-13 18:12:17,150 INFO org.springframework.boot.logging.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-08-13 18:12:17,150 INFO org.springframework.boot.logging.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-08-13 18:12:18,359 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2022-08-13 18:12:18,418 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 53ms. Found 4 JPA repository interfaces.
2022-08-13 18:12:18,990 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8080 (http)
2022-08-13 18:12:18,997 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8080"]
2022-08-13 18:12:18,998 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2022-08-13 18:12:18,998 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.36]
2022-08-13 18:12:19,118 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2022-08-13 18:12:19,118 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 1968 ms
2022-08-13 18:12:19,235 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2022-08-13 18:12:19,321 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2022-08-13 18:12:19,326 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [restartedMain] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:alura-forum'
2022-08-13 18:12:19,385 INFO org.springframework.boot.actuate.endpoint.web.ServletEndpointRegistrar [restartedMain] Registered '/actuator/jolokia' to jolokia-actuator-endpoint
2022-08-13 18:12:19,454 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2022-08-13 18:12:19,464 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'taskScheduler'
2022-08-13 18:12:19,495 INFO org.hibernate.jpa.internal.util.LogHelper [task-1] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-08-13 18:12:19,533 INFO org.hibernate.Version [task-1] HHH000412: Hibernate ORM core version 5.4.17.Final
2022-08-13 18:12:19,555 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-08-13 18:12:19,626 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [task-1] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2022-08-13 18:12:19,719 INFO org.hibernate.dialect.Dialect [task-1] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-08-13 18:12:19,891 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [restartedMain] Exposing 14 endpoint(s) beneath base path '/actuator'
2022-08-13 18:12:20,101 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7cdc3107, org.springframework.security.web.context.SecurityContextPersistenceFilter@654d38aa, org.springframework.security.web.header.HeaderWriterFilter@4541df24, org.springframework.security.web.authentication.logout.LogoutFilter@21153663, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@31dc8e47, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1eb9603b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7beb9422, org.springframework.security.web.session.SessionManagementFilter@5aa05194, org.springframework.security.web.access.ExceptionTranslationFilter@24e857ec, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7179c19f]
2022-08-13 18:12:20,142 INFO springfox.documentation.spring.web.PropertySourcedRequestMappingHandlerMapping [restartedMain] Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2022-08-13 18:12:20,240 INFO org.hibernate.tuple.PojoInstantiator [task-1] HHH000182: No default (no-argument) constructor for class: br.com.ada.moviesbattle.modelo.Movie (class must be instantiated by Interceptor)
2022-08-13 18:12:20,261 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2022-08-13 18:12:20,406 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService
2022-08-13 18:12:20,422 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [task-1] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-08-13 18:12:20,428 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [task-1] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-08-13 18:12:20,528 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8080"]
2022-08-13 18:12:20,548 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8080 (http) with context path ''
2022-08-13 18:12:20,550 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [restartedMain] Context refreshed
2022-08-13 18:12:20,564 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [restartedMain] Found 1 custom documentation plugin(s)
2022-08-13 18:12:20,596 INFO springfox.documentation.spring.web.scanners.ApiListingReferenceScanner [restartedMain] Scanning for api listing references
2022-08-13 18:12:20,607 INFO org.springframework.data.repository.config.DeferredRepositoryInitializationListener [restartedMain] Triggering deferred initialization of Spring Data repositoriesâ€¦
2022-08-13 18:12:20,873 INFO org.springframework.data.repository.config.DeferredRepositoryInitializationListener [restartedMain] Spring Data repositories initialized!
2022-08-13 18:12:20,885 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started MoviesBattleApplication in 4.023 seconds (JVM running for 5.316)
2022-08-13 18:12:20,888 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-3] Starting scheduled task to load movies.
2022-08-13 18:12:22,701 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(3)-127.0.0.1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-08-13 18:12:22,701 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(3)-127.0.0.1] Initializing Servlet 'dispatcherServlet'
2022-08-13 18:12:22,707 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(3)-127.0.0.1] Completed initialization in 5 ms
2022-08-13 18:12:22,917 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=handicapped
2022-08-13 18:12:23,002 WARN de.codecentric.boot.admin.client.registration.ApplicationRegistrator [registrationTask1] Failed to register application as Application(name=spring-boot-application, managementUrl=http://DESKTOP-EKRMV67:8080/actuator, healthUrl=http://DESKTOP-EKRMV67:8080/actuator/health, serviceUrl=http://DESKTOP-EKRMV67:8080/) at spring-boot-admin ([http://localhost:8081/instances]): I/O error on POST request for "http://localhost:8081/instances": Connection refused: connect; nested exception is java.net.ConnectException: Connection refused: connect. Further attempts are logged on DEBUG level
2022-08-13 18:12:23,732 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt0091570
2022-08-13 18:12:23,989 ERROR org.springframework.aop.interceptor.SimpleAsyncUncaughtExceptionHandler [task-3] Unexpected exception occurred invoking async method: public void br.com.ada.moviesbattle.scheduled.LoadMovieTask.loadMovies() throws java.lang.Exception
org.springframework.orm.jpa.JpaSystemException: No default constructor for entity:  : br.com.ada.moviesbattle.modelo.Movie; nested exception is org.hibernate.InstantiationException: No default constructor for entity:  : br.com.ada.moviesbattle.modelo.Movie
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:353)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:255)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:528)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:153)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:178)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:95)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)
	at com.sun.proxy.$Proxy164.save(Unknown Source)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:205)
	at com.sun.proxy.$Proxy102.save(Unknown Source)
	at br.com.ada.moviesbattle.service.MovieServiceImpl.loadMovies(MovieServiceImpl.java:35)
	at br.com.ada.moviesbattle.scheduled.LoadMovieTask.loadMovies(LoadMovieTask.java:28)
	at br.com.ada.moviesbattle.scheduled.LoadMovieTask$$FastClassBySpringCGLIB$$2cb165b6.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:834)
Caused by: org.hibernate.InstantiationException: No default constructor for entity:  : br.com.ada.moviesbattle.modelo.Movie
	at org.hibernate.tuple.PojoInstantiator.instantiate(PojoInstantiator.java:85)
	at org.hibernate.tuple.PojoInstantiator.instantiate(PojoInstantiator.java:105)
	at org.hibernate.tuple.entity.AbstractEntityTuplizer.instantiate(AbstractEntityTuplizer.java:704)
	at org.hibernate.persister.entity.AbstractEntityPersister.instantiate(AbstractEntityPersister.java:5162)
	at org.hibernate.internal.SessionImpl.instantiate(SessionImpl.java:1596)
	at org.hibernate.event.internal.DefaultMergeEventListener.entityIsTransient(DefaultMergeEventListener.java:231)
	at org.hibernate.event.internal.DefaultMergeEventListener.entityIsDetached(DefaultMergeEventListener.java:318)
	at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:172)
	at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:70)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:102)
	at org.hibernate.internal.SessionImpl.fireMerge(SessionImpl.java:791)
	at org.hibernate.internal.SessionImpl.merge(SessionImpl.java:778)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:314)
	at com.sun.proxy.$Proxy161.merge(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:557)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.data.repository.core.support.ImplementationInvocationMetadata.invoke(ImplementationInvocationMetadata.java:72)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:382)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:205)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:549)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:155)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:130)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:367)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:118)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)
	... 26 common frames omitted
2022-08-13 18:12:27,473 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(2)-127.0.0.1] Application shutdown requested.
2022-08-13 18:12:27,869 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [RMI TCP Connection(2)-127.0.0.1] Shutting down ExecutorService
2022-08-13 18:12:27,872 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [RMI TCP Connection(2)-127.0.0.1] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-08-13 18:12:27,875 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [RMI TCP Connection(2)-127.0.0.1] Shutting down ExecutorService 'taskScheduler'
2022-08-13 18:12:27,875 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [RMI TCP Connection(2)-127.0.0.1] Shutting down ExecutorService 'applicationTaskExecutor'
2022-08-13 18:12:28,095 WARN org.springframework.beans.factory.support.DisposableBeanAdapter [RMI TCP Connection(2)-127.0.0.1] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2022-08-13 18:12:28,095 INFO com.zaxxer.hikari.HikariDataSource [RMI TCP Connection(2)-127.0.0.1] HikariPool-1 - Shutdown initiated...
2022-08-13 18:12:28,098 INFO com.zaxxer.hikari.HikariDataSource [RMI TCP Connection(2)-127.0.0.1] HikariPool-1 - Shutdown completed.
2022-08-13 18:14:44,482 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting MoviesBattleApplication on DESKTOP-EKRMV67 with PID 30232 (D:\projetos\ada\movies-battle\target\classes started by guibe in D:\projetos\ada\movies-battle)
2022-08-13 18:14:44,486 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.3.1.RELEASE, Spring v5.2.7.RELEASE
2022-08-13 18:14:44,487 INFO org.springframework.boot.SpringApplication [restartedMain] The following profiles are active: dev
2022-08-13 18:14:44,530 INFO org.springframework.boot.logging.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-08-13 18:14:44,530 INFO org.springframework.boot.logging.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-08-13 18:14:45,711 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2022-08-13 18:14:45,770 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 53ms. Found 4 JPA repository interfaces.
2022-08-13 18:14:46,316 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8080 (http)
2022-08-13 18:14:46,324 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8080"]
2022-08-13 18:14:46,324 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2022-08-13 18:14:46,325 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.36]
2022-08-13 18:14:46,438 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2022-08-13 18:14:46,438 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 1908 ms
2022-08-13 18:14:46,555 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2022-08-13 18:14:46,642 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2022-08-13 18:14:46,648 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [restartedMain] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:alura-forum'
2022-08-13 18:14:46,710 INFO org.springframework.boot.actuate.endpoint.web.ServletEndpointRegistrar [restartedMain] Registered '/actuator/jolokia' to jolokia-actuator-endpoint
2022-08-13 18:14:46,784 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2022-08-13 18:14:46,794 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'taskScheduler'
2022-08-13 18:14:46,827 INFO org.hibernate.jpa.internal.util.LogHelper [task-1] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-08-13 18:14:46,867 INFO org.hibernate.Version [task-1] HHH000412: Hibernate ORM core version 5.4.17.Final
2022-08-13 18:14:46,884 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-08-13 18:14:46,959 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [task-1] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2022-08-13 18:14:47,056 INFO org.hibernate.dialect.Dialect [task-1] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-08-13 18:14:47,217 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [restartedMain] Exposing 14 endpoint(s) beneath base path '/actuator'
2022-08-13 18:14:47,382 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@c79fe2f, org.springframework.security.web.context.SecurityContextPersistenceFilter@75d129ae, org.springframework.security.web.header.HeaderWriterFilter@61d0e75b, org.springframework.security.web.authentication.logout.LogoutFilter@517257ce, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3446aa36, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6d5befdd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@14172df4, org.springframework.security.web.session.SessionManagementFilter@1f08a6bf, org.springframework.security.web.access.ExceptionTranslationFilter@7c3161c0, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7aa8c762]
2022-08-13 18:14:47,427 INFO springfox.documentation.spring.web.PropertySourcedRequestMappingHandlerMapping [restartedMain] Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2022-08-13 18:14:47,545 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2022-08-13 18:14:47,668 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService
2022-08-13 18:14:47,734 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [task-1] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-08-13 18:14:47,741 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [task-1] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-08-13 18:14:47,808 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8080"]
2022-08-13 18:14:47,830 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8080 (http) with context path ''
2022-08-13 18:14:47,832 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [restartedMain] Context refreshed
2022-08-13 18:14:47,848 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [restartedMain] Found 1 custom documentation plugin(s)
2022-08-13 18:14:47,879 INFO springfox.documentation.spring.web.scanners.ApiListingReferenceScanner [restartedMain] Scanning for api listing references
2022-08-13 18:14:47,889 INFO org.springframework.data.repository.config.DeferredRepositoryInitializationListener [restartedMain] Triggering deferred initialization of Spring Data repositoriesâ€¦
2022-08-13 18:14:48,158 INFO org.springframework.data.repository.config.DeferredRepositoryInitializationListener [restartedMain] Spring Data repositories initialized!
2022-08-13 18:14:48,171 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started MoviesBattleApplication in 3.92 seconds (JVM running for 5.198)
2022-08-13 18:14:48,174 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-3] Starting scheduled task to load movies.
2022-08-13 18:14:50,250 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(3)-127.0.0.1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-08-13 18:14:50,250 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(3)-127.0.0.1] Initializing Servlet 'dispatcherServlet'
2022-08-13 18:14:50,256 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(3)-127.0.0.1] Completed initialization in 6 ms
2022-08-13 18:14:50,260 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=hair
2022-08-13 18:14:50,281 WARN de.codecentric.boot.admin.client.registration.ApplicationRegistrator [registrationTask1] Failed to register application as Application(name=spring-boot-application, managementUrl=http://DESKTOP-EKRMV67:8080/actuator, healthUrl=http://DESKTOP-EKRMV67:8080/actuator/health, serviceUrl=http://DESKTOP-EKRMV67:8080/) at spring-boot-admin ([http://localhost:8081/instances]): I/O error on POST request for "http://localhost:8081/instances": Connection refused: connect; nested exception is java.net.ConnectException: Connection refused: connect. Further attempts are logged on DEBUG level
2022-08-13 18:14:51,032 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt0079261
2022-08-13 18:14:51,658 ERROR org.springframework.aop.interceptor.SimpleAsyncUncaughtExceptionHandler [task-3] Unexpected exception occurred invoking async method: public void br.com.ada.moviesbattle.scheduled.LoadMovieTask.loadMovies() throws java.lang.Exception
java.lang.NumberFormatException: For input string: "37,609"
	at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)
	at java.base/java.lang.Integer.parseInt(Integer.java:652)
	at java.base/java.lang.Integer.valueOf(Integer.java:983)
	at br.com.ada.moviesbattle.dto.MovieDto.convert(MovieDto.java:33)
	at br.com.ada.moviesbattle.service.MovieServiceImpl.loadMovies(MovieServiceImpl.java:35)
	at br.com.ada.moviesbattle.scheduled.LoadMovieTask.loadMovies(LoadMovieTask.java:28)
	at br.com.ada.moviesbattle.scheduled.LoadMovieTask$$FastClassBySpringCGLIB$$2cb165b6.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:834)
2022-08-13 18:14:55,890 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(8)-127.0.0.1] Application shutdown requested.
2022-08-13 18:14:56,273 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [RMI TCP Connection(8)-127.0.0.1] Shutting down ExecutorService
2022-08-13 18:14:56,276 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [RMI TCP Connection(8)-127.0.0.1] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-08-13 18:14:56,278 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [RMI TCP Connection(8)-127.0.0.1] Shutting down ExecutorService 'taskScheduler'
2022-08-13 18:14:56,278 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [RMI TCP Connection(8)-127.0.0.1] Shutting down ExecutorService 'applicationTaskExecutor'
2022-08-13 18:14:56,487 WARN org.springframework.beans.factory.support.DisposableBeanAdapter [RMI TCP Connection(8)-127.0.0.1] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2022-08-13 18:14:56,488 INFO com.zaxxer.hikari.HikariDataSource [RMI TCP Connection(8)-127.0.0.1] HikariPool-1 - Shutdown initiated...
2022-08-13 18:14:56,491 INFO com.zaxxer.hikari.HikariDataSource [RMI TCP Connection(8)-127.0.0.1] HikariPool-1 - Shutdown completed.
2022-08-13 18:16:25,185 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting MoviesBattleApplication on DESKTOP-EKRMV67 with PID 30092 (D:\projetos\ada\movies-battle\target\classes started by guibe in D:\projetos\ada\movies-battle)
2022-08-13 18:16:25,189 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.3.1.RELEASE, Spring v5.2.7.RELEASE
2022-08-13 18:16:25,189 INFO org.springframework.boot.SpringApplication [restartedMain] The following profiles are active: dev
2022-08-13 18:16:25,229 INFO org.springframework.boot.logging.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-08-13 18:16:25,229 INFO org.springframework.boot.logging.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-08-13 18:16:26,391 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2022-08-13 18:16:26,451 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 54ms. Found 4 JPA repository interfaces.
2022-08-13 18:16:27,009 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8080 (http)
2022-08-13 18:16:27,016 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8080"]
2022-08-13 18:16:27,017 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2022-08-13 18:16:27,017 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.36]
2022-08-13 18:16:27,137 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2022-08-13 18:16:27,137 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 1908 ms
2022-08-13 18:16:27,254 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2022-08-13 18:16:27,343 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2022-08-13 18:16:27,348 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [restartedMain] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:alura-forum'
2022-08-13 18:16:27,409 INFO org.springframework.boot.actuate.endpoint.web.ServletEndpointRegistrar [restartedMain] Registered '/actuator/jolokia' to jolokia-actuator-endpoint
2022-08-13 18:16:27,483 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2022-08-13 18:16:27,494 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'taskScheduler'
2022-08-13 18:16:27,525 INFO org.hibernate.jpa.internal.util.LogHelper [task-1] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-08-13 18:16:27,565 INFO org.hibernate.Version [task-1] HHH000412: Hibernate ORM core version 5.4.17.Final
2022-08-13 18:16:27,577 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-08-13 18:16:27,657 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [task-1] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2022-08-13 18:16:27,750 INFO org.hibernate.dialect.Dialect [task-1] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-08-13 18:16:27,914 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [restartedMain] Exposing 14 endpoint(s) beneath base path '/actuator'
2022-08-13 18:16:28,093 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7ffb0afd, org.springframework.security.web.context.SecurityContextPersistenceFilter@2dd02162, org.springframework.security.web.header.HeaderWriterFilter@6d128d57, org.springframework.security.web.authentication.logout.LogoutFilter@59d1bacd, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6f1adf28, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@29d5ecc7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@50a761e8, org.springframework.security.web.session.SessionManagementFilter@69dfccee, org.springframework.security.web.access.ExceptionTranslationFilter@52dbb670, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3b623898]
2022-08-13 18:16:28,133 INFO springfox.documentation.spring.web.PropertySourcedRequestMappingHandlerMapping [restartedMain] Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2022-08-13 18:16:28,250 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2022-08-13 18:16:28,371 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService
2022-08-13 18:16:28,427 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [task-1] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-08-13 18:16:28,434 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [task-1] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-08-13 18:16:28,499 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8080"]
2022-08-13 18:16:28,519 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8080 (http) with context path ''
2022-08-13 18:16:28,520 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [restartedMain] Context refreshed
2022-08-13 18:16:28,533 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [restartedMain] Found 1 custom documentation plugin(s)
2022-08-13 18:16:28,566 INFO springfox.documentation.spring.web.scanners.ApiListingReferenceScanner [restartedMain] Scanning for api listing references
2022-08-13 18:16:28,576 INFO org.springframework.data.repository.config.DeferredRepositoryInitializationListener [restartedMain] Triggering deferred initialization of Spring Data repositoriesâ€¦
2022-08-13 18:16:28,834 INFO org.springframework.data.repository.config.DeferredRepositoryInitializationListener [restartedMain] Spring Data repositories initialized!
2022-08-13 18:16:28,847 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started MoviesBattleApplication in 3.894 seconds (JVM running for 5.179)
2022-08-13 18:16:28,849 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-3] Starting scheduled task to load movies.
2022-08-13 18:16:30,592 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(10)-127.0.0.1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-08-13 18:16:30,592 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(10)-127.0.0.1] Initializing Servlet 'dispatcherServlet'
2022-08-13 18:16:30,599 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(10)-127.0.0.1] Completed initialization in 6 ms
2022-08-13 18:16:30,897 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=theravada
2022-08-13 18:16:30,977 WARN de.codecentric.boot.admin.client.registration.ApplicationRegistrator [registrationTask1] Failed to register application as Application(name=spring-boot-application, managementUrl=http://DESKTOP-EKRMV67:8080/actuator, healthUrl=http://DESKTOP-EKRMV67:8080/actuator/health, serviceUrl=http://DESKTOP-EKRMV67:8080/) at spring-boot-admin ([http://localhost:8081/instances]): I/O error on POST request for "http://localhost:8081/instances": Connection refused: connect; nested exception is java.net.ConnectException: Connection refused: connect. Further attempts are logged on DEBUG level
2022-08-13 18:16:31,674 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=spread
2022-08-13 18:16:32,343 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt1186370
2022-08-13 18:16:32,595 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt10204940
2022-08-13 18:16:33,229 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt0079552
2022-08-13 18:16:33,457 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt6729862
2022-08-13 18:16:34,104 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt0262016
2022-08-13 18:16:34,755 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt7243568
2022-08-13 18:16:35,407 ERROR org.springframework.aop.interceptor.SimpleAsyncUncaughtExceptionHandler [task-3] Unexpected exception occurred invoking async method: public void br.com.ada.moviesbattle.scheduled.LoadMovieTask.loadMovies() throws java.lang.Exception
java.lang.NumberFormatException: For input string: "N/A"
	at java.base/jdk.internal.math.FloatingDecimal.readJavaFormatString(FloatingDecimal.java:2054)
	at java.base/jdk.internal.math.FloatingDecimal.parseFloat(FloatingDecimal.java:122)
	at java.base/java.lang.Float.parseFloat(Float.java:455)
	at java.base/java.lang.Float.valueOf(Float.java:419)
	at br.com.ada.moviesbattle.dto.MovieDto.convert(MovieDto.java:36)
	at br.com.ada.moviesbattle.service.MovieServiceImpl.loadMovies(MovieServiceImpl.java:35)
	at br.com.ada.moviesbattle.scheduled.LoadMovieTask.loadMovies(LoadMovieTask.java:28)
	at br.com.ada.moviesbattle.scheduled.LoadMovieTask$$FastClassBySpringCGLIB$$2cb165b6.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:834)
2022-08-13 18:16:38,859 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-4] Starting scheduled task to load movies.
2022-08-13 18:16:38,861 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=belarus
2022-08-13 18:16:39,491 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt2723138
2022-08-13 18:16:39,691 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt0089434
2022-08-13 18:16:40,299 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt2395465
2022-08-13 18:16:40,923 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt10355290
2022-08-13 18:16:41,599 ERROR org.springframework.aop.interceptor.SimpleAsyncUncaughtExceptionHandler [task-4] Unexpected exception occurred invoking async method: public void br.com.ada.moviesbattle.scheduled.LoadMovieTask.loadMovies() throws java.lang.Exception
java.lang.NumberFormatException: For input string: "N/A"
	at java.base/jdk.internal.math.FloatingDecimal.readJavaFormatString(FloatingDecimal.java:2054)
	at java.base/jdk.internal.math.FloatingDecimal.parseFloat(FloatingDecimal.java:122)
	at java.base/java.lang.Float.parseFloat(Float.java:455)
	at java.base/java.lang.Float.valueOf(Float.java:419)
	at br.com.ada.moviesbattle.dto.MovieDto.convert(MovieDto.java:36)
	at br.com.ada.moviesbattle.service.MovieServiceImpl.loadMovies(MovieServiceImpl.java:35)
	at br.com.ada.moviesbattle.scheduled.LoadMovieTask.loadMovies(LoadMovieTask.java:28)
	at br.com.ada.moviesbattle.scheduled.LoadMovieTask$$FastClassBySpringCGLIB$$2cb165b6.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:834)
2022-08-13 18:16:48,870 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-5] Starting scheduled task to load movies.
2022-08-13 18:16:48,880 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-5] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=datums
2022-08-13 18:16:49,488 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(9)-127.0.0.1] Application shutdown requested.
2022-08-13 18:16:49,615 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-5] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=direct
2022-08-13 18:16:49,907 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [RMI TCP Connection(9)-127.0.0.1] Shutting down ExecutorService
2022-08-13 18:16:49,910 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [RMI TCP Connection(9)-127.0.0.1] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-08-13 18:16:49,913 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [RMI TCP Connection(9)-127.0.0.1] Shutting down ExecutorService 'taskScheduler'
2022-08-13 18:16:49,913 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [RMI TCP Connection(9)-127.0.0.1] Shutting down ExecutorService 'applicationTaskExecutor'
2022-08-13 18:16:50,126 WARN org.springframework.beans.factory.support.DisposableBeanAdapter [RMI TCP Connection(9)-127.0.0.1] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2022-08-13 18:16:50,126 INFO com.zaxxer.hikari.HikariDataSource [RMI TCP Connection(9)-127.0.0.1] HikariPool-1 - Shutdown initiated...
2022-08-13 18:16:50,130 INFO com.zaxxer.hikari.HikariDataSource [RMI TCP Connection(9)-127.0.0.1] HikariPool-1 - Shutdown completed.
2022-08-13 18:16:50,245 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-5] https://www.omdbapi.com/?apikey=417758d8&i=tt1182609
2022-08-13 18:16:50,867 ERROR org.springframework.aop.interceptor.SimpleAsyncUncaughtExceptionHandler [task-5] Unexpected exception occurred invoking async method: public void br.com.ada.moviesbattle.scheduled.LoadMovieTask.loadMovies() throws java.lang.Exception
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'movieRepository' defined in br.com.ada.moviesbattle.repository.MovieRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot create inner bean '(inner bean)#14e0b4e9' of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#14e0b4e9': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.boot.context.properties.ConfigurationPropertiesBindException: Error creating bean with name 'spring.cache-org.springframework.boot.autoconfigure.cache.CacheProperties': Could not bind properties to 'CacheProperties' : prefix=spring.cache, ignoreInvalidFields=false, ignoreUnknownFields=true; nested exception is java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@2c20fcad has been closed already
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:389)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:134)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1699)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1444)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:594)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1304)
	at org.springframework.context.annotation.ContextAnnotationAutowireCandidateResolver$1.getTarget(ContextAnnotationAutowireCandidateResolver.java:90)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:192)
	at com.sun.proxy.$Proxy102.save(Unknown Source)
	at br.com.ada.moviesbattle.service.MovieServiceImpl.loadMovies(MovieServiceImpl.java:35)
	at br.com.ada.moviesbattle.scheduled.LoadMovieTask.loadMovies(LoadMovieTask.java:28)
	at br.com.ada.moviesbattle.scheduled.LoadMovieTask$$FastClassBySpringCGLIB$$2cb165b6.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:834)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#14e0b4e9': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.boot.context.properties.ConfigurationPropertiesBindException: Error creating bean with name 'spring.cache-org.springframework.boot.autoconfigure.cache.CacheProperties': Could not bind properties to 'CacheProperties' : prefix=spring.cache, ignoreInvalidFields=false, ignoreUnknownFields=true; nested exception is java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@2c20fcad has been closed already
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:342)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:113)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:690)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:507)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1338)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1177)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:557)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:374)
	... 26 common frames omitted
Caused by: org.springframework.boot.context.properties.ConfigurationPropertiesBindException: Error creating bean with name 'spring.cache-org.springframework.boot.autoconfigure.cache.CacheProperties': Could not bind properties to 'CacheProperties' : prefix=spring.cache, ignoreInvalidFields=false, ignoreUnknownFields=true; nested exception is java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@2c20fcad has been closed already
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:92)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.postProcessBeforeInitialization(ConfigurationPropertiesBindingPostProcessor.java:78)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:416)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1788)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1304)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1224)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:884)
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:831)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:446)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1338)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1177)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:557)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:310)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:330)
	... 34 common frames omitted
Caused by: java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@2c20fcad has been closed already
	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1093)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1114)
	at org.springframework.boot.context.properties.BoundConfigurationProperties.get(BoundConfigurationProperties.java:78)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getHandler(ConfigurationPropertiesBinder.java:127)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getBindHandler(ConfigurationPropertiesBinder.java:109)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.bind(ConfigurationPropertiesBinder.java:89)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:89)
	... 60 common frames omitted
2022-08-13 18:25:01,255 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting MoviesBattleApplication on DESKTOP-EKRMV67 with PID 4216 (D:\projetos\ada\movies-battle\target\classes started by guibe in D:\projetos\ada\movies-battle)
2022-08-13 18:25:01,259 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.3.1.RELEASE, Spring v5.2.7.RELEASE
2022-08-13 18:25:01,259 INFO org.springframework.boot.SpringApplication [restartedMain] The following profiles are active: dev
2022-08-13 18:25:01,304 INFO org.springframework.boot.logging.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-08-13 18:25:01,305 INFO org.springframework.boot.logging.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-08-13 18:25:02,510 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2022-08-13 18:25:02,583 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 66ms. Found 4 JPA repository interfaces.
2022-08-13 18:25:03,157 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8080 (http)
2022-08-13 18:25:03,165 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8080"]
2022-08-13 18:25:03,165 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2022-08-13 18:25:03,165 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.36]
2022-08-13 18:25:03,283 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2022-08-13 18:25:03,283 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 1978 ms
2022-08-13 18:25:03,395 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2022-08-13 18:25:03,479 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2022-08-13 18:25:03,484 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [restartedMain] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:alura-forum'
2022-08-13 18:25:03,544 INFO org.springframework.boot.actuate.endpoint.web.ServletEndpointRegistrar [restartedMain] Registered '/actuator/jolokia' to jolokia-actuator-endpoint
2022-08-13 18:25:03,612 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2022-08-13 18:25:03,621 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'taskScheduler'
2022-08-13 18:25:03,657 INFO org.hibernate.jpa.internal.util.LogHelper [task-1] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-08-13 18:25:03,697 INFO org.hibernate.Version [task-1] HHH000412: Hibernate ORM core version 5.4.17.Final
2022-08-13 18:25:03,709 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-08-13 18:25:03,790 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [task-1] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2022-08-13 18:25:03,884 INFO org.hibernate.dialect.Dialect [task-1] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-08-13 18:25:04,045 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [restartedMain] Exposing 14 endpoint(s) beneath base path '/actuator'
2022-08-13 18:25:04,224 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4f208cf4, org.springframework.security.web.context.SecurityContextPersistenceFilter@25584fcf, org.springframework.security.web.header.HeaderWriterFilter@128b5e2a, org.springframework.security.web.authentication.logout.LogoutFilter@1a1092af, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4bd5feb5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4f7988e1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@160f3055, org.springframework.security.web.session.SessionManagementFilter@10dde01b, org.springframework.security.web.access.ExceptionTranslationFilter@5c3ac357, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5859b59]
2022-08-13 18:25:04,268 INFO springfox.documentation.spring.web.PropertySourcedRequestMappingHandlerMapping [restartedMain] Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2022-08-13 18:25:04,384 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2022-08-13 18:25:04,504 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService
2022-08-13 18:25:04,568 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [task-1] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-08-13 18:25:04,574 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [task-1] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-08-13 18:25:04,640 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8080"]
2022-08-13 18:25:04,661 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8080 (http) with context path ''
2022-08-13 18:25:04,662 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [restartedMain] Context refreshed
2022-08-13 18:25:04,677 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [restartedMain] Found 1 custom documentation plugin(s)
2022-08-13 18:25:04,710 INFO springfox.documentation.spring.web.scanners.ApiListingReferenceScanner [restartedMain] Scanning for api listing references
2022-08-13 18:25:04,721 INFO org.springframework.data.repository.config.DeferredRepositoryInitializationListener [restartedMain] Triggering deferred initialization of Spring Data repositoriesâ€¦
2022-08-13 18:25:05,005 INFO org.springframework.data.repository.config.DeferredRepositoryInitializationListener [restartedMain] Spring Data repositories initialized!
2022-08-13 18:25:05,017 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started MoviesBattleApplication in 4.006 seconds (JVM running for 5.359)
2022-08-13 18:25:05,019 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-3] Starting scheduled task to load movies.
2022-08-13 18:25:07,094 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=toltecs
2022-08-13 18:25:07,127 WARN de.codecentric.boot.admin.client.registration.ApplicationRegistrator [registrationTask1] Failed to register application as Application(name=spring-boot-application, managementUrl=http://DESKTOP-EKRMV67:8080/actuator, healthUrl=http://DESKTOP-EKRMV67:8080/actuator/health, serviceUrl=http://DESKTOP-EKRMV67:8080/) at spring-boot-admin ([http://localhost:8081/instances]): I/O error on POST request for "http://localhost:8081/instances": Connection refused: connect; nested exception is java.net.ConnectException: Connection refused: connect. Further attempts are logged on DEBUG level
2022-08-13 18:25:07,406 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(3)-127.0.0.1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-08-13 18:25:07,406 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(3)-127.0.0.1] Initializing Servlet 'dispatcherServlet'
2022-08-13 18:25:07,412 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(3)-127.0.0.1] Completed initialization in 6 ms
2022-08-13 18:25:07,854 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=shifted
2022-08-13 18:25:08,047 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt0416219
2022-08-13 18:25:08,320 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt0006653
2022-08-13 18:25:08,510 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt3834518
2022-08-13 18:25:09,168 ERROR org.springframework.aop.interceptor.SimpleAsyncUncaughtExceptionHandler [task-3] Unexpected exception occurred invoking async method: public void br.com.ada.moviesbattle.scheduled.LoadMovieTask.loadMovies() throws java.lang.Exception
java.lang.NumberFormatException: For input string: "N/A"
	at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)
	at java.base/java.lang.Integer.parseInt(Integer.java:652)
	at java.base/java.lang.Integer.valueOf(Integer.java:983)
	at br.com.ada.moviesbattle.dto.MovieDto.convert(MovieDto.java:36)
	at br.com.ada.moviesbattle.service.MovieServiceImpl.loadMovies(MovieServiceImpl.java:35)
	at br.com.ada.moviesbattle.scheduled.LoadMovieTask.loadMovies(LoadMovieTask.java:28)
	at br.com.ada.moviesbattle.scheduled.LoadMovieTask$$FastClassBySpringCGLIB$$2cb165b6.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:834)
2022-08-13 18:25:15,025 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-4] Starting scheduled task to load movies.
2022-08-13 18:25:15,029 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=judeophobia
2022-08-13 18:25:15,766 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt2196772
2022-08-13 18:25:15,870 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(2)-127.0.0.1] Application shutdown requested.
2022-08-13 18:25:16,265 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [RMI TCP Connection(2)-127.0.0.1] Shutting down ExecutorService
2022-08-13 18:25:16,269 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [RMI TCP Connection(2)-127.0.0.1] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-08-13 18:25:16,271 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [RMI TCP Connection(2)-127.0.0.1] Shutting down ExecutorService 'taskScheduler'
2022-08-13 18:25:16,272 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [RMI TCP Connection(2)-127.0.0.1] Shutting down ExecutorService 'applicationTaskExecutor'
2022-08-13 18:25:16,486 WARN org.springframework.beans.factory.support.DisposableBeanAdapter [RMI TCP Connection(2)-127.0.0.1] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2022-08-13 18:25:16,487 INFO com.zaxxer.hikari.HikariDataSource [RMI TCP Connection(2)-127.0.0.1] HikariPool-1 - Shutdown initiated...
2022-08-13 18:25:16,494 INFO com.zaxxer.hikari.HikariDataSource [RMI TCP Connection(2)-127.0.0.1] HikariPool-1 - Shutdown completed.
2022-08-13 18:25:17,261 ERROR org.springframework.aop.interceptor.SimpleAsyncUncaughtExceptionHandler [task-4] Unexpected exception occurred invoking async method: public void br.com.ada.moviesbattle.scheduled.LoadMovieTask.loadMovies() throws java.lang.Exception
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'movieRepository' defined in br.com.ada.moviesbattle.repository.MovieRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot create inner bean '(inner bean)#725d7d92' of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#725d7d92': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.boot.context.properties.ConfigurationPropertiesBindException: Error creating bean with name 'spring.cache-org.springframework.boot.autoconfigure.cache.CacheProperties': Could not bind properties to 'CacheProperties' : prefix=spring.cache, ignoreInvalidFields=false, ignoreUnknownFields=true; nested exception is java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@367814c7 has been closed already
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:389)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:134)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1699)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1444)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:594)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1304)
	at org.springframework.context.annotation.ContextAnnotationAutowireCandidateResolver$1.getTarget(ContextAnnotationAutowireCandidateResolver.java:90)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:192)
	at com.sun.proxy.$Proxy102.save(Unknown Source)
	at br.com.ada.moviesbattle.service.MovieServiceImpl.loadMovies(MovieServiceImpl.java:35)
	at br.com.ada.moviesbattle.scheduled.LoadMovieTask.loadMovies(LoadMovieTask.java:28)
	at br.com.ada.moviesbattle.scheduled.LoadMovieTask$$FastClassBySpringCGLIB$$2cb165b6.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:834)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#725d7d92': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.boot.context.properties.ConfigurationPropertiesBindException: Error creating bean with name 'spring.cache-org.springframework.boot.autoconfigure.cache.CacheProperties': Could not bind properties to 'CacheProperties' : prefix=spring.cache, ignoreInvalidFields=false, ignoreUnknownFields=true; nested exception is java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@367814c7 has been closed already
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:342)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:113)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:690)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:507)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1338)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1177)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:557)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:374)
	... 26 common frames omitted
Caused by: org.springframework.boot.context.properties.ConfigurationPropertiesBindException: Error creating bean with name 'spring.cache-org.springframework.boot.autoconfigure.cache.CacheProperties': Could not bind properties to 'CacheProperties' : prefix=spring.cache, ignoreInvalidFields=false, ignoreUnknownFields=true; nested exception is java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@367814c7 has been closed already
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:92)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.postProcessBeforeInitialization(ConfigurationPropertiesBindingPostProcessor.java:78)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:416)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1788)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1304)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1224)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:884)
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:831)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:446)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1338)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1177)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:557)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:310)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:330)
	... 34 common frames omitted
Caused by: java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@367814c7 has been closed already
	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1093)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1114)
	at org.springframework.boot.context.properties.BoundConfigurationProperties.get(BoundConfigurationProperties.java:78)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getHandler(ConfigurationPropertiesBinder.java:127)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getBindHandler(ConfigurationPropertiesBinder.java:109)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.bind(ConfigurationPropertiesBinder.java:89)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:89)
	... 60 common frames omitted
2022-08-13 18:26:41,507 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting MoviesBattleApplication on DESKTOP-EKRMV67 with PID 1620 (D:\projetos\ada\movies-battle\target\classes started by guibe in D:\projetos\ada\movies-battle)
2022-08-13 18:26:41,511 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.3.1.RELEASE, Spring v5.2.7.RELEASE
2022-08-13 18:26:41,511 INFO org.springframework.boot.SpringApplication [restartedMain] The following profiles are active: dev
2022-08-13 18:26:41,555 INFO org.springframework.boot.logging.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-08-13 18:26:41,555 INFO org.springframework.boot.logging.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-08-13 18:26:42,735 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2022-08-13 18:26:42,801 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 59ms. Found 4 JPA repository interfaces.
2022-08-13 18:26:43,363 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8080 (http)
2022-08-13 18:26:43,370 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8080"]
2022-08-13 18:26:43,370 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2022-08-13 18:26:43,370 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.36]
2022-08-13 18:26:43,482 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2022-08-13 18:26:43,483 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 1928 ms
2022-08-13 18:26:43,597 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2022-08-13 18:26:43,683 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2022-08-13 18:26:43,688 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [restartedMain] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:alura-forum'
2022-08-13 18:26:43,753 INFO org.springframework.boot.actuate.endpoint.web.ServletEndpointRegistrar [restartedMain] Registered '/actuator/jolokia' to jolokia-actuator-endpoint
2022-08-13 18:26:43,823 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2022-08-13 18:26:43,833 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'taskScheduler'
2022-08-13 18:26:43,866 INFO org.hibernate.jpa.internal.util.LogHelper [task-1] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-08-13 18:26:43,905 INFO org.hibernate.Version [task-1] HHH000412: Hibernate ORM core version 5.4.17.Final
2022-08-13 18:26:43,922 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-08-13 18:26:44,001 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [task-1] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2022-08-13 18:26:44,103 INFO org.hibernate.dialect.Dialect [task-1] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-08-13 18:26:44,280 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [restartedMain] Exposing 14 endpoint(s) beneath base path '/actuator'
2022-08-13 18:26:44,448 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4f83d170, org.springframework.security.web.context.SecurityContextPersistenceFilter@68f05755, org.springframework.security.web.header.HeaderWriterFilter@5751e687, org.springframework.security.web.authentication.logout.LogoutFilter@237cb558, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@71874538, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@bb5128, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6a92615b, org.springframework.security.web.session.SessionManagementFilter@4ab387, org.springframework.security.web.access.ExceptionTranslationFilter@3f1da406, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5a62301]
2022-08-13 18:26:44,491 INFO springfox.documentation.spring.web.PropertySourcedRequestMappingHandlerMapping [restartedMain] Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2022-08-13 18:26:44,608 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2022-08-13 18:26:44,738 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService
2022-08-13 18:26:44,801 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [task-1] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-08-13 18:26:44,808 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [task-1] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-08-13 18:26:44,875 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8080"]
2022-08-13 18:26:44,900 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8080 (http) with context path ''
2022-08-13 18:26:44,902 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [restartedMain] Context refreshed
2022-08-13 18:26:44,917 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [restartedMain] Found 1 custom documentation plugin(s)
2022-08-13 18:26:44,949 INFO springfox.documentation.spring.web.scanners.ApiListingReferenceScanner [restartedMain] Scanning for api listing references
2022-08-13 18:26:44,959 INFO org.springframework.data.repository.config.DeferredRepositoryInitializationListener [restartedMain] Triggering deferred initialization of Spring Data repositoriesâ€¦
2022-08-13 18:26:45,230 INFO org.springframework.data.repository.config.DeferredRepositoryInitializationListener [restartedMain] Spring Data repositories initialized!
2022-08-13 18:26:45,242 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started MoviesBattleApplication in 3.973 seconds (JVM running for 5.228)
2022-08-13 18:26:45,245 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-3] Starting scheduled task to load movies.
2022-08-13 18:26:47,311 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=tonga
2022-08-13 18:26:47,343 WARN de.codecentric.boot.admin.client.registration.ApplicationRegistrator [registrationTask1] Failed to register application as Application(name=spring-boot-application, managementUrl=http://DESKTOP-EKRMV67:8080/actuator, healthUrl=http://DESKTOP-EKRMV67:8080/actuator/health, serviceUrl=http://DESKTOP-EKRMV67:8080/) at spring-boot-admin ([http://localhost:8081/instances]): I/O error on POST request for "http://localhost:8081/instances": Connection refused: connect; nested exception is java.net.ConnectException: Connection refused: connect. Further attempts are logged on DEBUG level
2022-08-13 18:26:47,834 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(9)-127.0.0.1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-08-13 18:26:47,835 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(9)-127.0.0.1] Initializing Servlet 'dispatcherServlet'
2022-08-13 18:26:47,841 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(9)-127.0.0.1] Completed initialization in 6 ms
2022-08-13 18:26:48,061 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt6815674
2022-08-13 18:26:48,771 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt6316304
2022-08-13 18:26:48,959 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt6863006
2022-08-13 18:26:49,156 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt10850458
2022-08-13 18:26:49,814 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt11090646
2022-08-13 18:26:50,010 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt18257722
2022-08-13 18:26:50,662 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt0108667
2022-08-13 18:26:51,321 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt0230553
2022-08-13 18:26:51,518 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt0392541
2022-08-13 18:26:51,716 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt0466042
2022-08-13 18:26:51,994 INFO br.com.ada.moviesbattle.service.MovieServiceImpl [task-3] movies quantity: 10
2022-08-13 18:26:51,995 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-3] Finishing scheduled task to load movies.
2022-08-13 18:26:55,246 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-4] Starting scheduled task to load movies.
2022-08-13 18:26:55,249 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=sea
2022-08-13 18:26:55,319 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt4034228
2022-08-13 18:26:55,367 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt1390411
2022-08-13 18:26:55,414 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt0149261
2022-08-13 18:26:55,450 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt1854564
2022-08-13 18:26:55,491 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt0369702
2022-08-13 18:26:55,540 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt1865505
2022-08-13 18:26:55,583 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt0098273
2022-08-13 18:26:55,622 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt2261331
2022-08-13 18:26:55,683 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt0046672
2022-08-13 18:26:55,738 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt0235737
2022-08-13 18:26:55,776 INFO br.com.ada.moviesbattle.service.MovieServiceImpl [task-4] movies quantity: 20
2022-08-13 18:26:55,780 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-4] Finishing scheduled task to load movies.
2022-08-13 18:27:05,246 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-5] Starting scheduled task to load movies.
2022-08-13 18:27:05,248 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-5] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=sowens
2022-08-13 18:27:06,403 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-5] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=religionist
2022-08-13 18:27:06,581 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-5] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=churchless
2022-08-13 18:27:06,789 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-5] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=pure
2022-08-13 18:27:06,999 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-5] https://www.omdbapi.com/?apikey=417758d8&i=tt0110917
2022-08-13 18:27:07,659 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-5] https://www.omdbapi.com/?apikey=417758d8&i=tt0102729
2022-08-13 18:27:08,318 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-5] https://www.omdbapi.com/?apikey=417758d8&i=tt0105191
2022-08-13 18:27:08,522 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-5] https://www.omdbapi.com/?apikey=417758d8&i=tt1483753
2022-08-13 18:27:08,722 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-5] https://www.omdbapi.com/?apikey=417758d8&i=tt0308772
2022-08-13 18:27:08,939 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-5] https://www.omdbapi.com/?apikey=417758d8&i=tt0055342
2022-08-13 18:27:09,132 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-5] https://www.omdbapi.com/?apikey=417758d8&i=tt1549571
2022-08-13 18:27:09,326 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-5] https://www.omdbapi.com/?apikey=417758d8&i=tt5529828
2022-08-13 18:27:09,528 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-5] https://www.omdbapi.com/?apikey=417758d8&i=tt5929226
2022-08-13 18:27:09,719 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-5] https://www.omdbapi.com/?apikey=417758d8&i=tt1909807
2022-08-13 18:27:10,330 INFO br.com.ada.moviesbattle.service.MovieServiceImpl [task-5] movies quantity: 30
2022-08-13 18:27:10,330 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-5] Finishing scheduled task to load movies.
2022-08-13 18:27:15,247 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-6] Starting scheduled task to load movies.
2022-08-13 18:27:15,249 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-6] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=nicaragua
2022-08-13 18:27:15,438 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-6] https://www.omdbapi.com/?apikey=417758d8&i=tt1347328
2022-08-13 18:27:15,634 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-6] https://www.omdbapi.com/?apikey=417758d8&i=tt2394694
2022-08-13 18:27:16,286 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-6] https://www.omdbapi.com/?apikey=417758d8&i=tt0347654
2022-08-13 18:27:16,930 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-6] https://www.omdbapi.com/?apikey=417758d8&i=tt2176774
2022-08-13 18:27:17,109 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-6] https://www.omdbapi.com/?apikey=417758d8&i=tt0123797
2022-08-13 18:27:17,297 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-6] https://www.omdbapi.com/?apikey=417758d8&i=tt0162493
2022-08-13 18:27:17,486 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-6] https://www.omdbapi.com/?apikey=417758d8&i=tt0491079
2022-08-13 18:27:17,679 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-6] https://www.omdbapi.com/?apikey=417758d8&i=tt4478522
2022-08-13 18:27:17,874 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-6] https://www.omdbapi.com/?apikey=417758d8&i=tt5421102
2022-08-13 18:27:18,063 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-6] https://www.omdbapi.com/?apikey=417758d8&i=tt5615152
2022-08-13 18:27:18,274 INFO br.com.ada.moviesbattle.service.MovieServiceImpl [task-6] movies quantity: 40
2022-08-13 18:27:18,274 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-6] Finishing scheduled task to load movies.
2022-08-13 18:27:25,250 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-7] Starting scheduled task to load movies.
2022-08-13 18:27:25,253 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-7] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=ankara
2022-08-13 18:27:25,577 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-7] https://www.omdbapi.com/?apikey=417758d8&i=tt3283714
2022-08-13 18:27:26,227 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-7] https://www.omdbapi.com/?apikey=417758d8&i=tt5632478
2022-08-13 18:27:26,413 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-7] https://www.omdbapi.com/?apikey=417758d8&i=tt0293758
2022-08-13 18:27:26,620 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-7] https://www.omdbapi.com/?apikey=417758d8&i=tt0171070
2022-08-13 18:27:26,830 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-7] https://www.omdbapi.com/?apikey=417758d8&i=tt0845423
2022-08-13 18:27:27,451 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-7] https://www.omdbapi.com/?apikey=417758d8&i=tt4794832
2022-08-13 18:27:27,788 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-7] https://www.omdbapi.com/?apikey=417758d8&i=tt11790044
2022-08-13 18:27:28,445 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-7] https://www.omdbapi.com/?apikey=417758d8&i=tt0313206
2022-08-13 18:27:28,643 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-7] https://www.omdbapi.com/?apikey=417758d8&i=tt0300943
2022-08-13 18:27:28,839 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-7] https://www.omdbapi.com/?apikey=417758d8&i=tt1886470
2022-08-13 18:27:29,040 INFO br.com.ada.moviesbattle.service.MovieServiceImpl [task-7] movies quantity: 50
2022-08-13 18:27:29,041 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-7] Finishing scheduled task to load movies.
2022-08-13 18:27:35,252 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-8] Starting scheduled task to load movies.
2022-08-13 18:27:35,254 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-8] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=mainmast
2022-08-13 18:27:35,510 ERROR org.springframework.aop.interceptor.SimpleAsyncUncaughtExceptionHandler [task-8] Unexpected exception occurred invoking async method: public void br.com.ada.moviesbattle.scheduled.LoadMovieTask.loadMovies() throws java.lang.Exception
java.lang.NullPointerException: null
	at br.com.ada.moviesbattle.service.MovieServiceImpl.loadMovies(MovieServiceImpl.java:31)
	at br.com.ada.moviesbattle.scheduled.LoadMovieTask.loadMovies(LoadMovieTask.java:28)
	at br.com.ada.moviesbattle.scheduled.LoadMovieTask$$FastClassBySpringCGLIB$$2cb165b6.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:834)
2022-08-13 18:27:45,252 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-9] Starting scheduled task to load movies.
2022-08-13 18:27:45,254 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-9] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=amputating
2022-08-13 18:27:45,560 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-9] https://www.omdbapi.com/?apikey=417758d8&i=tt0377367
2022-08-13 18:27:45,756 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-9] https://www.omdbapi.com/?apikey=417758d8&i=tt2317022
2022-08-13 18:27:45,949 INFO br.com.ada.moviesbattle.service.MovieServiceImpl [task-9] movies quantity: 52
2022-08-13 18:27:45,949 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-9] Finishing scheduled task to load movies.
2022-08-13 18:27:49,096 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(10)-127.0.0.1] Application shutdown requested.
2022-08-13 18:27:49,450 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [RMI TCP Connection(10)-127.0.0.1] Shutting down ExecutorService
2022-08-13 18:27:49,452 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [RMI TCP Connection(10)-127.0.0.1] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-08-13 18:27:49,455 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [RMI TCP Connection(10)-127.0.0.1] Shutting down ExecutorService 'taskScheduler'
2022-08-13 18:27:49,455 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [RMI TCP Connection(10)-127.0.0.1] Shutting down ExecutorService 'applicationTaskExecutor'
2022-08-13 18:27:49,665 WARN org.springframework.beans.factory.support.DisposableBeanAdapter [RMI TCP Connection(10)-127.0.0.1] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2022-08-13 18:27:49,666 INFO com.zaxxer.hikari.HikariDataSource [RMI TCP Connection(10)-127.0.0.1] HikariPool-1 - Shutdown initiated...
2022-08-13 18:27:49,669 INFO com.zaxxer.hikari.HikariDataSource [RMI TCP Connection(10)-127.0.0.1] HikariPool-1 - Shutdown completed.
2022-08-13 20:39:22,074 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting MoviesBattleApplication on DESKTOP-EKRMV67 with PID 26992 (D:\projetos\ada\movies-battle\target\classes started by guibe in D:\projetos\ada\movies-battle)
2022-08-13 20:39:22,080 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.3.1.RELEASE, Spring v5.2.7.RELEASE
2022-08-13 20:39:22,081 INFO org.springframework.boot.SpringApplication [restartedMain] The following profiles are active: dev
2022-08-13 20:39:22,231 INFO org.springframework.boot.logging.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-08-13 20:39:22,232 INFO org.springframework.boot.logging.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-08-13 20:39:25,450 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2022-08-13 20:39:25,658 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 192ms. Found 5 JPA repository interfaces.
2022-08-13 20:39:27,285 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8080 (http)
2022-08-13 20:39:27,301 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8080"]
2022-08-13 20:39:27,302 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2022-08-13 20:39:27,302 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.36]
2022-08-13 20:39:27,627 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2022-08-13 20:39:27,629 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 5396 ms
2022-08-13 20:39:27,963 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2022-08-13 20:39:28,198 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2022-08-13 20:39:28,208 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [restartedMain] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:alura-forum'
2022-08-13 20:39:28,379 INFO org.springframework.boot.actuate.endpoint.web.ServletEndpointRegistrar [restartedMain] Registered '/actuator/jolokia' to jolokia-actuator-endpoint
2022-08-13 20:39:28,577 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2022-08-13 20:39:28,604 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'taskScheduler'
2022-08-13 20:39:28,713 INFO org.hibernate.jpa.internal.util.LogHelper [task-1] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-08-13 20:39:28,828 INFO org.hibernate.Version [task-1] HHH000412: Hibernate ORM core version 5.4.17.Final
2022-08-13 20:39:28,854 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-08-13 20:39:29,098 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [task-1] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2022-08-13 20:39:29,341 INFO org.hibernate.dialect.Dialect [task-1] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-08-13 20:39:29,887 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [restartedMain] Exposing 14 endpoint(s) beneath base path '/actuator'
2022-08-13 20:39:30,402 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@39d599d4, org.springframework.security.web.context.SecurityContextPersistenceFilter@2a446c0e, org.springframework.security.web.header.HeaderWriterFilter@70e47c49, org.springframework.security.web.authentication.logout.LogoutFilter@5e1e58be, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@36b2dde7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7005f303, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@126310d5, org.springframework.security.web.session.SessionManagementFilter@2ec95e1b, org.springframework.security.web.access.ExceptionTranslationFilter@2995f177, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5023ef5c]
2022-08-13 20:39:30,516 INFO springfox.documentation.spring.web.PropertySourcedRequestMappingHandlerMapping [restartedMain] Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2022-08-13 20:39:30,898 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2022-08-13 20:39:31,269 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService
2022-08-13 20:39:31,323 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [task-1] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-08-13 20:39:31,359 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [task-1] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-08-13 20:39:31,573 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8080"]
2022-08-13 20:39:31,617 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8080 (http) with context path ''
2022-08-13 20:39:31,620 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [restartedMain] Context refreshed
2022-08-13 20:39:31,654 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [restartedMain] Found 1 custom documentation plugin(s)
2022-08-13 20:39:31,733 INFO springfox.documentation.spring.web.scanners.ApiListingReferenceScanner [restartedMain] Scanning for api listing references
2022-08-13 20:39:31,761 INFO org.springframework.data.repository.config.DeferredRepositoryInitializationListener [restartedMain] Triggering deferred initialization of Spring Data repositoriesâ€¦
2022-08-13 20:39:32,628 ERROR org.hibernate.hql.internal.ast.ErrorTracker [restartedMain] line 1:44: unexpected token: LIMIT
2022-08-13 20:39:32,632 ERROR org.hibernate.hql.internal.ast.ErrorTracker [restartedMain] line 1:44: unexpected token: LIMIT
antlr.NoViableAltException: unexpected token: LIMIT
	at org.hibernate.hql.internal.antlr.HqlBaseParser.orderElement(HqlBaseParser.java:2183)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.orderByClause(HqlBaseParser.java:1184)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.queryRule(HqlBaseParser.java:795)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.selectStatement(HqlBaseParser.java:319)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.statement(HqlBaseParser.java:198)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.parse(QueryTranslatorImpl.java:294)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:189)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:144)
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:113)
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:73)
	at org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:162)
	at org.hibernate.internal.AbstractSharedSessionContract.getQueryPlan(AbstractSharedSessionContract.java:604)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:716)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:113)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:366)
	at com.sun.proxy.$Proxy164.createQuery(Unknown Source)
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:87)
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.<init>(SimpleJpaQuery.java:63)
	at org.springframework.data.jpa.repository.query.JpaQueryFactory.fromMethodWithQueryString(JpaQueryFactory.java:76)
	at org.springframework.data.jpa.repository.query.JpaQueryFactory.fromQueryAnnotation(JpaQueryFactory.java:56)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$DeclaredQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:146)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:216)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:81)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:99)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$mapMethodsToQuery$1(QueryExecutorMethodInterceptor.java:92)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)
	at java.base/java.util.Collections$UnmodifiableCollection$1.forEachRemaining(Collections.java:1054)
	at java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:913)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:578)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:94)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:84)
	at java.base/java.util.Optional.map(Optional.java:265)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.<init>(QueryExecutorMethodInterceptor.java:84)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:331)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:297)
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:212)
	at org.springframework.data.util.Lazy.get(Lazy.java:94)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.getObject(RepositoryFactoryBeanSupport.java:244)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.getObject(RepositoryFactoryBeanSupport.java:57)
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.doGetObjectFromFactoryBean(FactoryBeanRegistrySupport.java:171)
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:101)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1821)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1266)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:621)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:609)
	at org.springframework.data.repository.config.DeferredRepositoryInitializationListener.onApplicationEvent(DeferredRepositoryInitializationListener.java:51)
	at org.springframework.data.repository.config.DeferredRepositoryInitializationListener.onApplicationEvent(DeferredRepositoryInitializationListener.java:36)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:404)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:361)
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:898)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:554)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1237)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at br.com.ada.moviesbattle.MoviesBattleApplication.main(MoviesBattleApplication.java:28)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
2022-08-13 20:39:32,638 WARN org.springframework.context.support.AbstractApplicationContext [restartedMain] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'movieRepository': FactoryBean threw exception on object creation; nested exception is java.lang.IllegalArgumentException: Validation failed for query for method public abstract java.util.List br.com.ada.moviesbattle.repository.MovieRepository.findRandom()!
2022-08-13 20:39:32,642 WARN org.springframework.beans.factory.support.DisposableBeanAdapter [restartedMain] Invocation of destroy method failed on bean with name 'tomcatMetricsBinder': java.lang.NullPointerException
2022-08-13 20:39:32,643 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Shutting down ExecutorService
2022-08-13 20:39:32,651 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-08-13 20:39:32,654 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Shutting down ExecutorService 'taskScheduler'
2022-08-13 20:39:32,655 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Shutting down ExecutorService 'applicationTaskExecutor'
2022-08-13 20:39:32,872 WARN org.springframework.beans.factory.support.DisposableBeanAdapter [restartedMain] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2022-08-13 20:39:32,873 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Shutdown initiated...
2022-08-13 20:39:32,885 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Shutdown completed.
2022-08-13 20:39:32,895 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Pausing ProtocolHandler ["http-nio-8080"]
2022-08-13 20:39:34,065 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Stopping service [Tomcat]
2022-08-13 20:39:34,073 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Stopping ProtocolHandler ["http-nio-8080"]
2022-08-13 20:39:34,081 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Destroying ProtocolHandler ["http-nio-8080"]
2022-08-13 20:39:34,107 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [restartedMain] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-08-13 20:39:34,122 ERROR org.springframework.boot.SpringApplication [restartedMain] Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'movieRepository': FactoryBean threw exception on object creation; nested exception is java.lang.IllegalArgumentException: Validation failed for query for method public abstract java.util.List br.com.ada.moviesbattle.repository.MovieRepository.findRandom()!
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.doGetObjectFromFactoryBean(FactoryBeanRegistrySupport.java:178)
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:101)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1821)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1266)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:621)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:609)
	at org.springframework.data.repository.config.DeferredRepositoryInitializationListener.onApplicationEvent(DeferredRepositoryInitializationListener.java:51)
	at org.springframework.data.repository.config.DeferredRepositoryInitializationListener.onApplicationEvent(DeferredRepositoryInitializationListener.java:36)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:404)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:361)
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:898)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:554)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1237)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at br.com.ada.moviesbattle.MoviesBattleApplication.main(MoviesBattleApplication.java:28)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: java.lang.IllegalArgumentException: Validation failed for query for method public abstract java.util.List br.com.ada.moviesbattle.repository.MovieRepository.findRandom()!
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:93)
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.<init>(SimpleJpaQuery.java:63)
	at org.springframework.data.jpa.repository.query.JpaQueryFactory.fromMethodWithQueryString(JpaQueryFactory.java:76)
	at org.springframework.data.jpa.repository.query.JpaQueryFactory.fromQueryAnnotation(JpaQueryFactory.java:56)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$DeclaredQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:146)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:216)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:81)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:99)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$mapMethodsToQuery$1(QueryExecutorMethodInterceptor.java:92)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)
	at java.base/java.util.Collections$UnmodifiableCollection$1.forEachRemaining(Collections.java:1054)
	at java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:913)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:578)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:94)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:84)
	at java.base/java.util.Optional.map(Optional.java:265)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.<init>(QueryExecutorMethodInterceptor.java:84)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:331)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:297)
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:212)
	at org.springframework.data.util.Lazy.get(Lazy.java:94)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.getObject(RepositoryFactoryBeanSupport.java:244)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.getObject(RepositoryFactoryBeanSupport.java:57)
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.doGetObjectFromFactoryBean(FactoryBeanRegistrySupport.java:171)
	... 29 common frames omitted
Caused by: java.lang.IllegalArgumentException: org.hibernate.hql.internal.ast.QuerySyntaxException: unexpected token: LIMIT near line 1, column 44 [SELECT imdbID FROM movie ORDER BY RANDOM() LIMIT 2]
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:138)
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:181)
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:188)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:725)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:113)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:366)
	at com.sun.proxy.$Proxy164.createQuery(Unknown Source)
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:87)
	... 57 common frames omitted
Caused by: org.hibernate.hql.internal.ast.QuerySyntaxException: unexpected token: LIMIT near line 1, column 44 [SELECT imdbID FROM movie ORDER BY RANDOM() LIMIT 2]
	at org.hibernate.hql.internal.ast.QuerySyntaxException.convert(QuerySyntaxException.java:74)
	at org.hibernate.hql.internal.ast.ErrorTracker.throwQueryException(ErrorTracker.java:93)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.parse(QueryTranslatorImpl.java:301)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:189)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:144)
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:113)
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:73)
	at org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:162)
	at org.hibernate.internal.AbstractSharedSessionContract.getQueryPlan(AbstractSharedSessionContract.java:604)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:716)
	... 65 common frames omitted
2022-08-13 20:43:54,154 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting MoviesBattleApplication on DESKTOP-EKRMV67 with PID 25224 (D:\projetos\ada\movies-battle\target\classes started by guibe in D:\projetos\ada\movies-battle)
2022-08-13 20:43:54,167 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.3.1.RELEASE, Spring v5.2.7.RELEASE
2022-08-13 20:43:54,168 INFO org.springframework.boot.SpringApplication [restartedMain] The following profiles are active: dev
2022-08-13 20:43:54,316 INFO org.springframework.boot.logging.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-08-13 20:43:54,317 INFO org.springframework.boot.logging.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-08-13 20:43:58,317 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2022-08-13 20:43:58,604 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 262ms. Found 5 JPA repository interfaces.
2022-08-13 20:44:00,478 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8080 (http)
2022-08-13 20:44:00,505 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8080"]
2022-08-13 20:44:00,506 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2022-08-13 20:44:00,507 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.36]
2022-08-13 20:44:00,868 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2022-08-13 20:44:00,869 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 6552 ms
2022-08-13 20:44:01,241 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2022-08-13 20:44:01,500 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2022-08-13 20:44:01,517 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [restartedMain] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:alura-forum'
2022-08-13 20:44:01,758 INFO org.springframework.boot.actuate.endpoint.web.ServletEndpointRegistrar [restartedMain] Registered '/actuator/jolokia' to jolokia-actuator-endpoint
2022-08-13 20:44:02,010 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2022-08-13 20:44:02,040 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'taskScheduler'
2022-08-13 20:44:02,172 INFO org.hibernate.jpa.internal.util.LogHelper [task-1] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-08-13 20:44:02,346 INFO org.hibernate.Version [task-1] HHH000412: Hibernate ORM core version 5.4.17.Final
2022-08-13 20:44:02,415 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-08-13 20:44:02,630 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [task-1] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2022-08-13 20:44:02,932 INFO org.hibernate.dialect.Dialect [task-1] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-08-13 20:44:03,480 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [restartedMain] Exposing 14 endpoint(s) beneath base path '/actuator'
2022-08-13 20:44:04,092 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3b5c7e4d, org.springframework.security.web.context.SecurityContextPersistenceFilter@29e3eee9, org.springframework.security.web.header.HeaderWriterFilter@1c24edf8, org.springframework.security.web.authentication.logout.LogoutFilter@376ab6a4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@487c2cf1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@706cc5c3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@640e88d1, org.springframework.security.web.session.SessionManagementFilter@6df65623, org.springframework.security.web.access.ExceptionTranslationFilter@614bf7a0, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7d8053a9]
2022-08-13 20:44:04,224 INFO springfox.documentation.spring.web.PropertySourcedRequestMappingHandlerMapping [restartedMain] Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2022-08-13 20:44:04,593 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2022-08-13 20:44:05,012 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService
2022-08-13 20:44:05,187 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [task-1] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-08-13 20:44:05,205 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [task-1] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-08-13 20:44:05,421 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8080"]
2022-08-13 20:44:05,485 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8080 (http) with context path ''
2022-08-13 20:44:05,489 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [restartedMain] Context refreshed
2022-08-13 20:44:05,531 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [restartedMain] Found 1 custom documentation plugin(s)
2022-08-13 20:44:05,657 INFO springfox.documentation.spring.web.scanners.ApiListingReferenceScanner [restartedMain] Scanning for api listing references
2022-08-13 20:44:05,686 INFO org.springframework.data.repository.config.DeferredRepositoryInitializationListener [restartedMain] Triggering deferred initialization of Spring Data repositoriesâ€¦
2022-08-13 20:44:06,342 ERROR org.hibernate.hql.internal.ast.ErrorTracker [restartedMain] line 1:44: unexpected token: FETCH
2022-08-13 20:44:06,346 ERROR org.hibernate.hql.internal.ast.ErrorTracker [restartedMain] line 1:44: unexpected token: FETCH
antlr.NoViableAltException: unexpected token: FETCH
	at org.hibernate.hql.internal.antlr.HqlBaseParser.primaryExpression(HqlBaseParser.java:1014)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.atom(HqlBaseParser.java:3554)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.unaryExpression(HqlBaseParser.java:3406)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.multiplyExpression(HqlBaseParser.java:3278)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.additiveExpression(HqlBaseParser.java:2935)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.concatenation(HqlBaseParser.java:615)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.relationalExpression(HqlBaseParser.java:2702)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.equalityExpression(HqlBaseParser.java:2563)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.negatedExpression(HqlBaseParser.java:2527)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.logicalAndExpression(HqlBaseParser.java:2443)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.logicalOrExpression(HqlBaseParser.java:2408)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.expression(HqlBaseParser.java:2121)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.orderElement(HqlBaseParser.java:2161)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.orderByClause(HqlBaseParser.java:1184)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.queryRule(HqlBaseParser.java:795)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.selectStatement(HqlBaseParser.java:319)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.statement(HqlBaseParser.java:198)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.parse(QueryTranslatorImpl.java:294)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:189)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:144)
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:113)
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:73)
	at org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:162)
	at org.hibernate.internal.AbstractSharedSessionContract.getQueryPlan(AbstractSharedSessionContract.java:604)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:716)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:113)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:366)
	at com.sun.proxy.$Proxy164.createQuery(Unknown Source)
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:87)
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.<init>(SimpleJpaQuery.java:63)
	at org.springframework.data.jpa.repository.query.JpaQueryFactory.fromMethodWithQueryString(JpaQueryFactory.java:76)
	at org.springframework.data.jpa.repository.query.JpaQueryFactory.fromQueryAnnotation(JpaQueryFactory.java:56)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$DeclaredQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:146)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:216)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:81)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:99)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$mapMethodsToQuery$1(QueryExecutorMethodInterceptor.java:92)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)
	at java.base/java.util.Collections$UnmodifiableCollection$1.forEachRemaining(Collections.java:1054)
	at java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:913)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:578)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:94)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:84)
	at java.base/java.util.Optional.map(Optional.java:265)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.<init>(QueryExecutorMethodInterceptor.java:84)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:331)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:297)
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:212)
	at org.springframework.data.util.Lazy.get(Lazy.java:94)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.getObject(RepositoryFactoryBeanSupport.java:244)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.getObject(RepositoryFactoryBeanSupport.java:57)
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.doGetObjectFromFactoryBean(FactoryBeanRegistrySupport.java:171)
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:101)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1821)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1266)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:621)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:609)
	at org.springframework.data.repository.config.DeferredRepositoryInitializationListener.onApplicationEvent(DeferredRepositoryInitializationListener.java:51)
	at org.springframework.data.repository.config.DeferredRepositoryInitializationListener.onApplicationEvent(DeferredRepositoryInitializationListener.java:36)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:404)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:361)
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:898)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:554)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1237)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at br.com.ada.moviesbattle.MoviesBattleApplication.main(MoviesBattleApplication.java:28)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
2022-08-13 20:44:06,347 WARN org.hibernate.hql.internal.ast.HqlParser [restartedMain] HHH000203: processEqualityExpression() : No expression to process!
2022-08-13 20:44:06,348 ERROR org.hibernate.hql.internal.ast.ErrorTracker [restartedMain] line 1:50: unexpected token: FIRST
2022-08-13 20:44:06,348 ERROR org.hibernate.hql.internal.ast.ErrorTracker [restartedMain] line 1:50: unexpected token: FIRST
antlr.NoViableAltException: unexpected token: FIRST
	at org.hibernate.hql.internal.antlr.HqlBaseParser.orderElement(HqlBaseParser.java:2183)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.orderByClause(HqlBaseParser.java:1184)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.queryRule(HqlBaseParser.java:795)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.selectStatement(HqlBaseParser.java:319)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.statement(HqlBaseParser.java:198)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.parse(QueryTranslatorImpl.java:294)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:189)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:144)
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:113)
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:73)
	at org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:162)
	at org.hibernate.internal.AbstractSharedSessionContract.getQueryPlan(AbstractSharedSessionContract.java:604)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:716)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:113)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:366)
	at com.sun.proxy.$Proxy164.createQuery(Unknown Source)
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:87)
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.<init>(SimpleJpaQuery.java:63)
	at org.springframework.data.jpa.repository.query.JpaQueryFactory.fromMethodWithQueryString(JpaQueryFactory.java:76)
	at org.springframework.data.jpa.repository.query.JpaQueryFactory.fromQueryAnnotation(JpaQueryFactory.java:56)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$DeclaredQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:146)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:216)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:81)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:99)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$mapMethodsToQuery$1(QueryExecutorMethodInterceptor.java:92)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)
	at java.base/java.util.Collections$UnmodifiableCollection$1.forEachRemaining(Collections.java:1054)
	at java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:913)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:578)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:94)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:84)
	at java.base/java.util.Optional.map(Optional.java:265)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.<init>(QueryExecutorMethodInterceptor.java:84)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:331)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:297)
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:212)
	at org.springframework.data.util.Lazy.get(Lazy.java:94)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.getObject(RepositoryFactoryBeanSupport.java:244)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.getObject(RepositoryFactoryBeanSupport.java:57)
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.doGetObjectFromFactoryBean(FactoryBeanRegistrySupport.java:171)
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:101)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1821)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1266)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:621)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:609)
	at org.springframework.data.repository.config.DeferredRepositoryInitializationListener.onApplicationEvent(DeferredRepositoryInitializationListener.java:51)
	at org.springframework.data.repository.config.DeferredRepositoryInitializationListener.onApplicationEvent(DeferredRepositoryInitializationListener.java:36)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:404)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:361)
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:898)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:554)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1237)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at br.com.ada.moviesbattle.MoviesBattleApplication.main(MoviesBattleApplication.java:28)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
2022-08-13 20:44:06,365 WARN org.springframework.context.support.AbstractApplicationContext [restartedMain] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'movieRepository': FactoryBean threw exception on object creation; nested exception is java.lang.IllegalArgumentException: Validation failed for query for method public abstract java.util.List br.com.ada.moviesbattle.repository.MovieRepository.findRandom()!
2022-08-13 20:44:06,368 WARN org.springframework.beans.factory.support.DisposableBeanAdapter [restartedMain] Invocation of destroy method failed on bean with name 'tomcatMetricsBinder': java.lang.NullPointerException
2022-08-13 20:44:06,369 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Shutting down ExecutorService
2022-08-13 20:44:06,374 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-08-13 20:44:06,377 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Shutting down ExecutorService 'taskScheduler'
2022-08-13 20:44:06,378 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Shutting down ExecutorService 'applicationTaskExecutor'
2022-08-13 20:44:06,603 WARN org.springframework.beans.factory.support.DisposableBeanAdapter [restartedMain] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2022-08-13 20:44:06,605 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Shutdown initiated...
2022-08-13 20:44:06,619 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Shutdown completed.
2022-08-13 20:44:06,628 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Pausing ProtocolHandler ["http-nio-8080"]
2022-08-13 20:44:07,837 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Stopping service [Tomcat]
2022-08-13 20:44:07,846 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Stopping ProtocolHandler ["http-nio-8080"]
2022-08-13 20:44:07,856 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Destroying ProtocolHandler ["http-nio-8080"]
2022-08-13 20:44:07,880 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [restartedMain] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-08-13 20:44:07,898 ERROR org.springframework.boot.SpringApplication [restartedMain] Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'movieRepository': FactoryBean threw exception on object creation; nested exception is java.lang.IllegalArgumentException: Validation failed for query for method public abstract java.util.List br.com.ada.moviesbattle.repository.MovieRepository.findRandom()!
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.doGetObjectFromFactoryBean(FactoryBeanRegistrySupport.java:178)
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:101)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1821)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1266)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:621)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:609)
	at org.springframework.data.repository.config.DeferredRepositoryInitializationListener.onApplicationEvent(DeferredRepositoryInitializationListener.java:51)
	at org.springframework.data.repository.config.DeferredRepositoryInitializationListener.onApplicationEvent(DeferredRepositoryInitializationListener.java:36)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:404)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:361)
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:898)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:554)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1237)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at br.com.ada.moviesbattle.MoviesBattleApplication.main(MoviesBattleApplication.java:28)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: java.lang.IllegalArgumentException: Validation failed for query for method public abstract java.util.List br.com.ada.moviesbattle.repository.MovieRepository.findRandom()!
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:93)
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.<init>(SimpleJpaQuery.java:63)
	at org.springframework.data.jpa.repository.query.JpaQueryFactory.fromMethodWithQueryString(JpaQueryFactory.java:76)
	at org.springframework.data.jpa.repository.query.JpaQueryFactory.fromQueryAnnotation(JpaQueryFactory.java:56)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$DeclaredQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:146)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:216)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:81)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:99)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$mapMethodsToQuery$1(QueryExecutorMethodInterceptor.java:92)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)
	at java.base/java.util.Collections$UnmodifiableCollection$1.forEachRemaining(Collections.java:1054)
	at java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:913)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:578)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:94)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:84)
	at java.base/java.util.Optional.map(Optional.java:265)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.<init>(QueryExecutorMethodInterceptor.java:84)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:331)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:297)
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:212)
	at org.springframework.data.util.Lazy.get(Lazy.java:94)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.getObject(RepositoryFactoryBeanSupport.java:244)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.getObject(RepositoryFactoryBeanSupport.java:57)
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.doGetObjectFromFactoryBean(FactoryBeanRegistrySupport.java:171)
	... 29 common frames omitted
Caused by: java.lang.IllegalArgumentException: org.hibernate.hql.internal.ast.QuerySyntaxException: unexpected token: FETCH near line 1, column 44 [SELECT imdbID FROM movie ORDER BY RANDOM() FETCH FIRST 2 ROWS ONLY]
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:138)
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:181)
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:188)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:725)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:113)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:366)
	at com.sun.proxy.$Proxy164.createQuery(Unknown Source)
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:87)
	... 57 common frames omitted
Caused by: org.hibernate.hql.internal.ast.QuerySyntaxException: unexpected token: FETCH near line 1, column 44 [SELECT imdbID FROM movie ORDER BY RANDOM() FETCH FIRST 2 ROWS ONLY]
	at org.hibernate.hql.internal.ast.QuerySyntaxException.convert(QuerySyntaxException.java:74)
	at org.hibernate.hql.internal.ast.ErrorTracker.throwQueryException(ErrorTracker.java:93)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.parse(QueryTranslatorImpl.java:301)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:189)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:144)
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:113)
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:73)
	at org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:162)
	at org.hibernate.internal.AbstractSharedSessionContract.getQueryPlan(AbstractSharedSessionContract.java:604)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:716)
	... 65 common frames omitted
2022-08-13 20:45:06,181 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting MoviesBattleApplication on DESKTOP-EKRMV67 with PID 36356 (D:\projetos\ada\movies-battle\target\classes started by guibe in D:\projetos\ada\movies-battle)
2022-08-13 20:45:06,195 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.3.1.RELEASE, Spring v5.2.7.RELEASE
2022-08-13 20:45:06,196 INFO org.springframework.boot.SpringApplication [restartedMain] The following profiles are active: dev
2022-08-13 20:45:06,348 INFO org.springframework.boot.logging.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-08-13 20:45:06,348 INFO org.springframework.boot.logging.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-08-13 20:45:10,271 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2022-08-13 20:45:10,505 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 216ms. Found 5 JPA repository interfaces.
2022-08-13 20:45:12,335 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8080 (http)
2022-08-13 20:45:12,360 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8080"]
2022-08-13 20:45:12,361 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2022-08-13 20:45:12,362 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.36]
2022-08-13 20:45:12,808 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2022-08-13 20:45:12,810 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 6460 ms
2022-08-13 20:45:13,155 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2022-08-13 20:45:13,423 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2022-08-13 20:45:13,438 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [restartedMain] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:alura-forum'
2022-08-13 20:45:13,612 INFO org.springframework.boot.actuate.endpoint.web.ServletEndpointRegistrar [restartedMain] Registered '/actuator/jolokia' to jolokia-actuator-endpoint
2022-08-13 20:45:13,854 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2022-08-13 20:45:13,892 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'taskScheduler'
2022-08-13 20:45:14,027 INFO org.hibernate.jpa.internal.util.LogHelper [task-1] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-08-13 20:45:14,182 INFO org.hibernate.Version [task-1] HHH000412: Hibernate ORM core version 5.4.17.Final
2022-08-13 20:45:14,212 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-08-13 20:45:14,490 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [task-1] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2022-08-13 20:45:14,764 INFO org.hibernate.dialect.Dialect [task-1] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-08-13 20:45:15,268 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [restartedMain] Exposing 14 endpoint(s) beneath base path '/actuator'
2022-08-13 20:45:15,868 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@35f0e4e, org.springframework.security.web.context.SecurityContextPersistenceFilter@3bf5ff94, org.springframework.security.web.header.HeaderWriterFilter@410a052c, org.springframework.security.web.authentication.logout.LogoutFilter@180568bf, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7cb7469, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@223caa04, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1b674d60, org.springframework.security.web.session.SessionManagementFilter@26624c9f, org.springframework.security.web.access.ExceptionTranslationFilter@12f82d7a, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2e55d1fc]
2022-08-13 20:45:15,986 INFO springfox.documentation.spring.web.PropertySourcedRequestMappingHandlerMapping [restartedMain] Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2022-08-13 20:45:16,368 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2022-08-13 20:45:16,782 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService
2022-08-13 20:45:16,954 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [task-1] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-08-13 20:45:16,979 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [task-1] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-08-13 20:45:17,248 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8080"]
2022-08-13 20:45:17,329 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8080 (http) with context path ''
2022-08-13 20:45:17,335 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [restartedMain] Context refreshed
2022-08-13 20:45:17,382 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [restartedMain] Found 1 custom documentation plugin(s)
2022-08-13 20:45:17,487 INFO springfox.documentation.spring.web.scanners.ApiListingReferenceScanner [restartedMain] Scanning for api listing references
2022-08-13 20:45:17,525 INFO org.springframework.data.repository.config.DeferredRepositoryInitializationListener [restartedMain] Triggering deferred initialization of Spring Data repositoriesâ€¦
2022-08-13 20:45:18,537 ERROR org.hibernate.hql.internal.ast.ErrorTracker [restartedMain] line 1:8: unexpected token: TOP
2022-08-13 20:45:18,545 ERROR org.hibernate.hql.internal.ast.ErrorTracker [restartedMain] line 1:8: unexpected token: TOP
antlr.NoViableAltException: unexpected token: TOP
	at org.hibernate.hql.internal.antlr.HqlBaseParser.primaryExpression(HqlBaseParser.java:1021)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.atom(HqlBaseParser.java:3554)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.unaryExpression(HqlBaseParser.java:3406)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.multiplyExpression(HqlBaseParser.java:3278)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.additiveExpression(HqlBaseParser.java:2935)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.concatenation(HqlBaseParser.java:615)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.relationalExpression(HqlBaseParser.java:2702)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.equalityExpression(HqlBaseParser.java:2563)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.negatedExpression(HqlBaseParser.java:2527)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.logicalAndExpression(HqlBaseParser.java:2443)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.logicalOrExpression(HqlBaseParser.java:2408)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.expression(HqlBaseParser.java:2121)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.aliasedExpression(HqlBaseParser.java:2362)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.selectedPropertiesList(HqlBaseParser.java:1395)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.selectClause(HqlBaseParser.java:1305)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.selectFrom(HqlBaseParser.java:1045)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.queryRule(HqlBaseParser.java:748)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.selectStatement(HqlBaseParser.java:319)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.statement(HqlBaseParser.java:198)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.parse(QueryTranslatorImpl.java:294)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:189)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:144)
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:113)
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:73)
	at org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:162)
	at org.hibernate.internal.AbstractSharedSessionContract.getQueryPlan(AbstractSharedSessionContract.java:604)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:716)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:113)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:366)
	at com.sun.proxy.$Proxy164.createQuery(Unknown Source)
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:87)
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.<init>(SimpleJpaQuery.java:63)
	at org.springframework.data.jpa.repository.query.JpaQueryFactory.fromMethodWithQueryString(JpaQueryFactory.java:76)
	at org.springframework.data.jpa.repository.query.JpaQueryFactory.fromQueryAnnotation(JpaQueryFactory.java:56)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$DeclaredQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:146)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:216)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:81)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:99)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$mapMethodsToQuery$1(QueryExecutorMethodInterceptor.java:92)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)
	at java.base/java.util.Collections$UnmodifiableCollection$1.forEachRemaining(Collections.java:1054)
	at java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:913)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:578)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:94)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:84)
	at java.base/java.util.Optional.map(Optional.java:265)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.<init>(QueryExecutorMethodInterceptor.java:84)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:331)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:297)
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:212)
	at org.springframework.data.util.Lazy.get(Lazy.java:94)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.getObject(RepositoryFactoryBeanSupport.java:244)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.getObject(RepositoryFactoryBeanSupport.java:57)
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.doGetObjectFromFactoryBean(FactoryBeanRegistrySupport.java:171)
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:101)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1821)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1266)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:621)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:609)
	at org.springframework.data.repository.config.DeferredRepositoryInitializationListener.onApplicationEvent(DeferredRepositoryInitializationListener.java:51)
	at org.springframework.data.repository.config.DeferredRepositoryInitializationListener.onApplicationEvent(DeferredRepositoryInitializationListener.java:36)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:404)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:361)
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:898)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:554)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1237)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at br.com.ada.moviesbattle.MoviesBattleApplication.main(MoviesBattleApplication.java:28)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
2022-08-13 20:45:18,547 WARN org.hibernate.hql.internal.ast.HqlParser [restartedMain] HHH000203: processEqualityExpression() : No expression to process!
2022-08-13 20:45:18,548 ERROR org.hibernate.hql.internal.ast.ErrorTracker [restartedMain] line 1:14: unexpected token: imdbID
2022-08-13 20:45:18,549 ERROR org.hibernate.hql.internal.ast.ErrorTracker [restartedMain] line 1:14: unexpected token: imdbID
antlr.NoViableAltException: unexpected token: imdbID
	at org.hibernate.hql.internal.antlr.HqlBaseParser.aliasedExpression(HqlBaseParser.java:2388)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.selectedPropertiesList(HqlBaseParser.java:1395)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.selectClause(HqlBaseParser.java:1305)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.selectFrom(HqlBaseParser.java:1045)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.queryRule(HqlBaseParser.java:748)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.selectStatement(HqlBaseParser.java:319)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.statement(HqlBaseParser.java:198)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.parse(QueryTranslatorImpl.java:294)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:189)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:144)
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:113)
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:73)
	at org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:162)
	at org.hibernate.internal.AbstractSharedSessionContract.getQueryPlan(AbstractSharedSessionContract.java:604)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:716)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:113)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:366)
	at com.sun.proxy.$Proxy164.createQuery(Unknown Source)
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:87)
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.<init>(SimpleJpaQuery.java:63)
	at org.springframework.data.jpa.repository.query.JpaQueryFactory.fromMethodWithQueryString(JpaQueryFactory.java:76)
	at org.springframework.data.jpa.repository.query.JpaQueryFactory.fromQueryAnnotation(JpaQueryFactory.java:56)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$DeclaredQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:146)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:216)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:81)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:99)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$mapMethodsToQuery$1(QueryExecutorMethodInterceptor.java:92)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)
	at java.base/java.util.Collections$UnmodifiableCollection$1.forEachRemaining(Collections.java:1054)
	at java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:913)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:578)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:94)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:84)
	at java.base/java.util.Optional.map(Optional.java:265)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.<init>(QueryExecutorMethodInterceptor.java:84)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:331)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:297)
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:212)
	at org.springframework.data.util.Lazy.get(Lazy.java:94)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.getObject(RepositoryFactoryBeanSupport.java:244)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.getObject(RepositoryFactoryBeanSupport.java:57)
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.doGetObjectFromFactoryBean(FactoryBeanRegistrySupport.java:171)
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:101)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1821)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1266)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:621)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:609)
	at org.springframework.data.repository.config.DeferredRepositoryInitializationListener.onApplicationEvent(DeferredRepositoryInitializationListener.java:51)
	at org.springframework.data.repository.config.DeferredRepositoryInitializationListener.onApplicationEvent(DeferredRepositoryInitializationListener.java:36)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:404)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:361)
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:898)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:554)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1237)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at br.com.ada.moviesbattle.MoviesBattleApplication.main(MoviesBattleApplication.java:28)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
2022-08-13 20:45:18,565 WARN org.springframework.context.support.AbstractApplicationContext [restartedMain] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'movieRepository': FactoryBean threw exception on object creation; nested exception is java.lang.IllegalArgumentException: Validation failed for query for method public abstract java.util.List br.com.ada.moviesbattle.repository.MovieRepository.findRandom()!
2022-08-13 20:45:18,574 WARN org.springframework.beans.factory.support.DisposableBeanAdapter [restartedMain] Invocation of destroy method failed on bean with name 'tomcatMetricsBinder': java.lang.NullPointerException
2022-08-13 20:45:18,577 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Shutting down ExecutorService
2022-08-13 20:45:18,589 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-08-13 20:45:18,597 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Shutting down ExecutorService 'taskScheduler'
2022-08-13 20:45:18,598 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Shutting down ExecutorService 'applicationTaskExecutor'
2022-08-13 20:45:18,817 WARN org.springframework.beans.factory.support.DisposableBeanAdapter [restartedMain] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2022-08-13 20:45:18,818 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Shutdown initiated...
2022-08-13 20:45:18,827 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Shutdown completed.
2022-08-13 20:45:18,836 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Pausing ProtocolHandler ["http-nio-8080"]
2022-08-13 20:45:20,038 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Stopping service [Tomcat]
2022-08-13 20:45:20,047 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Stopping ProtocolHandler ["http-nio-8080"]
2022-08-13 20:45:20,055 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Destroying ProtocolHandler ["http-nio-8080"]
2022-08-13 20:45:20,081 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [restartedMain] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-08-13 20:45:20,098 ERROR org.springframework.boot.SpringApplication [restartedMain] Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'movieRepository': FactoryBean threw exception on object creation; nested exception is java.lang.IllegalArgumentException: Validation failed for query for method public abstract java.util.List br.com.ada.moviesbattle.repository.MovieRepository.findRandom()!
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.doGetObjectFromFactoryBean(FactoryBeanRegistrySupport.java:178)
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:101)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1821)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1266)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:621)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:609)
	at org.springframework.data.repository.config.DeferredRepositoryInitializationListener.onApplicationEvent(DeferredRepositoryInitializationListener.java:51)
	at org.springframework.data.repository.config.DeferredRepositoryInitializationListener.onApplicationEvent(DeferredRepositoryInitializationListener.java:36)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:404)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:361)
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:898)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:554)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1237)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at br.com.ada.moviesbattle.MoviesBattleApplication.main(MoviesBattleApplication.java:28)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: java.lang.IllegalArgumentException: Validation failed for query for method public abstract java.util.List br.com.ada.moviesbattle.repository.MovieRepository.findRandom()!
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:93)
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.<init>(SimpleJpaQuery.java:63)
	at org.springframework.data.jpa.repository.query.JpaQueryFactory.fromMethodWithQueryString(JpaQueryFactory.java:76)
	at org.springframework.data.jpa.repository.query.JpaQueryFactory.fromQueryAnnotation(JpaQueryFactory.java:56)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$DeclaredQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:146)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:216)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:81)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:99)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$mapMethodsToQuery$1(QueryExecutorMethodInterceptor.java:92)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)
	at java.base/java.util.Collections$UnmodifiableCollection$1.forEachRemaining(Collections.java:1054)
	at java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:913)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:578)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:94)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:84)
	at java.base/java.util.Optional.map(Optional.java:265)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.<init>(QueryExecutorMethodInterceptor.java:84)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:331)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:297)
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:212)
	at org.springframework.data.util.Lazy.get(Lazy.java:94)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.getObject(RepositoryFactoryBeanSupport.java:244)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.getObject(RepositoryFactoryBeanSupport.java:57)
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.doGetObjectFromFactoryBean(FactoryBeanRegistrySupport.java:171)
	... 29 common frames omitted
Caused by: java.lang.IllegalArgumentException: org.hibernate.hql.internal.ast.QuerySyntaxException: unexpected token: TOP near line 1, column 8 [SELECT TOP 2 imdbID FROM movie ORDER BY RANDOM()]
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:138)
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:181)
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:188)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:725)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:113)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:366)
	at com.sun.proxy.$Proxy164.createQuery(Unknown Source)
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:87)
	... 57 common frames omitted
Caused by: org.hibernate.hql.internal.ast.QuerySyntaxException: unexpected token: TOP near line 1, column 8 [SELECT TOP 2 imdbID FROM movie ORDER BY RANDOM()]
	at org.hibernate.hql.internal.ast.QuerySyntaxException.convert(QuerySyntaxException.java:74)
	at org.hibernate.hql.internal.ast.ErrorTracker.throwQueryException(ErrorTracker.java:93)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.parse(QueryTranslatorImpl.java:301)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:189)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:144)
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:113)
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:73)
	at org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:162)
	at org.hibernate.internal.AbstractSharedSessionContract.getQueryPlan(AbstractSharedSessionContract.java:604)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:716)
	... 65 common frames omitted
2022-08-13 20:49:21,580 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting MoviesBattleApplication on DESKTOP-EKRMV67 with PID 34044 (D:\projetos\ada\movies-battle\target\classes started by guibe in D:\projetos\ada\movies-battle)
2022-08-13 20:49:21,599 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.3.1.RELEASE, Spring v5.2.7.RELEASE
2022-08-13 20:49:21,600 INFO org.springframework.boot.SpringApplication [restartedMain] The following profiles are active: dev
2022-08-13 20:49:21,727 INFO org.springframework.boot.logging.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-08-13 20:49:21,727 INFO org.springframework.boot.logging.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-08-13 20:49:25,507 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2022-08-13 20:49:25,747 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 224ms. Found 5 JPA repository interfaces.
2022-08-13 20:49:27,688 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8080 (http)
2022-08-13 20:49:27,709 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8080"]
2022-08-13 20:49:27,710 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2022-08-13 20:49:27,711 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.36]
2022-08-13 20:49:28,011 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2022-08-13 20:49:28,012 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 6284 ms
2022-08-13 20:49:28,403 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2022-08-13 20:49:28,707 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2022-08-13 20:49:28,726 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [restartedMain] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:alura-forum'
2022-08-13 20:49:28,937 INFO org.springframework.boot.actuate.endpoint.web.ServletEndpointRegistrar [restartedMain] Registered '/actuator/jolokia' to jolokia-actuator-endpoint
2022-08-13 20:49:29,168 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2022-08-13 20:49:29,200 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'taskScheduler'
2022-08-13 20:49:29,325 INFO org.hibernate.jpa.internal.util.LogHelper [task-1] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-08-13 20:49:29,430 INFO org.hibernate.Version [task-1] HHH000412: Hibernate ORM core version 5.4.17.Final
2022-08-13 20:49:29,503 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-08-13 20:49:29,765 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [task-1] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2022-08-13 20:49:30,044 INFO org.hibernate.dialect.Dialect [task-1] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-08-13 20:49:30,574 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [restartedMain] Exposing 14 endpoint(s) beneath base path '/actuator'
2022-08-13 20:49:31,205 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@50c74fbe, org.springframework.security.web.context.SecurityContextPersistenceFilter@19023049, org.springframework.security.web.header.HeaderWriterFilter@76886439, org.springframework.security.web.authentication.logout.LogoutFilter@438c5a6c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5d5d33d3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@76a45616, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@768547ec, org.springframework.security.web.session.SessionManagementFilter@1cb9e785, org.springframework.security.web.access.ExceptionTranslationFilter@5fbb0858, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3dd58f36]
2022-08-13 20:49:31,351 INFO springfox.documentation.spring.web.PropertySourcedRequestMappingHandlerMapping [restartedMain] Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2022-08-13 20:49:31,716 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2022-08-13 20:49:32,135 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService
2022-08-13 20:49:32,394 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [task-1] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-08-13 20:49:32,417 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [task-1] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-08-13 20:49:32,677 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8080"]
2022-08-13 20:49:32,758 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8080 (http) with context path ''
2022-08-13 20:49:32,764 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [restartedMain] Context refreshed
2022-08-13 20:49:32,818 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [restartedMain] Found 1 custom documentation plugin(s)
2022-08-13 20:49:32,921 INFO springfox.documentation.spring.web.scanners.ApiListingReferenceScanner [restartedMain] Scanning for api listing references
2022-08-13 20:49:32,954 INFO org.springframework.data.repository.config.DeferredRepositoryInitializationListener [restartedMain] Triggering deferred initialization of Spring Data repositoriesâ€¦
2022-08-13 20:49:33,893 WARN org.springframework.context.support.AbstractApplicationContext [restartedMain] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'movieRepository': FactoryBean threw exception on object creation; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract java.util.List br.com.ada.moviesbattle.repository.MovieRepository.findTop2ByOrderByRandom()! No property random found for type Movie!
2022-08-13 20:49:33,903 WARN org.springframework.beans.factory.support.DisposableBeanAdapter [restartedMain] Invocation of destroy method failed on bean with name 'tomcatMetricsBinder': java.lang.NullPointerException
2022-08-13 20:49:33,905 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Shutting down ExecutorService
2022-08-13 20:49:33,915 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-08-13 20:49:33,921 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Shutting down ExecutorService 'taskScheduler'
2022-08-13 20:49:33,922 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Shutting down ExecutorService 'applicationTaskExecutor'
2022-08-13 20:49:34,137 WARN org.springframework.beans.factory.support.DisposableBeanAdapter [restartedMain] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2022-08-13 20:49:34,139 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Shutdown initiated...
2022-08-13 20:49:34,153 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Shutdown completed.
2022-08-13 20:49:34,162 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Pausing ProtocolHandler ["http-nio-8080"]
2022-08-13 20:49:35,402 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Stopping service [Tomcat]
2022-08-13 20:49:35,412 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Stopping ProtocolHandler ["http-nio-8080"]
2022-08-13 20:49:35,422 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Destroying ProtocolHandler ["http-nio-8080"]
2022-08-13 20:49:35,427 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [restartedMain] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-08-13 20:49:35,451 ERROR org.springframework.boot.SpringApplication [restartedMain] Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'movieRepository': FactoryBean threw exception on object creation; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract java.util.List br.com.ada.moviesbattle.repository.MovieRepository.findTop2ByOrderByRandom()! No property random found for type Movie!
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.doGetObjectFromFactoryBean(FactoryBeanRegistrySupport.java:178)
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:101)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1821)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1266)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:621)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:609)
	at org.springframework.data.repository.config.DeferredRepositoryInitializationListener.onApplicationEvent(DeferredRepositoryInitializationListener.java:51)
	at org.springframework.data.repository.config.DeferredRepositoryInitializationListener.onApplicationEvent(DeferredRepositoryInitializationListener.java:36)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:404)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:361)
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:898)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:554)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1237)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at br.com.ada.moviesbattle.MoviesBattleApplication.main(MoviesBattleApplication.java:28)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: java.lang.IllegalArgumentException: Failed to create query for method public abstract java.util.List br.com.ada.moviesbattle.repository.MovieRepository.findTop2ByOrderByRandom()! No property random found for type Movie!
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.<init>(PartTreeJpaQuery.java:96)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:107)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:218)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:81)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:99)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$mapMethodsToQuery$1(QueryExecutorMethodInterceptor.java:92)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)
	at java.base/java.util.Collections$UnmodifiableCollection$1.forEachRemaining(Collections.java:1054)
	at java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:913)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:578)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:94)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:84)
	at java.base/java.util.Optional.map(Optional.java:265)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.<init>(QueryExecutorMethodInterceptor.java:84)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:331)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:297)
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:212)
	at org.springframework.data.util.Lazy.get(Lazy.java:94)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.getObject(RepositoryFactoryBeanSupport.java:244)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.getObject(RepositoryFactoryBeanSupport.java:57)
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.doGetObjectFromFactoryBean(FactoryBeanRegistrySupport.java:171)
	... 29 common frames omitted
Caused by: org.springframework.data.mapping.PropertyReferenceException: No property random found for type Movie!
	at org.springframework.data.mapping.PropertyPath.<init>(PropertyPath.java:94)
	at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:382)
	at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:358)
	at org.springframework.data.mapping.PropertyPath.lambda$from$0(PropertyPath.java:311)
	at java.base/java.util.concurrent.ConcurrentMap.computeIfAbsent(ConcurrentMap.java:330)
	at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:293)
	at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:276)
	at org.springframework.data.repository.query.parser.OrderBySource.lambda$createOrder$2(OrderBySource.java:112)
	at java.base/java.util.Optional.map(Optional.java:265)
	at org.springframework.data.repository.query.parser.OrderBySource.createOrder(OrderBySource.java:110)
	at org.springframework.data.repository.query.parser.OrderBySource.<init>(OrderBySource.java:94)
	at org.springframework.data.repository.query.parser.PartTree$Predicate.<init>(PartTree.java:384)
	at org.springframework.data.repository.query.parser.PartTree.<init>(PartTree.java:97)
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.<init>(PartTreeJpaQuery.java:89)
	... 54 common frames omitted
2022-08-13 21:16:08,072 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting MoviesBattleApplication on DESKTOP-EKRMV67 with PID 33448 (D:\projetos\ada\movies-battle\target\classes started by guibe in D:\projetos\ada\movies-battle)
2022-08-13 21:16:08,076 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.3.1.RELEASE, Spring v5.2.7.RELEASE
2022-08-13 21:16:08,076 INFO org.springframework.boot.SpringApplication [restartedMain] The following profiles are active: dev
2022-08-13 21:16:08,123 INFO org.springframework.boot.logging.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-08-13 21:16:08,123 INFO org.springframework.boot.logging.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-08-13 21:16:09,436 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2022-08-13 21:16:09,522 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 81ms. Found 5 JPA repository interfaces.
2022-08-13 21:16:10,119 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8080 (http)
2022-08-13 21:16:10,127 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8080"]
2022-08-13 21:16:10,127 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2022-08-13 21:16:10,127 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.36]
2022-08-13 21:16:10,232 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2022-08-13 21:16:10,232 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 2109 ms
2022-08-13 21:16:10,354 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2022-08-13 21:16:10,471 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2022-08-13 21:16:10,476 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [restartedMain] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:alura-forum'
2022-08-13 21:16:10,553 INFO org.springframework.boot.actuate.endpoint.web.ServletEndpointRegistrar [restartedMain] Registered '/actuator/jolokia' to jolokia-actuator-endpoint
2022-08-13 21:16:10,627 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2022-08-13 21:16:10,637 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'taskScheduler'
2022-08-13 21:16:10,669 INFO org.hibernate.jpa.internal.util.LogHelper [task-1] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-08-13 21:16:10,708 INFO org.hibernate.Version [task-1] HHH000412: Hibernate ORM core version 5.4.17.Final
2022-08-13 21:16:10,720 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-08-13 21:16:10,810 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [task-1] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2022-08-13 21:16:10,903 INFO org.hibernate.dialect.Dialect [task-1] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-08-13 21:16:11,102 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [restartedMain] Exposing 14 endpoint(s) beneath base path '/actuator'
2022-08-13 21:16:11,292 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6381f441, org.springframework.security.web.context.SecurityContextPersistenceFilter@6a6c9ff8, org.springframework.security.web.header.HeaderWriterFilter@365e27a9, org.springframework.security.web.authentication.logout.LogoutFilter@8294963, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3231e594, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5ea377ab, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@767f7238, org.springframework.security.web.session.SessionManagementFilter@6cab877e, org.springframework.security.web.access.ExceptionTranslationFilter@25b705a6, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@59ccabfe]
2022-08-13 21:16:11,342 INFO springfox.documentation.spring.web.PropertySourcedRequestMappingHandlerMapping [restartedMain] Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2022-08-13 21:16:11,488 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2022-08-13 21:16:11,622 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService
2022-08-13 21:16:11,678 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [task-1] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-08-13 21:16:11,684 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [task-1] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-08-13 21:16:11,775 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8080"]
2022-08-13 21:16:11,796 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8080 (http) with context path ''
2022-08-13 21:16:11,797 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [restartedMain] Context refreshed
2022-08-13 21:16:11,811 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [restartedMain] Found 1 custom documentation plugin(s)
2022-08-13 21:16:11,845 INFO springfox.documentation.spring.web.scanners.ApiListingReferenceScanner [restartedMain] Scanning for api listing references
2022-08-13 21:16:11,855 INFO org.springframework.data.repository.config.DeferredRepositoryInitializationListener [restartedMain] Triggering deferred initialization of Spring Data repositoriesâ€¦
2022-08-13 21:16:12,237 WARN org.springframework.context.support.AbstractApplicationContext [restartedMain] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'movieRepository': FactoryBean threw exception on object creation; nested exception is java.lang.IllegalArgumentException: Validation failed for query for method public abstract java.util.List br.com.ada.moviesbattle.repository.MovieRepository.findRandom()!
2022-08-13 21:16:12,238 WARN org.springframework.beans.factory.support.DisposableBeanAdapter [restartedMain] Invocation of destroy method failed on bean with name 'tomcatMetricsBinder': java.lang.NullPointerException
2022-08-13 21:16:12,239 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Shutting down ExecutorService
2022-08-13 21:16:12,241 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-08-13 21:16:12,243 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Shutting down ExecutorService 'taskScheduler'
2022-08-13 21:16:12,243 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Shutting down ExecutorService 'applicationTaskExecutor'
2022-08-13 21:16:12,449 WARN org.springframework.beans.factory.support.DisposableBeanAdapter [restartedMain] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2022-08-13 21:16:12,449 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Shutdown initiated...
2022-08-13 21:16:12,452 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Shutdown completed.
2022-08-13 21:16:12,455 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Pausing ProtocolHandler ["http-nio-8080"]
2022-08-13 21:16:12,843 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Stopping service [Tomcat]
2022-08-13 21:16:12,848 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Stopping ProtocolHandler ["http-nio-8080"]
2022-08-13 21:16:12,852 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Destroying ProtocolHandler ["http-nio-8080"]
2022-08-13 21:16:12,861 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [restartedMain] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-08-13 21:16:12,869 ERROR org.springframework.boot.SpringApplication [restartedMain] Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'movieRepository': FactoryBean threw exception on object creation; nested exception is java.lang.IllegalArgumentException: Validation failed for query for method public abstract java.util.List br.com.ada.moviesbattle.repository.MovieRepository.findRandom()!
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.doGetObjectFromFactoryBean(FactoryBeanRegistrySupport.java:178)
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:101)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1821)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1266)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:621)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:609)
	at org.springframework.data.repository.config.DeferredRepositoryInitializationListener.onApplicationEvent(DeferredRepositoryInitializationListener.java:51)
	at org.springframework.data.repository.config.DeferredRepositoryInitializationListener.onApplicationEvent(DeferredRepositoryInitializationListener.java:36)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:404)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:361)
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:898)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:554)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1237)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at br.com.ada.moviesbattle.MoviesBattleApplication.main(MoviesBattleApplication.java:28)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: java.lang.IllegalArgumentException: Validation failed for query for method public abstract java.util.List br.com.ada.moviesbattle.repository.MovieRepository.findRandom()!
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:93)
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.<init>(SimpleJpaQuery.java:63)
	at org.springframework.data.jpa.repository.query.JpaQueryFactory.fromMethodWithQueryString(JpaQueryFactory.java:76)
	at org.springframework.data.jpa.repository.query.JpaQueryFactory.fromQueryAnnotation(JpaQueryFactory.java:56)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$DeclaredQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:146)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:216)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:81)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:99)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$mapMethodsToQuery$1(QueryExecutorMethodInterceptor.java:92)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)
	at java.base/java.util.Collections$UnmodifiableCollection$1.forEachRemaining(Collections.java:1054)
	at java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:913)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:578)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:94)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:84)
	at java.base/java.util.Optional.map(Optional.java:265)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.<init>(QueryExecutorMethodInterceptor.java:84)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:331)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:297)
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:212)
	at org.springframework.data.util.Lazy.get(Lazy.java:94)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.getObject(RepositoryFactoryBeanSupport.java:244)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.getObject(RepositoryFactoryBeanSupport.java:57)
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.doGetObjectFromFactoryBean(FactoryBeanRegistrySupport.java:171)
	... 29 common frames omitted
Caused by: java.lang.IllegalArgumentException: org.hibernate.hql.internal.ast.QuerySyntaxException: movie is not mapped [SELECT imdbID FROM movie ORDER BY RAND()]
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:138)
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:181)
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:188)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:725)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:113)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:366)
	at com.sun.proxy.$Proxy164.createQuery(Unknown Source)
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:87)
	... 57 common frames omitted
Caused by: org.hibernate.hql.internal.ast.QuerySyntaxException: movie is not mapped [SELECT imdbID FROM movie ORDER BY RAND()]
	at org.hibernate.hql.internal.ast.QuerySyntaxException.generateQueryException(QuerySyntaxException.java:79)
	at org.hibernate.QueryException.wrapWithQueryString(QueryException.java:103)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:220)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:144)
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:113)
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:73)
	at org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:162)
	at org.hibernate.internal.AbstractSharedSessionContract.getQueryPlan(AbstractSharedSessionContract.java:604)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:716)
	... 65 common frames omitted
Caused by: org.hibernate.hql.internal.ast.QuerySyntaxException: movie is not mapped
	at org.hibernate.hql.internal.ast.util.SessionFactoryHelper.requireClassPersister(SessionFactoryHelper.java:169)
	at org.hibernate.hql.internal.ast.tree.FromElementFactory.addFromElement(FromElementFactory.java:91)
	at org.hibernate.hql.internal.ast.tree.FromClause.addFromElement(FromClause.java:79)
	at org.hibernate.hql.internal.ast.HqlSqlWalker.createFromElement(HqlSqlWalker.java:333)
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.fromElement(HqlSqlBaseWalker.java:3758)
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.fromElementList(HqlSqlBaseWalker.java:3647)
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.fromClause(HqlSqlBaseWalker.java:732)
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.query(HqlSqlBaseWalker.java:588)
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.selectStatement(HqlSqlBaseWalker.java:325)
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.statement(HqlSqlBaseWalker.java:273)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.analyze(QueryTranslatorImpl.java:276)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:192)
	... 71 common frames omitted
2022-08-13 21:16:59,058 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting MoviesBattleApplication on DESKTOP-EKRMV67 with PID 30300 (D:\projetos\ada\movies-battle\target\classes started by guibe in D:\projetos\ada\movies-battle)
2022-08-13 21:16:59,062 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.3.1.RELEASE, Spring v5.2.7.RELEASE
2022-08-13 21:16:59,062 INFO org.springframework.boot.SpringApplication [restartedMain] The following profiles are active: dev
2022-08-13 21:16:59,107 INFO org.springframework.boot.logging.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-08-13 21:16:59,108 INFO org.springframework.boot.logging.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-08-13 21:17:00,442 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2022-08-13 21:17:00,517 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 68ms. Found 5 JPA repository interfaces.
2022-08-13 21:17:01,097 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8080 (http)
2022-08-13 21:17:01,115 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8080"]
2022-08-13 21:17:01,115 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2022-08-13 21:17:01,115 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.36]
2022-08-13 21:17:01,226 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2022-08-13 21:17:01,226 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 2118 ms
2022-08-13 21:17:01,339 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2022-08-13 21:17:01,430 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2022-08-13 21:17:01,436 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [restartedMain] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:alura-forum'
2022-08-13 21:17:01,498 INFO org.springframework.boot.actuate.endpoint.web.ServletEndpointRegistrar [restartedMain] Registered '/actuator/jolokia' to jolokia-actuator-endpoint
2022-08-13 21:17:01,575 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2022-08-13 21:17:01,587 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'taskScheduler'
2022-08-13 21:17:01,621 INFO org.hibernate.jpa.internal.util.LogHelper [task-1] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-08-13 21:17:01,674 INFO org.hibernate.Version [task-1] HHH000412: Hibernate ORM core version 5.4.17.Final
2022-08-13 21:17:01,687 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-08-13 21:17:01,781 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [task-1] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2022-08-13 21:17:01,897 INFO org.hibernate.dialect.Dialect [task-1] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-08-13 21:17:02,092 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [restartedMain] Exposing 14 endpoint(s) beneath base path '/actuator'
2022-08-13 21:17:02,293 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3ec763dc, org.springframework.security.web.context.SecurityContextPersistenceFilter@5e4186a7, org.springframework.security.web.header.HeaderWriterFilter@58e7cad, org.springframework.security.web.authentication.logout.LogoutFilter@5bd0b20, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@475d9d0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@28588c8a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@9bf7607, org.springframework.security.web.session.SessionManagementFilter@68c03a9d, org.springframework.security.web.access.ExceptionTranslationFilter@3d4539fe, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@62ffd82]
2022-08-13 21:17:02,337 INFO springfox.documentation.spring.web.PropertySourcedRequestMappingHandlerMapping [restartedMain] Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2022-08-13 21:17:02,460 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2022-08-13 21:17:02,603 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService
2022-08-13 21:17:02,648 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [task-1] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-08-13 21:17:02,654 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [task-1] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-08-13 21:17:02,722 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8080"]
2022-08-13 21:17:02,746 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8080 (http) with context path ''
2022-08-13 21:17:02,748 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [restartedMain] Context refreshed
2022-08-13 21:17:02,761 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [restartedMain] Found 1 custom documentation plugin(s)
2022-08-13 21:17:02,799 INFO springfox.documentation.spring.web.scanners.ApiListingReferenceScanner [restartedMain] Scanning for api listing references
2022-08-13 21:17:02,809 INFO org.springframework.data.repository.config.DeferredRepositoryInitializationListener [restartedMain] Triggering deferred initialization of Spring Data repositoriesâ€¦
2022-08-13 21:17:03,208 INFO org.springframework.data.repository.config.DeferredRepositoryInitializationListener [restartedMain] Spring Data repositories initialized!
2022-08-13 21:17:03,222 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started MoviesBattleApplication in 4.419 seconds (JVM running for 5.887)
2022-08-13 21:17:03,226 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-3] Starting scheduled task to load movies.
2022-08-13 21:17:04,668 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(1)-127.0.0.1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-08-13 21:17:04,669 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(1)-127.0.0.1] Initializing Servlet 'dispatcherServlet'
2022-08-13 21:17:04,675 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(1)-127.0.0.1] Completed initialization in 6 ms
2022-08-13 21:17:05,327 WARN de.codecentric.boot.admin.client.registration.ApplicationRegistrator [registrationTask1] Failed to register application as Application(name=spring-boot-application, managementUrl=http://DESKTOP-EKRMV67:8080/actuator, healthUrl=http://DESKTOP-EKRMV67:8080/actuator/health, serviceUrl=http://DESKTOP-EKRMV67:8080/) at spring-boot-admin ([http://localhost:8081/instances]): I/O error on POST request for "http://localhost:8081/instances": Connection refused: connect; nested exception is java.net.ConnectException: Connection refused: connect. Further attempts are logged on DEBUG level
2022-08-13 21:17:05,569 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=barnes
2022-08-13 21:17:06,316 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt0218976
2022-08-13 21:17:07,013 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt0095816
2022-08-13 21:17:07,704 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt0024936
2022-08-13 21:17:08,382 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt1094299
2022-08-13 21:17:09,037 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt0012017
2022-08-13 21:17:09,227 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt1815979
2022-08-13 21:17:09,912 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt0395485
2022-08-13 21:17:10,183 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt1221124
2022-08-13 21:17:10,373 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt8537704
2022-08-13 21:17:11,008 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt0948478
2022-08-13 21:17:11,215 INFO br.com.ada.moviesbattle.service.MovieServiceImpl [task-3] movies quantity: 10
2022-08-13 21:17:11,215 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-3] Finishing scheduled task to load movies.
2022-08-13 21:17:13,238 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-4] Starting scheduled task to load movies.
2022-08-13 21:17:13,241 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=disparities
2022-08-13 21:17:13,892 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=strain
2022-08-13 21:17:14,565 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt0066769
2022-08-13 21:17:15,190 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt4209174
2022-08-13 21:17:15,817 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt5170778
2022-08-13 21:17:16,441 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt1669819
2022-08-13 21:17:16,634 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt8854384
2022-08-13 21:17:16,829 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt2854692
2022-08-13 21:17:17,500 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt0370281
2022-08-13 21:17:18,124 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt2557782
2022-08-13 21:17:18,789 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt0023366
2022-08-13 21:17:19,440 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt1100593
2022-08-13 21:17:20,092 INFO br.com.ada.moviesbattle.service.MovieServiceImpl [task-4] movies quantity: 20
2022-08-13 21:17:20,092 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-4] Finishing scheduled task to load movies.
2022-08-13 21:17:20,379 ERROR br.com.ada.moviesbattle.exception.ControllerAdvisor [http-nio-8080-exec-1] Failed to convert from type [java.util.ArrayList<?>] to type [@org.springframework.data.jpa.repository.Query java.util.List<br.com.ada.moviesbattle.modelo.Movie>] for value '[tt1221124, tt0095816, tt2854692, tt0066769, tt1094299, tt0370281, tt4209174, tt0023366, tt0948478, tt0024936, tt1669819, tt1100593, tt8537704, tt5170778, tt2557782, tt8854384, tt0218976, tt1815979, tt0395485, tt0012017]'; nested exception is org.springframework.core.convert.ConverterNotFoundException: No converter found capable of converting from type [java.lang.String] to type [@org.springframework.data.jpa.repository.Query br.com.ada.moviesbattle.modelo.Movie]
2022-08-13 21:17:20,383 WARN org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver [http-nio-8080-exec-1] Resolved [org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.util.ArrayList<?>] to type [@org.springframework.data.jpa.repository.Query java.util.List<br.com.ada.moviesbattle.modelo.Movie>] for value '[tt1221124, tt0095816, tt2854692, tt0066769, tt1094299, tt0370281, tt4209174, tt0023366, tt0948478, tt0024936, tt1669819, tt1100593, tt8537704, tt5170778, tt2557782, tt8854384, tt0218976, tt1815979, tt0395485, tt0012017]'; nested exception is org.springframework.core.convert.ConverterNotFoundException: No converter found capable of converting from type [java.lang.String] to type [@org.springframework.data.jpa.repository.Query br.com.ada.moviesbattle.modelo.Movie]]
2022-08-13 21:17:23,248 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-5] Starting scheduled task to load movies.
2022-08-13 21:17:23,251 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-5] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=assyriology
2022-08-13 21:17:23,880 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-5] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=crystallographic
2022-08-13 21:17:24,503 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-5] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=haunt
2022-08-13 21:17:24,687 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-5] https://www.omdbapi.com/?apikey=417758d8&i=tt6535880
2022-08-13 21:17:26,352 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-5] https://www.omdbapi.com/?apikey=417758d8&i=tt2386278
2022-08-13 21:17:27,004 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-5] https://www.omdbapi.com/?apikey=417758d8&i=tt1998395
2022-08-13 21:17:27,202 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-5] https://www.omdbapi.com/?apikey=417758d8&i=tt9893266
2022-08-13 21:17:27,844 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-5] https://www.omdbapi.com/?apikey=417758d8&i=tt0062729
2022-08-13 21:17:28,498 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-5] https://www.omdbapi.com/?apikey=417758d8&i=tt0791079
2022-08-13 21:17:29,130 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-5] https://www.omdbapi.com/?apikey=417758d8&i=tt1288385
2022-08-13 21:17:29,772 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-5] https://www.omdbapi.com/?apikey=417758d8&i=tt1429446
2022-08-13 21:17:30,446 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-5] https://www.omdbapi.com/?apikey=417758d8&i=tt0278110
2022-08-13 21:17:31,098 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-5] https://www.omdbapi.com/?apikey=417758d8&i=tt6088978
2022-08-13 21:17:31,764 INFO br.com.ada.moviesbattle.service.MovieServiceImpl [task-5] movies quantity: 30
2022-08-13 21:17:31,765 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-5] Finishing scheduled task to load movies.
2022-08-13 21:17:33,261 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-6] Starting scheduled task to load movies.
2022-08-13 21:17:33,264 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-6] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=mammalogy
2022-08-13 21:17:33,463 ERROR org.springframework.aop.interceptor.SimpleAsyncUncaughtExceptionHandler [task-6] Unexpected exception occurred invoking async method: public void br.com.ada.moviesbattle.scheduled.LoadMovieTask.loadMovies() throws java.lang.Exception
java.lang.NullPointerException: null
	at br.com.ada.moviesbattle.service.MovieServiceImpl.loadMovies(MovieServiceImpl.java:31)
	at br.com.ada.moviesbattle.scheduled.LoadMovieTask.loadMovies(LoadMovieTask.java:28)
	at br.com.ada.moviesbattle.scheduled.LoadMovieTask$$FastClassBySpringCGLIB$$2cb165b6.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:834)
2022-08-13 21:17:43,265 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-7] Starting scheduled task to load movies.
2022-08-13 21:17:53,271 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-8] Starting scheduled task to load movies.
2022-08-13 21:18:03,285 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-9] Starting scheduled task to load movies.
2022-08-13 21:18:08,314 ERROR br.com.ada.moviesbattle.exception.ControllerAdvisor [http-nio-8080-exec-2] Failed to convert from type [java.util.ArrayList<?>] to type [@org.springframework.data.jpa.repository.Query java.util.List<br.com.ada.moviesbattle.modelo.Movie>] for value '[tt0023366, tt4209174, tt0024936, tt6535880, tt1221124, tt2854692, tt0095816, tt0791079, tt1669819, tt1094299, tt8854384, tt0062729, tt8537704, tt1100593, tt5170778, tt1288385, tt0066769, tt0278110, tt0218976, tt1998395, tt0370281, tt2557782, tt0948478, tt0395485, tt0012017, tt9893266, tt2386278, tt6088978, tt1429446, tt1815979]'; nested exception is org.springframework.core.convert.ConverterNotFoundException: No converter found capable of converting from type [java.lang.String] to type [@org.springframework.data.jpa.repository.Query br.com.ada.moviesbattle.modelo.Movie]
2022-08-13 21:18:08,328 WARN org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver [http-nio-8080-exec-2] Resolved [org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.util.ArrayList<?>] to type [@org.springframework.data.jpa.repository.Query java.util.List<br.com.ada.moviesbattle.modelo.Movie>] for value '[tt0023366, tt4209174, tt0024936, tt6535880, tt1221124, tt2854692, tt0095816, tt0791079, tt1669819, tt1094299, tt8854384, tt0062729, tt8537704, tt1100593, tt5170778, tt1288385, tt0066769, tt0278110, tt0218976, tt1998395, tt0370281, tt2557782, tt0948478, tt0395485, tt0012017, tt9893266, tt2386278, tt6088978, tt1429446, tt1815979]'; nested exception is org.springframework.core.convert.ConverterNotFoundException: No converter found capable of converting from type [java.lang.String] to type [@org.springframework.data.jpa.repository.Query br.com.ada.moviesbattle.modelo.Movie]]
2022-08-13 21:18:13,299 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-10] Starting scheduled task to load movies.
2022-08-13 21:18:20,571 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-7] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=berchtesgaden
2022-08-13 21:18:21,289 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-7] https://www.omdbapi.com/?apikey=417758d8&i=tt1122781
2022-08-13 21:18:23,299 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-11] Starting scheduled task to load movies.
2022-08-13 21:18:25,252 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-8] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=residual
2022-08-13 21:18:25,969 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-8] https://www.omdbapi.com/?apikey=417758d8&i=tt1395064
2022-08-13 21:18:26,238 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-8] https://www.omdbapi.com/?apikey=417758d8&i=tt1836117
2022-08-13 21:18:26,698 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-9] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=opinion
2022-08-13 21:18:26,851 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-8] https://www.omdbapi.com/?apikey=417758d8&i=tt2244766
2022-08-13 21:18:27,092 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-8] https://www.omdbapi.com/?apikey=417758d8&i=tt2582218
2022-08-13 21:18:27,834 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-8] https://www.omdbapi.com/?apikey=417758d8&i=tt4522448
2022-08-13 21:18:27,866 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-9] https://www.omdbapi.com/?apikey=417758d8&i=tt4800070
2022-08-13 21:18:28,479 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-9] https://www.omdbapi.com/?apikey=417758d8&i=tt3547098
2022-08-13 21:18:28,498 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-8] https://www.omdbapi.com/?apikey=417758d8&i=tt7339438
2022-08-13 21:18:28,859 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-10] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=makalu
2022-08-13 21:18:29,088 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-9] https://www.omdbapi.com/?apikey=417758d8&i=tt0369796
2022-08-13 21:18:29,121 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-8] https://www.omdbapi.com/?apikey=417758d8&i=tt7394028
2022-08-13 21:18:29,311 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-8] https://www.omdbapi.com/?apikey=417758d8&i=tt8245704
2022-08-13 21:18:29,542 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-10] https://www.omdbapi.com/?apikey=417758d8&i=tt1041706
2022-08-13 21:18:29,709 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-9] https://www.omdbapi.com/?apikey=417758d8&i=tt0439278
2022-08-13 21:18:29,709 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-7] https://www.omdbapi.com/?apikey=417758d8&i=tt12165734
2022-08-13 21:18:29,739 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-10] https://www.omdbapi.com/?apikey=417758d8&i=tt10045100
2022-08-13 21:18:29,898 INFO br.com.ada.moviesbattle.service.MovieServiceImpl [task-7] movies quantity: 43
2022-08-13 21:18:29,898 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-7] Finishing scheduled task to load movies.
2022-08-13 21:18:29,919 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-8] https://www.omdbapi.com/?apikey=417758d8&i=tt10357598
2022-08-13 21:18:29,930 INFO br.com.ada.moviesbattle.service.MovieServiceImpl [task-10] movies quantity: 45
2022-08-13 21:18:29,930 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-10] Finishing scheduled task to load movies.
2022-08-13 21:18:29,947 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-9] https://www.omdbapi.com/?apikey=417758d8&i=tt0026898
2022-08-13 21:18:30,146 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-9] https://www.omdbapi.com/?apikey=417758d8&i=tt2762598
2022-08-13 21:18:30,529 INFO br.com.ada.moviesbattle.service.MovieServiceImpl [task-8] movies quantity: 48
2022-08-13 21:18:30,529 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-8] Finishing scheduled task to load movies.
2022-08-13 21:18:30,760 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-9] https://www.omdbapi.com/?apikey=417758d8&i=tt3528228
2022-08-13 21:18:30,810 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-11] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=divestiture
2022-08-13 21:18:31,419 ERROR org.springframework.aop.interceptor.SimpleAsyncUncaughtExceptionHandler [task-11] Unexpected exception occurred invoking async method: public void br.com.ada.moviesbattle.scheduled.LoadMovieTask.loadMovies() throws java.lang.Exception
java.lang.NullPointerException: null
	at br.com.ada.moviesbattle.service.MovieServiceImpl.loadMovies(MovieServiceImpl.java:31)
	at br.com.ada.moviesbattle.scheduled.LoadMovieTask.loadMovies(LoadMovieTask.java:28)
	at br.com.ada.moviesbattle.scheduled.LoadMovieTask$$FastClassBySpringCGLIB$$2cb165b6.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:834)
2022-08-13 21:18:31,422 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-9] https://www.omdbapi.com/?apikey=417758d8&i=tt0007226
2022-08-13 21:18:31,613 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-9] https://www.omdbapi.com/?apikey=417758d8&i=tt0023910
2022-08-13 21:18:31,817 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-9] https://www.omdbapi.com/?apikey=417758d8&i=tt0026327
2022-08-13 21:18:32,464 INFO br.com.ada.moviesbattle.service.MovieServiceImpl [task-9] movies quantity: 53
2022-08-13 21:18:32,465 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-9] Finishing scheduled task to load movies.
2022-08-13 21:18:33,300 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-12] Starting scheduled task to load movies.
2022-08-13 21:18:33,302 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-12] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=accentor
2022-08-13 21:18:33,912 ERROR org.springframework.aop.interceptor.SimpleAsyncUncaughtExceptionHandler [task-12] Unexpected exception occurred invoking async method: public void br.com.ada.moviesbattle.scheduled.LoadMovieTask.loadMovies() throws java.lang.Exception
java.lang.NullPointerException: null
	at br.com.ada.moviesbattle.service.MovieServiceImpl.loadMovies(MovieServiceImpl.java:31)
	at br.com.ada.moviesbattle.scheduled.LoadMovieTask.loadMovies(LoadMovieTask.java:28)
	at br.com.ada.moviesbattle.scheduled.LoadMovieTask$$FastClassBySpringCGLIB$$2cb165b6.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:834)
2022-08-13 21:18:40,584 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(11)-127.0.0.1] Application shutdown requested.
2022-08-13 21:18:40,973 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [RMI TCP Connection(11)-127.0.0.1] Shutting down ExecutorService
2022-08-13 21:18:40,975 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [RMI TCP Connection(11)-127.0.0.1] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-08-13 21:18:40,977 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [RMI TCP Connection(11)-127.0.0.1] Shutting down ExecutorService 'taskScheduler'
2022-08-13 21:18:40,978 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [RMI TCP Connection(11)-127.0.0.1] Shutting down ExecutorService 'applicationTaskExecutor'
2022-08-13 21:18:41,184 WARN org.springframework.beans.factory.support.DisposableBeanAdapter [RMI TCP Connection(11)-127.0.0.1] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2022-08-13 21:18:41,185 INFO com.zaxxer.hikari.HikariDataSource [RMI TCP Connection(11)-127.0.0.1] HikariPool-1 - Shutdown initiated...
2022-08-13 21:18:41,188 INFO com.zaxxer.hikari.HikariDataSource [RMI TCP Connection(11)-127.0.0.1] HikariPool-1 - Shutdown completed.
2022-08-13 21:19:10,911 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting MoviesBattleApplication on DESKTOP-EKRMV67 with PID 24624 (D:\projetos\ada\movies-battle\target\classes started by guibe in D:\projetos\ada\movies-battle)
2022-08-13 21:19:10,915 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.3.1.RELEASE, Spring v5.2.7.RELEASE
2022-08-13 21:19:10,915 INFO org.springframework.boot.SpringApplication [restartedMain] The following profiles are active: dev
2022-08-13 21:19:10,963 INFO org.springframework.boot.logging.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-08-13 21:19:10,964 INFO org.springframework.boot.logging.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-08-13 21:19:12,171 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2022-08-13 21:19:12,249 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 71ms. Found 5 JPA repository interfaces.
2022-08-13 21:19:12,811 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8080 (http)
2022-08-13 21:19:12,819 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8080"]
2022-08-13 21:19:12,819 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2022-08-13 21:19:12,819 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.36]
2022-08-13 21:19:12,932 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2022-08-13 21:19:12,932 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 1968 ms
2022-08-13 21:19:13,047 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2022-08-13 21:19:13,141 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2022-08-13 21:19:13,147 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [restartedMain] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:alura-forum'
2022-08-13 21:19:13,207 INFO org.springframework.boot.actuate.endpoint.web.ServletEndpointRegistrar [restartedMain] Registered '/actuator/jolokia' to jolokia-actuator-endpoint
2022-08-13 21:19:13,283 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2022-08-13 21:19:13,296 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'taskScheduler'
2022-08-13 21:19:13,339 INFO org.hibernate.jpa.internal.util.LogHelper [task-1] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-08-13 21:19:13,381 INFO org.hibernate.Version [task-1] HHH000412: Hibernate ORM core version 5.4.17.Final
2022-08-13 21:19:13,391 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-08-13 21:19:13,473 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [task-1] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2022-08-13 21:19:13,575 INFO org.hibernate.dialect.Dialect [task-1] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-08-13 21:19:13,736 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [restartedMain] Exposing 14 endpoint(s) beneath base path '/actuator'
2022-08-13 21:19:13,903 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6493212a, org.springframework.security.web.context.SecurityContextPersistenceFilter@1931055c, org.springframework.security.web.header.HeaderWriterFilter@73f563df, org.springframework.security.web.authentication.logout.LogoutFilter@4043cfee, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4a2750f0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2e200e46, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2faad3d, org.springframework.security.web.session.SessionManagementFilter@545d504e, org.springframework.security.web.access.ExceptionTranslationFilter@2416538b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@585b56c0]
2022-08-13 21:19:13,963 INFO springfox.documentation.spring.web.PropertySourcedRequestMappingHandlerMapping [restartedMain] Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2022-08-13 21:19:14,078 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2022-08-13 21:19:14,228 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService
2022-08-13 21:19:14,318 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [task-1] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-08-13 21:19:14,326 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [task-1] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-08-13 21:19:14,399 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8080"]
2022-08-13 21:19:14,427 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8080 (http) with context path ''
2022-08-13 21:19:14,430 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [restartedMain] Context refreshed
2022-08-13 21:19:14,450 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [restartedMain] Found 1 custom documentation plugin(s)
2022-08-13 21:19:14,483 INFO springfox.documentation.spring.web.scanners.ApiListingReferenceScanner [restartedMain] Scanning for api listing references
2022-08-13 21:19:14,493 INFO org.springframework.data.repository.config.DeferredRepositoryInitializationListener [restartedMain] Triggering deferred initialization of Spring Data repositoriesâ€¦
2022-08-13 21:19:14,827 ERROR org.hibernate.hql.internal.ast.ErrorTracker [restartedMain] line 1:73: unexpected token: LIMIT
2022-08-13 21:19:14,828 ERROR org.hibernate.hql.internal.ast.ErrorTracker [restartedMain] line 1:73: unexpected token: LIMIT
antlr.NoViableAltException: unexpected token: LIMIT
	at org.hibernate.hql.internal.antlr.HqlBaseParser.orderElement(HqlBaseParser.java:2183)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.orderByClause(HqlBaseParser.java:1184)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.queryRule(HqlBaseParser.java:795)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.selectStatement(HqlBaseParser.java:319)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.statement(HqlBaseParser.java:198)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.parse(QueryTranslatorImpl.java:294)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:189)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:144)
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:113)
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:73)
	at org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:162)
	at org.hibernate.internal.AbstractSharedSessionContract.getQueryPlan(AbstractSharedSessionContract.java:604)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:716)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:113)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:366)
	at com.sun.proxy.$Proxy164.createQuery(Unknown Source)
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:87)
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.<init>(SimpleJpaQuery.java:63)
	at org.springframework.data.jpa.repository.query.JpaQueryFactory.fromMethodWithQueryString(JpaQueryFactory.java:76)
	at org.springframework.data.jpa.repository.query.JpaQueryFactory.fromQueryAnnotation(JpaQueryFactory.java:56)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$DeclaredQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:146)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:216)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:81)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:99)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$mapMethodsToQuery$1(QueryExecutorMethodInterceptor.java:92)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)
	at java.base/java.util.Collections$UnmodifiableCollection$1.forEachRemaining(Collections.java:1054)
	at java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:913)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:578)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:94)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:84)
	at java.base/java.util.Optional.map(Optional.java:265)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.<init>(QueryExecutorMethodInterceptor.java:84)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:331)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:297)
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:212)
	at org.springframework.data.util.Lazy.get(Lazy.java:94)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.getObject(RepositoryFactoryBeanSupport.java:244)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.getObject(RepositoryFactoryBeanSupport.java:57)
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.doGetObjectFromFactoryBean(FactoryBeanRegistrySupport.java:171)
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:101)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1821)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1266)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:621)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:609)
	at org.springframework.data.repository.config.DeferredRepositoryInitializationListener.onApplicationEvent(DeferredRepositoryInitializationListener.java:51)
	at org.springframework.data.repository.config.DeferredRepositoryInitializationListener.onApplicationEvent(DeferredRepositoryInitializationListener.java:36)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:404)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:361)
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:898)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:554)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1237)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at br.com.ada.moviesbattle.MoviesBattleApplication.main(MoviesBattleApplication.java:28)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
2022-08-13 21:19:14,832 WARN org.springframework.context.support.AbstractApplicationContext [restartedMain] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'movieRepository': FactoryBean threw exception on object creation; nested exception is java.lang.IllegalArgumentException: Validation failed for query for method public abstract java.util.List br.com.ada.moviesbattle.repository.MovieRepository.findRandom()!
2022-08-13 21:19:14,834 WARN org.springframework.beans.factory.support.DisposableBeanAdapter [restartedMain] Invocation of destroy method failed on bean with name 'tomcatMetricsBinder': java.lang.NullPointerException
2022-08-13 21:19:14,835 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Shutting down ExecutorService
2022-08-13 21:19:14,838 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-08-13 21:19:14,840 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Shutting down ExecutorService 'taskScheduler'
2022-08-13 21:19:14,840 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Shutting down ExecutorService 'applicationTaskExecutor'
2022-08-13 21:19:15,055 WARN org.springframework.beans.factory.support.DisposableBeanAdapter [restartedMain] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2022-08-13 21:19:15,056 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Shutdown initiated...
2022-08-13 21:19:15,059 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Shutdown completed.
2022-08-13 21:19:15,061 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Pausing ProtocolHandler ["http-nio-8080"]
2022-08-13 21:19:15,441 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Stopping service [Tomcat]
2022-08-13 21:19:15,444 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Stopping ProtocolHandler ["http-nio-8080"]
2022-08-13 21:19:15,448 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Destroying ProtocolHandler ["http-nio-8080"]
2022-08-13 21:19:15,457 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [restartedMain] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-08-13 21:19:15,466 ERROR org.springframework.boot.SpringApplication [restartedMain] Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'movieRepository': FactoryBean threw exception on object creation; nested exception is java.lang.IllegalArgumentException: Validation failed for query for method public abstract java.util.List br.com.ada.moviesbattle.repository.MovieRepository.findRandom()!
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.doGetObjectFromFactoryBean(FactoryBeanRegistrySupport.java:178)
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:101)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1821)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1266)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:621)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:609)
	at org.springframework.data.repository.config.DeferredRepositoryInitializationListener.onApplicationEvent(DeferredRepositoryInitializationListener.java:51)
	at org.springframework.data.repository.config.DeferredRepositoryInitializationListener.onApplicationEvent(DeferredRepositoryInitializationListener.java:36)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:404)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:361)
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:898)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:554)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1237)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at br.com.ada.moviesbattle.MoviesBattleApplication.main(MoviesBattleApplication.java:28)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: java.lang.IllegalArgumentException: Validation failed for query for method public abstract java.util.List br.com.ada.moviesbattle.repository.MovieRepository.findRandom()!
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:93)
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.<init>(SimpleJpaQuery.java:63)
	at org.springframework.data.jpa.repository.query.JpaQueryFactory.fromMethodWithQueryString(JpaQueryFactory.java:76)
	at org.springframework.data.jpa.repository.query.JpaQueryFactory.fromQueryAnnotation(JpaQueryFactory.java:56)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$DeclaredQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:146)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:216)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:81)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:99)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$mapMethodsToQuery$1(QueryExecutorMethodInterceptor.java:92)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)
	at java.base/java.util.Collections$UnmodifiableCollection$1.forEachRemaining(Collections.java:1054)
	at java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:913)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:578)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:94)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:84)
	at java.base/java.util.Optional.map(Optional.java:265)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.<init>(QueryExecutorMethodInterceptor.java:84)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:331)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:297)
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:212)
	at org.springframework.data.util.Lazy.get(Lazy.java:94)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.getObject(RepositoryFactoryBeanSupport.java:244)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.getObject(RepositoryFactoryBeanSupport.java:57)
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.doGetObjectFromFactoryBean(FactoryBeanRegistrySupport.java:171)
	... 29 common frames omitted
Caused by: java.lang.IllegalArgumentException: org.hibernate.hql.internal.ast.QuerySyntaxException: unexpected token: LIMIT near line 1, column 73 [SELECT imdbID FROM br.com.ada.moviesbattle.modelo.Movie ORDER BY RAND() LIMIT 1]
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:138)
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:181)
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:188)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:725)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:113)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:366)
	at com.sun.proxy.$Proxy164.createQuery(Unknown Source)
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:87)
	... 57 common frames omitted
Caused by: org.hibernate.hql.internal.ast.QuerySyntaxException: unexpected token: LIMIT near line 1, column 73 [SELECT imdbID FROM br.com.ada.moviesbattle.modelo.Movie ORDER BY RAND() LIMIT 1]
	at org.hibernate.hql.internal.ast.QuerySyntaxException.convert(QuerySyntaxException.java:74)
	at org.hibernate.hql.internal.ast.ErrorTracker.throwQueryException(ErrorTracker.java:93)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.parse(QueryTranslatorImpl.java:301)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:189)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:144)
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:113)
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:73)
	at org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:162)
	at org.hibernate.internal.AbstractSharedSessionContract.getQueryPlan(AbstractSharedSessionContract.java:604)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:716)
	... 65 common frames omitted
2022-08-13 21:26:31,942 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting MoviesBattleApplication on DESKTOP-EKRMV67 with PID 25868 (D:\projetos\ada\movies-battle\target\classes started by guibe in D:\projetos\ada\movies-battle)
2022-08-13 21:26:31,946 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.3.1.RELEASE, Spring v5.2.7.RELEASE
2022-08-13 21:26:31,946 INFO org.springframework.boot.SpringApplication [restartedMain] The following profiles are active: dev
2022-08-13 21:26:31,995 INFO org.springframework.boot.logging.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-08-13 21:26:31,999 INFO org.springframework.boot.logging.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-08-13 21:26:33,308 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2022-08-13 21:26:33,395 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 79ms. Found 5 JPA repository interfaces.
2022-08-13 21:26:33,941 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8080 (http)
2022-08-13 21:26:33,949 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8080"]
2022-08-13 21:26:33,949 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2022-08-13 21:26:33,949 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.36]
2022-08-13 21:26:34,063 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2022-08-13 21:26:34,063 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 2064 ms
2022-08-13 21:26:34,192 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2022-08-13 21:26:34,279 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2022-08-13 21:26:34,285 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [restartedMain] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:alura-forum'
2022-08-13 21:26:34,351 INFO org.springframework.boot.actuate.endpoint.web.ServletEndpointRegistrar [restartedMain] Registered '/actuator/jolokia' to jolokia-actuator-endpoint
2022-08-13 21:26:34,421 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2022-08-13 21:26:34,430 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'taskScheduler'
2022-08-13 21:26:34,463 INFO org.hibernate.jpa.internal.util.LogHelper [task-1] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-08-13 21:26:34,502 INFO org.hibernate.Version [task-1] HHH000412: Hibernate ORM core version 5.4.17.Final
2022-08-13 21:26:34,526 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-08-13 21:26:34,599 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [task-1] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2022-08-13 21:26:34,700 INFO org.hibernate.dialect.Dialect [task-1] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-08-13 21:26:34,881 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [restartedMain] Exposing 14 endpoint(s) beneath base path '/actuator'
2022-08-13 21:26:35,079 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3ffee9fb, org.springframework.security.web.context.SecurityContextPersistenceFilter@12400db7, org.springframework.security.web.header.HeaderWriterFilter@483cfba4, org.springframework.security.web.authentication.logout.LogoutFilter@6411eaf4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@47918105, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@f7e909a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4555f515, org.springframework.security.web.session.SessionManagementFilter@611a237a, org.springframework.security.web.access.ExceptionTranslationFilter@7c2ee6b1, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@46049be7]
2022-08-13 21:26:35,124 INFO springfox.documentation.spring.web.PropertySourcedRequestMappingHandlerMapping [restartedMain] Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2022-08-13 21:26:35,252 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2022-08-13 21:26:35,385 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService
2022-08-13 21:26:35,455 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [task-1] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-08-13 21:26:35,461 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [task-1] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-08-13 21:26:35,533 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8080"]
2022-08-13 21:26:35,555 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8080 (http) with context path ''
2022-08-13 21:26:35,556 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [restartedMain] Context refreshed
2022-08-13 21:26:35,570 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [restartedMain] Found 1 custom documentation plugin(s)
2022-08-13 21:26:35,603 INFO springfox.documentation.spring.web.scanners.ApiListingReferenceScanner [restartedMain] Scanning for api listing references
2022-08-13 21:26:35,612 INFO org.springframework.data.repository.config.DeferredRepositoryInitializationListener [restartedMain] Triggering deferred initialization of Spring Data repositoriesâ€¦
2022-08-13 21:26:35,897 ERROR org.hibernate.hql.internal.ast.ErrorTracker [restartedMain] line 1:8: unexpected token: TOP
2022-08-13 21:26:35,898 ERROR org.hibernate.hql.internal.ast.ErrorTracker [restartedMain] line 1:8: unexpected token: TOP
antlr.NoViableAltException: unexpected token: TOP
	at org.hibernate.hql.internal.antlr.HqlBaseParser.primaryExpression(HqlBaseParser.java:1021)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.atom(HqlBaseParser.java:3554)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.unaryExpression(HqlBaseParser.java:3406)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.multiplyExpression(HqlBaseParser.java:3278)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.additiveExpression(HqlBaseParser.java:2935)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.concatenation(HqlBaseParser.java:615)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.relationalExpression(HqlBaseParser.java:2702)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.equalityExpression(HqlBaseParser.java:2563)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.negatedExpression(HqlBaseParser.java:2527)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.logicalAndExpression(HqlBaseParser.java:2443)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.logicalOrExpression(HqlBaseParser.java:2408)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.expression(HqlBaseParser.java:2121)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.aliasedExpression(HqlBaseParser.java:2362)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.selectedPropertiesList(HqlBaseParser.java:1395)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.selectClause(HqlBaseParser.java:1305)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.selectFrom(HqlBaseParser.java:1045)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.queryRule(HqlBaseParser.java:748)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.selectStatement(HqlBaseParser.java:319)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.statement(HqlBaseParser.java:198)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.parse(QueryTranslatorImpl.java:294)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:189)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:144)
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:113)
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:73)
	at org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:162)
	at org.hibernate.internal.AbstractSharedSessionContract.getQueryPlan(AbstractSharedSessionContract.java:604)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:716)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:113)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:366)
	at com.sun.proxy.$Proxy164.createQuery(Unknown Source)
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:87)
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.<init>(SimpleJpaQuery.java:63)
	at org.springframework.data.jpa.repository.query.JpaQueryFactory.fromMethodWithQueryString(JpaQueryFactory.java:76)
	at org.springframework.data.jpa.repository.query.JpaQueryFactory.fromQueryAnnotation(JpaQueryFactory.java:56)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$DeclaredQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:146)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:216)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:81)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:99)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$mapMethodsToQuery$1(QueryExecutorMethodInterceptor.java:92)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)
	at java.base/java.util.Collections$UnmodifiableCollection$1.forEachRemaining(Collections.java:1054)
	at java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:913)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:578)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:94)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:84)
	at java.base/java.util.Optional.map(Optional.java:265)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.<init>(QueryExecutorMethodInterceptor.java:84)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:331)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:297)
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:212)
	at org.springframework.data.util.Lazy.get(Lazy.java:94)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.getObject(RepositoryFactoryBeanSupport.java:244)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.getObject(RepositoryFactoryBeanSupport.java:57)
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.doGetObjectFromFactoryBean(FactoryBeanRegistrySupport.java:171)
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:101)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1821)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1266)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:621)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:609)
	at org.springframework.data.repository.config.DeferredRepositoryInitializationListener.onApplicationEvent(DeferredRepositoryInitializationListener.java:51)
	at org.springframework.data.repository.config.DeferredRepositoryInitializationListener.onApplicationEvent(DeferredRepositoryInitializationListener.java:36)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:404)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:361)
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:898)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:554)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1237)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at br.com.ada.moviesbattle.MoviesBattleApplication.main(MoviesBattleApplication.java:28)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
2022-08-13 21:26:35,899 WARN org.hibernate.hql.internal.ast.HqlParser [restartedMain] HHH000203: processEqualityExpression() : No expression to process!
2022-08-13 21:26:35,900 ERROR org.hibernate.hql.internal.ast.ErrorTracker [restartedMain] line 1:19: unexpected token: TIES
2022-08-13 21:26:35,900 ERROR org.hibernate.hql.internal.ast.ErrorTracker [restartedMain] line 1:19: unexpected token: TIES
antlr.NoViableAltException: unexpected token: TIES
	at org.hibernate.hql.internal.antlr.HqlBaseParser.aliasedExpression(HqlBaseParser.java:2388)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.selectedPropertiesList(HqlBaseParser.java:1395)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.selectClause(HqlBaseParser.java:1305)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.selectFrom(HqlBaseParser.java:1045)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.queryRule(HqlBaseParser.java:748)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.selectStatement(HqlBaseParser.java:319)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.statement(HqlBaseParser.java:198)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.parse(QueryTranslatorImpl.java:294)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:189)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:144)
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:113)
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:73)
	at org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:162)
	at org.hibernate.internal.AbstractSharedSessionContract.getQueryPlan(AbstractSharedSessionContract.java:604)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:716)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:113)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:366)
	at com.sun.proxy.$Proxy164.createQuery(Unknown Source)
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:87)
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.<init>(SimpleJpaQuery.java:63)
	at org.springframework.data.jpa.repository.query.JpaQueryFactory.fromMethodWithQueryString(JpaQueryFactory.java:76)
	at org.springframework.data.jpa.repository.query.JpaQueryFactory.fromQueryAnnotation(JpaQueryFactory.java:56)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$DeclaredQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:146)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:216)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:81)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:99)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$mapMethodsToQuery$1(QueryExecutorMethodInterceptor.java:92)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)
	at java.base/java.util.Collections$UnmodifiableCollection$1.forEachRemaining(Collections.java:1054)
	at java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:913)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:578)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:94)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:84)
	at java.base/java.util.Optional.map(Optional.java:265)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.<init>(QueryExecutorMethodInterceptor.java:84)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:331)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:297)
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:212)
	at org.springframework.data.util.Lazy.get(Lazy.java:94)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.getObject(RepositoryFactoryBeanSupport.java:244)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.getObject(RepositoryFactoryBeanSupport.java:57)
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.doGetObjectFromFactoryBean(FactoryBeanRegistrySupport.java:171)
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:101)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1821)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1266)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:621)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:609)
	at org.springframework.data.repository.config.DeferredRepositoryInitializationListener.onApplicationEvent(DeferredRepositoryInitializationListener.java:51)
	at org.springframework.data.repository.config.DeferredRepositoryInitializationListener.onApplicationEvent(DeferredRepositoryInitializationListener.java:36)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:404)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:361)
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:898)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:554)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1237)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at br.com.ada.moviesbattle.MoviesBattleApplication.main(MoviesBattleApplication.java:28)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
2022-08-13 21:26:35,906 WARN org.springframework.context.support.AbstractApplicationContext [restartedMain] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'movieRepository': FactoryBean threw exception on object creation; nested exception is java.lang.IllegalArgumentException: Validation failed for query for method public abstract java.util.List br.com.ada.moviesbattle.repository.MovieRepository.findRandom()!
2022-08-13 21:26:35,907 WARN org.springframework.beans.factory.support.DisposableBeanAdapter [restartedMain] Invocation of destroy method failed on bean with name 'tomcatMetricsBinder': java.lang.NullPointerException
2022-08-13 21:26:35,908 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Shutting down ExecutorService
2022-08-13 21:26:35,910 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-08-13 21:26:35,912 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Shutting down ExecutorService 'taskScheduler'
2022-08-13 21:26:35,912 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Shutting down ExecutorService 'applicationTaskExecutor'
2022-08-13 21:26:36,120 WARN org.springframework.beans.factory.support.DisposableBeanAdapter [restartedMain] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2022-08-13 21:26:36,121 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Shutdown initiated...
2022-08-13 21:26:36,124 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Shutdown completed.
2022-08-13 21:26:36,126 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Pausing ProtocolHandler ["http-nio-8080"]
2022-08-13 21:26:36,522 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Stopping service [Tomcat]
2022-08-13 21:26:36,525 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Stopping ProtocolHandler ["http-nio-8080"]
2022-08-13 21:26:36,528 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Destroying ProtocolHandler ["http-nio-8080"]
2022-08-13 21:26:36,537 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [restartedMain] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-08-13 21:26:36,544 ERROR org.springframework.boot.SpringApplication [restartedMain] Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'movieRepository': FactoryBean threw exception on object creation; nested exception is java.lang.IllegalArgumentException: Validation failed for query for method public abstract java.util.List br.com.ada.moviesbattle.repository.MovieRepository.findRandom()!
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.doGetObjectFromFactoryBean(FactoryBeanRegistrySupport.java:178)
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:101)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1821)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1266)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:621)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:609)
	at org.springframework.data.repository.config.DeferredRepositoryInitializationListener.onApplicationEvent(DeferredRepositoryInitializationListener.java:51)
	at org.springframework.data.repository.config.DeferredRepositoryInitializationListener.onApplicationEvent(DeferredRepositoryInitializationListener.java:36)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:404)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:361)
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:898)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:554)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1237)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)
	at br.com.ada.moviesbattle.MoviesBattleApplication.main(MoviesBattleApplication.java:28)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: java.lang.IllegalArgumentException: Validation failed for query for method public abstract java.util.List br.com.ada.moviesbattle.repository.MovieRepository.findRandom()!
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:93)
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.<init>(SimpleJpaQuery.java:63)
	at org.springframework.data.jpa.repository.query.JpaQueryFactory.fromMethodWithQueryString(JpaQueryFactory.java:76)
	at org.springframework.data.jpa.repository.query.JpaQueryFactory.fromQueryAnnotation(JpaQueryFactory.java:56)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$DeclaredQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:146)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:216)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:81)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:99)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$mapMethodsToQuery$1(QueryExecutorMethodInterceptor.java:92)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)
	at java.base/java.util.Collections$UnmodifiableCollection$1.forEachRemaining(Collections.java:1054)
	at java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:913)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:578)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:94)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:84)
	at java.base/java.util.Optional.map(Optional.java:265)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.<init>(QueryExecutorMethodInterceptor.java:84)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:331)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:297)
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:212)
	at org.springframework.data.util.Lazy.get(Lazy.java:94)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.getObject(RepositoryFactoryBeanSupport.java:244)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.getObject(RepositoryFactoryBeanSupport.java:57)
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.doGetObjectFromFactoryBean(FactoryBeanRegistrySupport.java:171)
	... 29 common frames omitted
Caused by: java.lang.IllegalArgumentException: org.hibernate.hql.internal.ast.QuerySyntaxException: unexpected token: TOP near line 1, column 8 [SELECT TOP 2 WITH TIES imdbID FROM br.com.ada.moviesbattle.modelo.Movie ORDER BY RAND()]
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:138)
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:181)
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:188)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:725)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:113)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:366)
	at com.sun.proxy.$Proxy164.createQuery(Unknown Source)
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:87)
	... 57 common frames omitted
Caused by: org.hibernate.hql.internal.ast.QuerySyntaxException: unexpected token: TOP near line 1, column 8 [SELECT TOP 2 WITH TIES imdbID FROM br.com.ada.moviesbattle.modelo.Movie ORDER BY RAND()]
	at org.hibernate.hql.internal.ast.QuerySyntaxException.convert(QuerySyntaxException.java:74)
	at org.hibernate.hql.internal.ast.ErrorTracker.throwQueryException(ErrorTracker.java:93)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.parse(QueryTranslatorImpl.java:301)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:189)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:144)
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:113)
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:73)
	at org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:162)
	at org.hibernate.internal.AbstractSharedSessionContract.getQueryPlan(AbstractSharedSessionContract.java:604)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:716)
	... 65 common frames omitted
2022-08-13 21:31:43,761 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting MoviesBattleApplication on DESKTOP-EKRMV67 with PID 33780 (D:\projetos\ada\movies-battle\target\classes started by guibe in D:\projetos\ada\movies-battle)
2022-08-13 21:31:43,768 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.3.1.RELEASE, Spring v5.2.7.RELEASE
2022-08-13 21:31:43,768 INFO org.springframework.boot.SpringApplication [restartedMain] The following profiles are active: dev
2022-08-13 21:31:43,812 INFO org.springframework.boot.logging.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-08-13 21:31:43,812 INFO org.springframework.boot.logging.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-08-13 21:31:45,056 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2022-08-13 21:31:45,136 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 73ms. Found 5 JPA repository interfaces.
2022-08-13 21:31:45,714 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8080 (http)
2022-08-13 21:31:45,722 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8080"]
2022-08-13 21:31:45,722 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2022-08-13 21:31:45,723 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.36]
2022-08-13 21:31:45,838 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2022-08-13 21:31:45,838 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 2025 ms
2022-08-13 21:31:45,957 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2022-08-13 21:31:46,059 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2022-08-13 21:31:46,064 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [restartedMain] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:alura-forum'
2022-08-13 21:31:46,132 INFO org.springframework.boot.actuate.endpoint.web.ServletEndpointRegistrar [restartedMain] Registered '/actuator/jolokia' to jolokia-actuator-endpoint
2022-08-13 21:31:46,219 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2022-08-13 21:31:46,236 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'taskScheduler'
2022-08-13 21:31:46,269 INFO org.hibernate.jpa.internal.util.LogHelper [task-1] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-08-13 21:31:46,308 INFO org.hibernate.Version [task-1] HHH000412: Hibernate ORM core version 5.4.17.Final
2022-08-13 21:31:46,320 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-08-13 21:31:46,404 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [task-1] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2022-08-13 21:31:46,506 INFO org.hibernate.dialect.Dialect [task-1] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-08-13 21:31:46,699 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [restartedMain] Exposing 14 endpoint(s) beneath base path '/actuator'
2022-08-13 21:31:46,885 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@762f8ebc, org.springframework.security.web.context.SecurityContextPersistenceFilter@74573832, org.springframework.security.web.header.HeaderWriterFilter@62e20909, org.springframework.security.web.authentication.logout.LogoutFilter@52d2bbd3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1d79c2f8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6e41532c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7fcbc468, org.springframework.security.web.session.SessionManagementFilter@6fd7aa00, org.springframework.security.web.access.ExceptionTranslationFilter@30949ec8, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2f4fd51]
2022-08-13 21:31:46,930 INFO springfox.documentation.spring.web.PropertySourcedRequestMappingHandlerMapping [restartedMain] Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2022-08-13 21:31:47,056 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2022-08-13 21:31:47,192 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService
2022-08-13 21:31:47,259 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [task-1] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-08-13 21:31:47,265 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [task-1] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-08-13 21:31:47,332 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8080"]
2022-08-13 21:31:47,353 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8080 (http) with context path ''
2022-08-13 21:31:47,354 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [restartedMain] Context refreshed
2022-08-13 21:31:47,369 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [restartedMain] Found 1 custom documentation plugin(s)
2022-08-13 21:31:47,410 INFO springfox.documentation.spring.web.scanners.ApiListingReferenceScanner [restartedMain] Scanning for api listing references
2022-08-13 21:31:47,421 INFO org.springframework.data.repository.config.DeferredRepositoryInitializationListener [restartedMain] Triggering deferred initialization of Spring Data repositoriesâ€¦
2022-08-13 21:31:47,704 INFO org.springframework.data.repository.config.DeferredRepositoryInitializationListener [restartedMain] Spring Data repositories initialized!
2022-08-13 21:31:47,718 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started MoviesBattleApplication in 4.212 seconds (JVM running for 5.583)
2022-08-13 21:31:47,720 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-3] Starting scheduled task to load movies.
2022-08-13 21:31:49,210 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(9)-127.0.0.1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-08-13 21:31:49,211 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(9)-127.0.0.1] Initializing Servlet 'dispatcherServlet'
2022-08-13 21:31:49,217 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(9)-127.0.0.1] Completed initialization in 6 ms
2022-08-13 21:31:49,827 WARN de.codecentric.boot.admin.client.registration.ApplicationRegistrator [registrationTask1] Failed to register application as Application(name=spring-boot-application, managementUrl=http://DESKTOP-EKRMV67:8080/actuator, healthUrl=http://DESKTOP-EKRMV67:8080/actuator/health, serviceUrl=http://DESKTOP-EKRMV67:8080/) at spring-boot-admin ([http://localhost:8081/instances]): I/O error on POST request for "http://localhost:8081/instances": Connection refused: connect; nested exception is java.net.ConnectException: Connection refused: connect. Further attempts are logged on DEBUG level
2022-08-13 21:31:49,867 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=appulse
2022-08-13 21:31:50,587 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=font
2022-08-13 21:31:51,213 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt0068360
2022-08-13 21:31:51,945 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt0132024
2022-08-13 21:31:52,130 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt0094879
2022-08-13 21:31:52,789 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt0051109
2022-08-13 21:31:53,447 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt0070132
2022-08-13 21:31:54,107 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt0082303
2022-08-13 21:31:54,780 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt1479163
2022-08-13 21:31:55,397 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt0103992
2022-08-13 21:31:56,058 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt0136779
2022-08-13 21:31:56,207 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [http-nio-8080-exec-1] SQL Error: 42122, SQLState: 42S22
2022-08-13 21:31:56,208 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [http-nio-8080-exec-1] Column "imdb_rating" not found [42122-200]
2022-08-13 21:31:56,215 ERROR br.com.ada.moviesbattle.exception.ControllerAdvisor [http-nio-8080-exec-1] could not execute query; SQL [SELECT imdbID FROM Movie ORDER BY RANDOM() LIMIT 2]; nested exception is org.hibernate.exception.SQLGrammarException: could not execute query
2022-08-13 21:31:56,217 WARN org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver [http-nio-8080-exec-1] Resolved [org.springframework.dao.InvalidDataAccessResourceUsageException: could not execute query; SQL [SELECT imdbID FROM Movie ORDER BY RANDOM() LIMIT 2]; nested exception is org.hibernate.exception.SQLGrammarException: could not execute query]
2022-08-13 21:31:56,260 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt3512618
2022-08-13 21:31:56,930 INFO br.com.ada.moviesbattle.service.MovieServiceImpl [task-3] movies quantity: 10
2022-08-13 21:31:56,931 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-3] Finishing scheduled task to load movies.
2022-08-13 21:31:57,723 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-4] Starting scheduled task to load movies.
2022-08-13 21:31:57,726 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=frame
2022-08-13 21:31:58,412 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt2567038
2022-08-13 21:31:59,072 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt0363095
2022-08-13 21:31:59,728 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt0969345
2022-08-13 21:32:00,378 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt0067219
2022-08-13 21:32:07,737 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-5] Starting scheduled task to load movies.
2022-08-13 21:32:10,389 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt3684484
2022-08-13 21:32:11,085 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt0837795
2022-08-13 21:32:11,297 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt0117504
2022-08-13 21:32:11,912 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt0046973
2022-08-13 21:32:12,516 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt0487563
2022-08-13 21:32:13,139 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt0079174
2022-08-13 21:32:13,346 INFO br.com.ada.moviesbattle.service.MovieServiceImpl [task-4] movies quantity: 20
2022-08-13 21:32:13,347 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-4] Finishing scheduled task to load movies.
2022-08-13 21:32:14,381 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-5] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=johnson
2022-08-13 21:32:15,004 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-5] https://www.omdbapi.com/?apikey=417758d8&i=tt0068762
2022-08-13 21:32:15,008 ERROR com.github.dhiraj072.randomwordgenerator.RandomWordGenerator [Thread-375] Error getting word from DataMuse, setting a random word locally
com.github.dhiraj072.randomwordgenerator.exceptions.DataMuseException: DataMuse API did not return any words for request com.github.dhiraj072.randomwordgenerator.datamuse.DataMuseRequest@c3b66dc
	at com.github.dhiraj072.randomwordgenerator.RandomWordGenerator.getDataMuseWords(RandomWordGenerator.java:68)
	at com.github.dhiraj072.randomwordgenerator.RandomWordGenerator.initializeNewRandomWords(RandomWordGenerator.java:50)
	at java.base/java.lang.Thread.run(Thread.java:834)
2022-08-13 21:32:15,209 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-5] https://www.omdbapi.com/?apikey=417758d8&i=tt0359517
2022-08-13 21:32:15,827 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-5] https://www.omdbapi.com/?apikey=417758d8&i=tt11394180
2022-08-13 21:32:16,482 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-5] https://www.omdbapi.com/?apikey=417758d8&i=tt2091325
2022-08-13 21:32:17,097 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-5] https://www.omdbapi.com/?apikey=417758d8&i=tt5655056
2022-08-13 21:32:17,284 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-5] https://www.omdbapi.com/?apikey=417758d8&i=tt5233558
2022-08-13 21:32:17,478 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-5] https://www.omdbapi.com/?apikey=417758d8&i=tt0413615
2022-08-13 21:32:17,744 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-6] Starting scheduled task to load movies.
2022-08-13 21:32:17,747 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-6] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=Tenses
2022-08-13 21:32:18,113 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-5] https://www.omdbapi.com/?apikey=417758d8&i=tt0102458
2022-08-13 21:32:18,418 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-6] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=Tenses
2022-08-13 21:32:18,457 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-6] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=Tenses
2022-08-13 21:32:18,497 ERROR org.springframework.aop.interceptor.SimpleAsyncUncaughtExceptionHandler [task-6] Unexpected exception occurred invoking async method: public void br.com.ada.moviesbattle.scheduled.LoadMovieTask.loadMovies() throws java.lang.Exception
java.lang.NullPointerException: null
	at br.com.ada.moviesbattle.service.MovieServiceImpl.loadMovies(MovieServiceImpl.java:31)
	at br.com.ada.moviesbattle.scheduled.LoadMovieTask.loadMovies(LoadMovieTask.java:28)
	at br.com.ada.moviesbattle.scheduled.LoadMovieTask$$FastClassBySpringCGLIB$$2cb165b6.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:834)
2022-08-13 21:32:18,765 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-5] https://www.omdbapi.com/?apikey=417758d8&i=tt0280264
2022-08-13 21:32:19,379 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-5] https://www.omdbapi.com/?apikey=417758d8&i=tt4199110
2022-08-13 21:32:20,030 INFO br.com.ada.moviesbattle.service.MovieServiceImpl [task-5] movies quantity: 30
2022-08-13 21:32:20,030 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-5] Finishing scheduled task to load movies.
2022-08-13 21:32:25,270 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [http-nio-8080-exec-2] SQL Error: 42122, SQLState: 42S22
2022-08-13 21:32:25,279 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [http-nio-8080-exec-2] Column "imdb_rating" not found [42122-200]
2022-08-13 21:32:27,756 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-7] Starting scheduled task to load movies.
2022-08-13 21:32:27,758 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-7] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=principles
2022-08-13 21:32:28,443 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-7] https://www.omdbapi.com/?apikey=417758d8&i=tt0301744
2022-08-13 21:32:29,091 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-7] https://www.omdbapi.com/?apikey=417758d8&i=tt1397500
2022-08-13 21:32:29,725 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-7] https://www.omdbapi.com/?apikey=417758d8&i=tt1725081
2022-08-13 21:32:31,388 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-7] https://www.omdbapi.com/?apikey=417758d8&i=tt1856770
2022-08-13 21:32:31,994 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-7] https://www.omdbapi.com/?apikey=417758d8&i=tt0192301
2022-08-13 21:32:32,196 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-7] https://www.omdbapi.com/?apikey=417758d8&i=tt4453624
2022-08-13 21:32:32,391 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-7] https://www.omdbapi.com/?apikey=417758d8&i=tt0271130
2022-08-13 21:32:32,576 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-7] https://www.omdbapi.com/?apikey=417758d8&i=tt7031866
2022-08-13 21:32:33,232 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-7] https://www.omdbapi.com/?apikey=417758d8&i=tt0184944
2022-08-13 21:32:33,433 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-7] https://www.omdbapi.com/?apikey=417758d8&i=tt0800151
2022-08-13 21:32:34,095 INFO br.com.ada.moviesbattle.service.MovieServiceImpl [task-7] movies quantity: 40
2022-08-13 21:32:34,095 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-7] Finishing scheduled task to load movies.
2022-08-13 21:33:17,150 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting MoviesBattleApplication on DESKTOP-EKRMV67 with PID 31316 (D:\projetos\ada\movies-battle\target\classes started by guibe in D:\projetos\ada\movies-battle)
2022-08-13 21:33:17,154 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.3.1.RELEASE, Spring v5.2.7.RELEASE
2022-08-13 21:33:17,154 INFO org.springframework.boot.SpringApplication [restartedMain] The following profiles are active: dev
2022-08-13 21:33:17,195 INFO org.springframework.boot.logging.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-08-13 21:33:17,195 INFO org.springframework.boot.logging.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-08-13 21:33:18,578 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2022-08-13 21:33:18,658 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 72ms. Found 5 JPA repository interfaces.
2022-08-13 21:33:19,260 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8080 (http)
2022-08-13 21:33:19,268 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8080"]
2022-08-13 21:33:19,268 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2022-08-13 21:33:19,268 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.36]
2022-08-13 21:33:19,374 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2022-08-13 21:33:19,374 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 2179 ms
2022-08-13 21:33:19,508 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2022-08-13 21:33:19,606 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2022-08-13 21:33:19,612 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [restartedMain] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:alura-forum'
2022-08-13 21:33:19,675 INFO org.springframework.boot.actuate.endpoint.web.ServletEndpointRegistrar [restartedMain] Registered '/actuator/jolokia' to jolokia-actuator-endpoint
2022-08-13 21:33:19,743 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2022-08-13 21:33:19,752 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'taskScheduler'
2022-08-13 21:33:19,791 INFO org.hibernate.jpa.internal.util.LogHelper [task-1] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-08-13 21:33:19,831 INFO org.hibernate.Version [task-1] HHH000412: Hibernate ORM core version 5.4.17.Final
2022-08-13 21:33:19,851 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-08-13 21:33:19,923 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [task-1] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2022-08-13 21:33:20,015 INFO org.hibernate.dialect.Dialect [task-1] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-08-13 21:33:20,204 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [restartedMain] Exposing 14 endpoint(s) beneath base path '/actuator'
2022-08-13 21:33:20,409 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@636d56fd, org.springframework.security.web.context.SecurityContextPersistenceFilter@5c106efa, org.springframework.security.web.header.HeaderWriterFilter@746c6f1c, org.springframework.security.web.authentication.logout.LogoutFilter@762738d7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4ebf3f54, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7398a93b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2b9a6a75, org.springframework.security.web.session.SessionManagementFilter@41940921, org.springframework.security.web.access.ExceptionTranslationFilter@3e852adf, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2d28c270]
2022-08-13 21:33:20,456 INFO springfox.documentation.spring.web.PropertySourcedRequestMappingHandlerMapping [restartedMain] Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2022-08-13 21:33:20,602 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2022-08-13 21:33:20,739 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService
2022-08-13 21:33:20,776 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [task-1] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-08-13 21:33:20,782 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [task-1] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-08-13 21:33:20,855 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8080"]
2022-08-13 21:33:20,877 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8080 (http) with context path ''
2022-08-13 21:33:20,879 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [restartedMain] Context refreshed
2022-08-13 21:33:20,893 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [restartedMain] Found 1 custom documentation plugin(s)
2022-08-13 21:33:20,928 INFO springfox.documentation.spring.web.scanners.ApiListingReferenceScanner [restartedMain] Scanning for api listing references
2022-08-13 21:33:20,937 INFO org.springframework.data.repository.config.DeferredRepositoryInitializationListener [restartedMain] Triggering deferred initialization of Spring Data repositoriesâ€¦
2022-08-13 21:33:21,254 INFO org.springframework.data.repository.config.DeferredRepositoryInitializationListener [restartedMain] Spring Data repositories initialized!
2022-08-13 21:33:21,267 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started MoviesBattleApplication in 4.374 seconds (JVM running for 5.654)
2022-08-13 21:33:21,270 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-3] Starting scheduled task to load movies.
2022-08-13 21:33:22,737 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(3)-127.0.0.1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-08-13 21:33:22,738 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(3)-127.0.0.1] Initializing Servlet 'dispatcherServlet'
2022-08-13 21:33:22,744 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(3)-127.0.0.1] Completed initialization in 6 ms
2022-08-13 21:33:23,358 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=pandit
2022-08-13 21:33:23,380 WARN de.codecentric.boot.admin.client.registration.ApplicationRegistrator [registrationTask1] Failed to register application as Application(name=spring-boot-application, managementUrl=http://DESKTOP-EKRMV67:8080/actuator, healthUrl=http://DESKTOP-EKRMV67:8080/actuator/health, serviceUrl=http://DESKTOP-EKRMV67:8080/) at spring-boot-admin ([http://localhost:8081/instances]): I/O error on POST request for "http://localhost:8081/instances": Connection refused: connect; nested exception is java.net.ConnectException: Connection refused: connect. Further attempts are logged on DEBUG level
2022-08-13 21:33:23,653 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt0278315
2022-08-13 21:33:24,325 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt0149708
2022-08-13 21:33:24,937 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt0318584
2022-08-13 21:33:25,612 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt12740656
2022-08-13 21:33:26,239 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt4746074
2022-08-13 21:33:26,436 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt1176126
2022-08-13 21:33:27,143 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt8581484
2022-08-13 21:33:27,338 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt0216064
2022-08-13 21:33:28,003 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt0242754
2022-08-13 21:33:28,668 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt1171263
2022-08-13 21:33:29,380 INFO br.com.ada.moviesbattle.service.MovieServiceImpl [task-3] movies quantity: 10
2022-08-13 21:33:29,380 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-3] Finishing scheduled task to load movies.
2022-08-13 21:33:31,270 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-4] Starting scheduled task to load movies.
2022-08-13 21:33:31,273 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=tajikistan
2022-08-13 21:33:31,945 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt5367486
2022-08-13 21:33:32,566 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt6730474
2022-08-13 21:33:32,772 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt3957144
2022-08-13 21:33:33,390 INFO br.com.ada.moviesbattle.service.MovieServiceImpl [task-4] movies quantity: 13
2022-08-13 21:33:33,390 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-4] Finishing scheduled task to load movies.
2022-08-13 21:33:41,284 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-5] Starting scheduled task to load movies.
2022-08-13 21:33:41,287 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-5] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=franchising
2022-08-13 21:33:41,953 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-5] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=characteristics
2022-08-13 21:33:42,602 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-5] https://www.omdbapi.com/?apikey=417758d8&i=tt0036245
2022-08-13 21:33:43,247 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-5] https://www.omdbapi.com/?apikey=417758d8&i=tt0414492
2022-08-13 21:33:43,854 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-5] https://www.omdbapi.com/?apikey=417758d8&i=tt1977855
2022-08-13 21:33:44,058 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-5] https://www.omdbapi.com/?apikey=417758d8&i=tt2013223
2022-08-13 21:33:44,706 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-5] https://www.omdbapi.com/?apikey=417758d8&i=tt3765900
2022-08-13 21:33:44,886 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-5] https://www.omdbapi.com/?apikey=417758d8&i=tt8778732
2022-08-13 21:33:45,551 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-5] https://www.omdbapi.com/?apikey=417758d8&i=tt11396686
2022-08-13 21:33:46,170 INFO br.com.ada.moviesbattle.service.MovieServiceImpl [task-5] movies quantity: 20
2022-08-13 21:33:46,170 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-5] Finishing scheduled task to load movies.
2022-08-13 21:33:51,292 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-6] Starting scheduled task to load movies.
2022-08-13 21:33:51,294 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-6] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=sacroiliac
2022-08-13 21:33:51,549 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-6] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=novocain
2022-08-13 21:33:51,797 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-6] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=relieve
2022-08-13 21:33:52,463 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-6] https://www.omdbapi.com/?apikey=417758d8&i=tt4994600
2022-08-13 21:33:52,682 INFO br.com.ada.moviesbattle.service.MovieServiceImpl [task-6] movies quantity: 21
2022-08-13 21:33:52,682 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-6] Finishing scheduled task to load movies.
2022-08-13 21:34:01,296 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-7] Starting scheduled task to load movies.
2022-08-13 21:34:01,298 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-7] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=aliasing
2022-08-13 21:34:01,542 ERROR org.springframework.aop.interceptor.SimpleAsyncUncaughtExceptionHandler [task-7] Unexpected exception occurred invoking async method: public void br.com.ada.moviesbattle.scheduled.LoadMovieTask.loadMovies() throws java.lang.Exception
java.lang.NullPointerException: null
	at br.com.ada.moviesbattle.service.MovieServiceImpl.loadMovies(MovieServiceImpl.java:31)
	at br.com.ada.moviesbattle.scheduled.LoadMovieTask.loadMovies(LoadMovieTask.java:28)
	at br.com.ada.moviesbattle.scheduled.LoadMovieTask$$FastClassBySpringCGLIB$$2cb165b6.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:834)
2022-08-13 21:34:11,311 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-8] Starting scheduled task to load movies.
2022-08-13 21:34:11,313 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-8] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=child
2022-08-13 21:34:11,614 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-8] https://www.omdbapi.com/?apikey=417758d8&i=tt1014763
2022-08-13 21:34:12,225 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-8] https://www.omdbapi.com/?apikey=417758d8&i=tt1024255
2022-08-13 21:34:12,843 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-8] https://www.omdbapi.com/?apikey=417758d8&i=tt0091129
2022-08-13 21:34:13,441 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-8] https://www.omdbapi.com/?apikey=417758d8&i=tt0097981
2022-08-13 21:34:14,053 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-8] https://www.omdbapi.com/?apikey=417758d8&i=tt0100419
2022-08-13 21:34:14,662 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-8] https://www.omdbapi.com/?apikey=417758d8&i=tt2910274
2022-08-13 21:34:14,857 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-8] https://www.omdbapi.com/?apikey=417758d8&i=tt0102719
2022-08-13 21:34:15,467 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-8] https://www.omdbapi.com/?apikey=417758d8&i=tt0415965
2022-08-13 21:34:16,106 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-8] https://www.omdbapi.com/?apikey=417758d8&i=tt0456396
2022-08-13 21:34:16,309 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-8] https://www.omdbapi.com/?apikey=417758d8&i=tt0117293
2022-08-13 21:34:16,503 INFO br.com.ada.moviesbattle.service.MovieServiceImpl [task-8] movies quantity: 31
2022-08-13 21:34:16,503 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-8] Finishing scheduled task to load movies.
2022-08-13 21:34:21,318 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-9] Starting scheduled task to load movies.
2022-08-13 21:34:21,320 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-9] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=parakeets
2022-08-13 21:34:21,970 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-9] https://www.omdbapi.com/?apikey=417758d8&i=tt1997490
2022-08-13 21:34:22,583 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-9] https://www.omdbapi.com/?apikey=417758d8&i=tt3713368
2022-08-13 21:34:23,253 INFO br.com.ada.moviesbattle.service.MovieServiceImpl [task-9] movies quantity: 33
2022-08-13 21:34:23,253 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-9] Finishing scheduled task to load movies.
2022-08-13 21:34:31,320 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-10] Starting scheduled task to load movies.
2022-08-13 21:34:31,322 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-10] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=frock
2022-08-13 21:34:32,036 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-10] https://www.omdbapi.com/?apikey=417758d8&i=tt5149846
2022-08-13 21:34:32,235 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-10] https://www.omdbapi.com/?apikey=417758d8&i=tt1515743
2022-08-13 21:34:32,893 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-10] https://www.omdbapi.com/?apikey=417758d8&i=tt0757314
2022-08-13 21:34:33,082 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-10] https://www.omdbapi.com/?apikey=417758d8&i=tt1423470
2022-08-13 21:34:33,703 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-10] https://www.omdbapi.com/?apikey=417758d8&i=tt6254364
2022-08-13 21:34:34,326 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-10] https://www.omdbapi.com/?apikey=417758d8&i=tt9521470
2022-08-13 21:34:34,518 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-10] https://www.omdbapi.com/?apikey=417758d8&i=tt1813567
2022-08-13 21:34:35,132 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-10] https://www.omdbapi.com/?apikey=417758d8&i=tt3190346
2022-08-13 21:34:35,789 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-10] https://www.omdbapi.com/?apikey=417758d8&i=tt3322096
2022-08-13 21:34:36,401 INFO br.com.ada.moviesbattle.service.MovieServiceImpl [task-10] movies quantity: 42
2022-08-13 21:34:36,401 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-10] Finishing scheduled task to load movies.
2022-08-13 21:42:54,141 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting MoviesBattleApplication on DESKTOP-EKRMV67 with PID 30584 (D:\projetos\ada\movies-battle\target\classes started by guibe in D:\projetos\ada\movies-battle)
2022-08-13 21:42:54,145 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.3.1.RELEASE, Spring v5.2.7.RELEASE
2022-08-13 21:42:54,145 INFO org.springframework.boot.SpringApplication [restartedMain] The following profiles are active: dev
2022-08-13 21:42:54,186 INFO org.springframework.boot.logging.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-08-13 21:42:54,186 INFO org.springframework.boot.logging.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-08-13 21:42:55,436 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2022-08-13 21:42:55,510 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 67ms. Found 5 JPA repository interfaces.
2022-08-13 21:42:56,053 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8080 (http)
2022-08-13 21:42:56,070 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8080"]
2022-08-13 21:42:56,070 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2022-08-13 21:42:56,070 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.36]
2022-08-13 21:42:56,192 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2022-08-13 21:42:56,192 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 2005 ms
2022-08-13 21:42:56,301 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2022-08-13 21:42:56,405 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2022-08-13 21:42:56,410 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [restartedMain] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:alura-forum'
2022-08-13 21:42:56,472 INFO org.springframework.boot.actuate.endpoint.web.ServletEndpointRegistrar [restartedMain] Registered '/actuator/jolokia' to jolokia-actuator-endpoint
2022-08-13 21:42:56,543 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2022-08-13 21:42:56,553 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'taskScheduler'
2022-08-13 21:42:56,585 INFO org.hibernate.jpa.internal.util.LogHelper [task-1] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-08-13 21:42:56,622 INFO org.hibernate.Version [task-1] HHH000412: Hibernate ORM core version 5.4.17.Final
2022-08-13 21:42:56,641 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-08-13 21:42:56,718 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [task-1] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2022-08-13 21:42:56,812 INFO org.hibernate.dialect.Dialect [task-1] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-08-13 21:42:56,996 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [restartedMain] Exposing 14 endpoint(s) beneath base path '/actuator'
2022-08-13 21:42:57,199 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4888539c, org.springframework.security.web.context.SecurityContextPersistenceFilter@43c9f05e, org.springframework.security.web.header.HeaderWriterFilter@39533a76, org.springframework.security.web.authentication.logout.LogoutFilter@ee2eca4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@456f6213, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@434a75f6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@686ee73a, org.springframework.security.web.session.SessionManagementFilter@dda3f87, org.springframework.security.web.access.ExceptionTranslationFilter@8032752, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@349d9586]
2022-08-13 21:42:57,240 INFO springfox.documentation.spring.web.PropertySourcedRequestMappingHandlerMapping [restartedMain] Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2022-08-13 21:42:57,366 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2022-08-13 21:42:57,372 INFO org.hibernate.tuple.PojoInstantiator [task-1] HHH000182: No default (no-argument) constructor for class: br.com.ada.moviesbattle.modelo.Quiz (class must be instantiated by Interceptor)
2022-08-13 21:42:57,498 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService
2022-08-13 21:42:57,554 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [task-1] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-08-13 21:42:57,560 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [task-1] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-08-13 21:42:57,625 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8080"]
2022-08-13 21:42:57,645 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8080 (http) with context path ''
2022-08-13 21:42:57,646 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [restartedMain] Context refreshed
2022-08-13 21:42:57,660 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [restartedMain] Found 1 custom documentation plugin(s)
2022-08-13 21:42:57,696 INFO springfox.documentation.spring.web.scanners.ApiListingReferenceScanner [restartedMain] Scanning for api listing references
2022-08-13 21:42:57,707 INFO org.springframework.data.repository.config.DeferredRepositoryInitializationListener [restartedMain] Triggering deferred initialization of Spring Data repositoriesâ€¦
2022-08-13 21:42:58,021 INFO org.springframework.data.repository.config.DeferredRepositoryInitializationListener [restartedMain] Spring Data repositories initialized!
2022-08-13 21:42:58,033 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started MoviesBattleApplication in 4.147 seconds (JVM running for 5.548)
2022-08-13 21:42:58,036 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-3] Starting scheduled task to load movies.
2022-08-13 21:42:59,751 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(1)-127.0.0.1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-08-13 21:42:59,751 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(1)-127.0.0.1] Initializing Servlet 'dispatcherServlet'
2022-08-13 21:42:59,757 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(1)-127.0.0.1] Completed initialization in 5 ms
2022-08-13 21:43:00,042 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=wake
2022-08-13 21:43:00,150 WARN de.codecentric.boot.admin.client.registration.ApplicationRegistrator [registrationTask1] Failed to register application as Application(name=spring-boot-application, managementUrl=http://DESKTOP-EKRMV67:8080/actuator, healthUrl=http://DESKTOP-EKRMV67:8080/actuator/health, serviceUrl=http://DESKTOP-EKRMV67:8080/) at spring-boot-admin ([http://localhost:8081/instances]): I/O error on POST request for "http://localhost:8081/instances": Connection refused: connect; nested exception is java.net.ConnectException: Connection refused: connect. Further attempts are logged on DEBUG level
2022-08-13 21:43:00,786 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt3174376
2022-08-13 21:43:01,481 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt1324059
2022-08-13 21:43:02,144 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt0067541
2022-08-13 21:43:02,764 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt0367478
2022-08-13 21:43:03,415 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt1296899
2022-08-13 21:43:03,598 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt0423505
2022-08-13 21:43:04,256 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt0033740
2022-08-13 21:43:04,915 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt0040946
2022-08-13 21:43:05,575 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt0240980
2022-08-13 21:43:06,220 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt0035530
2022-08-13 21:43:06,900 INFO br.com.ada.moviesbattle.service.MovieServiceImpl [task-3] movies quantity: 10
2022-08-13 21:43:06,900 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-3] Finishing scheduled task to load movies.
2022-08-13 21:43:08,033 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-4] Starting scheduled task to load movies.
2022-08-13 21:43:08,037 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=cease
2022-08-13 21:43:08,703 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt4578920
2022-08-13 21:43:09,312 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt0088892
2022-08-13 21:43:09,961 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt0045616
2022-08-13 21:43:10,632 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt1126511
2022-08-13 21:43:11,289 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt1337593
2022-08-13 21:43:11,954 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt2401116
2022-08-13 21:43:12,584 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt3180082
2022-08-13 21:43:13,241 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt4007232
2022-08-13 21:43:13,891 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt4383174
2022-08-13 21:43:14,498 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt4431916
2022-08-13 21:43:15,104 INFO br.com.ada.moviesbattle.service.MovieServiceImpl [task-4] movies quantity: 20
2022-08-13 21:43:15,104 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-4] Finishing scheduled task to load movies.
2022-08-13 21:43:18,047 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-5] Starting scheduled task to load movies.
2022-08-13 21:43:18,049 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-5] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=mithra
2022-08-13 21:43:18,673 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-5] https://www.omdbapi.com/?apikey=417758d8&i=tt1991125
2022-08-13 21:43:18,872 INFO br.com.ada.moviesbattle.service.MovieServiceImpl [task-5] movies quantity: 21
2022-08-13 21:43:18,873 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-5] Finishing scheduled task to load movies.
2022-08-13 21:43:28,056 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-6] Starting scheduled task to load movies.
2022-08-13 21:43:28,058 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-6] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=values
2022-08-13 21:43:28,299 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-6] https://www.omdbapi.com/?apikey=417758d8&i=tt0106220
2022-08-13 21:43:28,951 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-6] https://www.omdbapi.com/?apikey=417758d8&i=tt0210943
2022-08-13 21:43:29,603 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-6] https://www.omdbapi.com/?apikey=417758d8&i=tt0238977
2022-08-13 21:43:30,232 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-6] https://www.omdbapi.com/?apikey=417758d8&i=tt0295307
2022-08-13 21:43:30,884 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-6] https://www.omdbapi.com/?apikey=417758d8&i=tt0303283
2022-08-13 21:43:31,529 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-6] https://www.omdbapi.com/?apikey=417758d8&i=tt7755354
2022-08-13 21:43:32,144 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-6] https://www.omdbapi.com/?apikey=417758d8&i=tt0116276
2022-08-13 21:43:32,340 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-6] https://www.omdbapi.com/?apikey=417758d8&i=tt0260730
2022-08-13 21:43:32,964 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-6] https://www.omdbapi.com/?apikey=417758d8&i=tt8878328
2022-08-13 21:43:33,152 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-6] https://www.omdbapi.com/?apikey=417758d8&i=tt0179638
2022-08-13 21:43:33,779 INFO br.com.ada.moviesbattle.service.MovieServiceImpl [task-6] movies quantity: 31
2022-08-13 21:43:33,779 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-6] Finishing scheduled task to load movies.
2022-08-13 21:43:38,063 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-7] Starting scheduled task to load movies.
2022-08-13 21:43:38,066 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-7] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=reactions
2022-08-13 21:43:38,740 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-7] https://www.omdbapi.com/?apikey=417758d8&i=tt15041304
2022-08-13 21:43:39,400 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-7] https://www.omdbapi.com/?apikey=417758d8&i=tt11419966
2022-08-13 21:43:40,067 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-7] https://www.omdbapi.com/?apikey=417758d8&i=tt0239895
2022-08-13 21:43:40,692 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-7] https://www.omdbapi.com/?apikey=417758d8&i=tt0282932
2022-08-13 21:43:40,878 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-7] https://www.omdbapi.com/?apikey=417758d8&i=tt14955802
2022-08-13 21:43:41,538 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-7] https://www.omdbapi.com/?apikey=417758d8&i=tt0320385
2022-08-13 21:43:42,206 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-7] https://www.omdbapi.com/?apikey=417758d8&i=tt1557217
2022-08-13 21:43:42,869 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-7] https://www.omdbapi.com/?apikey=417758d8&i=tt1605695
2022-08-13 21:43:43,530 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-7] https://www.omdbapi.com/?apikey=417758d8&i=tt2770052
2022-08-13 21:43:44,186 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-7] https://www.omdbapi.com/?apikey=417758d8&i=tt3588796
2022-08-13 21:43:44,866 INFO br.com.ada.moviesbattle.service.MovieServiceImpl [task-7] movies quantity: 41
2022-08-13 21:43:44,867 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-7] Finishing scheduled task to load movies.
2022-08-13 21:43:48,075 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-8] Starting scheduled task to load movies.
2022-08-13 21:43:48,078 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-8] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=fourier
2022-08-13 21:43:48,271 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-8] https://www.omdbapi.com/?apikey=417758d8&i=tt4083458
2022-08-13 21:43:48,935 INFO br.com.ada.moviesbattle.service.MovieServiceImpl [task-8] movies quantity: 42
2022-08-13 21:43:48,935 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-8] Finishing scheduled task to load movies.
2022-08-13 21:43:58,083 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-9] Starting scheduled task to load movies.
2022-08-13 21:43:58,086 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-9] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=asia
2022-08-13 21:43:58,380 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-9] https://www.omdbapi.com/?apikey=417758d8&i=tt0019286
2022-08-13 21:43:58,576 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-9] https://www.omdbapi.com/?apikey=417758d8&i=tt0073706
2022-08-13 21:43:59,303 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-9] https://www.omdbapi.com/?apikey=417758d8&i=tt10032266
2022-08-13 21:43:59,571 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-9] https://www.omdbapi.com/?apikey=417758d8&i=tt0113928
2022-08-13 21:44:00,225 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-9] https://www.omdbapi.com/?apikey=417758d8&i=tt7516844
2022-08-13 21:44:00,915 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-9] https://www.omdbapi.com/?apikey=417758d8&i=tt0075211
2022-08-13 21:44:01,184 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-9] https://www.omdbapi.com/?apikey=417758d8&i=tt0114431
2022-08-13 21:44:01,448 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-9] https://www.omdbapi.com/?apikey=417758d8&i=tt0497990
2022-08-13 21:44:02,076 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-9] https://www.omdbapi.com/?apikey=417758d8&i=tt0117235
2022-08-13 21:44:02,273 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-9] https://www.omdbapi.com/?apikey=417758d8&i=tt2769156
2022-08-13 21:44:02,514 INFO br.com.ada.moviesbattle.service.MovieServiceImpl [task-9] movies quantity: 52
2022-08-13 21:44:02,514 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-9] Finishing scheduled task to load movies.
2022-08-13 21:44:08,090 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-10] Starting scheduled task to load movies.
2022-08-13 21:44:08,093 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-10] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=pop
2022-08-13 21:44:08,844 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-10] https://www.omdbapi.com/?apikey=417758d8&i=tt0082009
2022-08-13 21:44:09,499 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-10] https://www.omdbapi.com/?apikey=417758d8&i=tt0064689
2022-08-13 21:44:09,702 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-10] https://www.omdbapi.com/?apikey=417758d8&i=tt12735338
2022-08-13 21:44:10,373 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-10] https://www.omdbapi.com/?apikey=417758d8&i=tt0118925
2022-08-13 21:44:10,588 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-10] https://www.omdbapi.com/?apikey=417758d8&i=tt4807950
2022-08-13 21:44:10,791 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-10] https://www.omdbapi.com/?apikey=417758d8&i=tt0168972
2022-08-13 21:44:11,417 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-10] https://www.omdbapi.com/?apikey=417758d8&i=tt1506452
2022-08-13 21:44:11,603 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-10] https://www.omdbapi.com/?apikey=417758d8&i=tt2602664
2022-08-13 21:44:12,276 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-10] https://www.omdbapi.com/?apikey=417758d8&i=tt4128102
2022-08-13 21:44:12,883 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-10] https://www.omdbapi.com/?apikey=417758d8&i=tt3740066
2022-08-13 21:44:13,083 INFO br.com.ada.moviesbattle.service.MovieServiceImpl [task-10] movies quantity: 62
2022-08-13 21:44:13,083 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-10] Finishing scheduled task to load movies.
2022-08-13 21:44:18,094 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-11] Starting scheduled task to load movies.
2022-08-13 21:44:18,096 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-11] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=margaret
2022-08-13 21:44:18,352 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-11] https://www.omdbapi.com/?apikey=417758d8&i=tt0466893
2022-08-13 21:44:18,532 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-11] https://www.omdbapi.com/?apikey=417758d8&i=tt0251739
2022-08-13 21:44:19,136 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-11] https://www.omdbapi.com/?apikey=417758d8&i=tt0300274
2022-08-13 21:44:19,746 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-11] https://www.omdbapi.com/?apikey=417758d8&i=tt0034923
2022-08-13 21:44:19,932 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-11] https://www.omdbapi.com/?apikey=417758d8&i=tt0068894
2022-08-13 21:44:20,122 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-11] https://www.omdbapi.com/?apikey=417758d8&i=tt0120754
2022-08-13 21:44:20,315 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-11] https://www.omdbapi.com/?apikey=417758d8&i=tt1776252
2022-08-13 21:44:20,510 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-11] https://www.omdbapi.com/?apikey=417758d8&i=tt0462333
2022-08-13 21:44:21,162 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-11] https://www.omdbapi.com/?apikey=417758d8&i=tt1230150
2022-08-13 21:44:21,373 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-11] https://www.omdbapi.com/?apikey=417758d8&i=tt14160744
2022-08-13 21:44:21,997 INFO br.com.ada.moviesbattle.service.MovieServiceImpl [task-11] movies quantity: 72
2022-08-13 21:44:21,998 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-11] Finishing scheduled task to load movies.
2022-08-13 21:44:28,110 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-12] Starting scheduled task to load movies.
2022-08-13 21:44:28,112 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-12] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=lakefront
2022-08-13 21:44:28,362 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-12] https://www.omdbapi.com/?apikey=417758d8&i=tt0469782
2022-08-13 21:44:29,759 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-12] https://www.omdbapi.com/?apikey=417758d8&i=tt9745052
2022-08-13 21:44:29,957 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-12] https://www.omdbapi.com/?apikey=417758d8&i=tt0340165
2022-08-13 21:44:30,580 INFO br.com.ada.moviesbattle.service.MovieServiceImpl [task-12] movies quantity: 75
2022-08-13 21:44:30,580 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-12] Finishing scheduled task to load movies.
2022-08-13 21:44:38,121 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-13] Starting scheduled task to load movies.
2022-08-13 21:44:38,128 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-13] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=neonazi
2022-08-13 21:44:39,121 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-13] https://www.omdbapi.com/?apikey=417758d8&i=tt0106391
2022-08-13 21:44:39,593 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-13] https://www.omdbapi.com/?apikey=417758d8&i=tt0856807
2022-08-13 21:44:40,014 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-13] https://www.omdbapi.com/?apikey=417758d8&i=tt2782306
2022-08-13 21:44:40,432 INFO br.com.ada.moviesbattle.service.MovieServiceImpl [task-13] movies quantity: 78
2022-08-13 21:44:40,432 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-13] Finishing scheduled task to load movies.
2022-08-13 21:44:48,121 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-14] Starting scheduled task to load movies.
2022-08-13 21:44:48,124 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-14] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=search
2022-08-13 21:44:49,212 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-14] https://www.omdbapi.com/?apikey=417758d8&i=tt0088170
2022-08-13 21:44:49,445 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-14] https://www.omdbapi.com/?apikey=417758d8&i=tt1626146
2022-08-13 21:44:49,696 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-14] https://www.omdbapi.com/?apikey=417758d8&i=tt0989000
2022-08-13 21:44:49,921 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-14] https://www.omdbapi.com/?apikey=417758d8&i=tt2758904
2022-08-13 21:44:50,154 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-14] https://www.omdbapi.com/?apikey=417758d8&i=tt1216300
2022-08-13 21:44:50,813 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-14] https://www.omdbapi.com/?apikey=417758d8&i=tt0119918
2022-08-13 21:44:51,026 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-14] https://www.omdbapi.com/?apikey=417758d8&i=tt0040765
2022-08-13 21:44:51,241 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-14] https://www.omdbapi.com/?apikey=417758d8&i=tt0465657
2022-08-13 21:44:51,477 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-14] https://www.omdbapi.com/?apikey=417758d8&i=tt0056095
2022-08-13 21:44:51,681 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-14] https://www.omdbapi.com/?apikey=417758d8&i=tt9442842
2022-08-13 21:44:52,365 INFO br.com.ada.moviesbattle.service.MovieServiceImpl [task-14] movies quantity: 88
2022-08-13 21:44:52,365 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-14] Finishing scheduled task to load movies.
2022-08-13 21:44:58,126 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-15] Starting scheduled task to load movies.
2022-08-13 21:44:58,128 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-15] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=genial
2022-08-13 21:44:58,840 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-15] https://www.omdbapi.com/?apikey=417758d8&i=tt5547496
2022-08-13 21:44:59,046 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-15] https://www.omdbapi.com/?apikey=417758d8&i=tt0382739
2022-08-13 21:44:59,248 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-15] https://www.omdbapi.com/?apikey=417758d8&i=tt0183111
2022-08-13 21:44:59,905 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-15] https://www.omdbapi.com/?apikey=417758d8&i=tt2098761
2022-08-13 21:45:00,092 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-15] https://www.omdbapi.com/?apikey=417758d8&i=tt4272414
2022-08-13 21:45:00,710 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-15] https://www.omdbapi.com/?apikey=417758d8&i=tt0242411
2022-08-13 21:45:00,913 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-15] https://www.omdbapi.com/?apikey=417758d8&i=tt5895074
2022-08-13 21:45:01,127 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-15] https://www.omdbapi.com/?apikey=417758d8&i=tt14341654
2022-08-13 21:45:01,792 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-15] https://www.omdbapi.com/?apikey=417758d8&i=tt15258114
2022-08-13 21:45:01,978 INFO br.com.ada.moviesbattle.service.MovieServiceImpl [task-15] movies quantity: 97
2022-08-13 21:45:01,978 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-15] Finishing scheduled task to load movies.
2022-08-13 21:45:08,142 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-16] Starting scheduled task to load movies.
2022-08-13 21:45:08,146 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-16] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=favorable
2022-08-13 21:45:08,427 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-16] https://www.omdbapi.com/?apikey=417758d8&i=tt0405021
2022-08-13 21:45:09,087 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-16] https://www.omdbapi.com/?apikey=417758d8&i=tt10910274
2022-08-13 21:45:09,740 INFO br.com.ada.moviesbattle.service.MovieServiceImpl [task-16] movies quantity: 99
2022-08-13 21:45:09,740 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-16] Finishing scheduled task to load movies.
2022-08-13 21:45:18,143 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-17] Starting scheduled task to load movies.
2022-08-13 21:45:18,145 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-17] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=meter
2022-08-13 21:45:18,397 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-17] https://www.omdbapi.com/?apikey=417758d8&i=tt7720922
2022-08-13 21:45:18,586 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-17] https://www.omdbapi.com/?apikey=417758d8&i=tt5465728
2022-08-13 21:45:18,780 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-17] https://www.omdbapi.com/?apikey=417758d8&i=tt2489700
2022-08-13 21:45:18,974 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-17] https://www.omdbapi.com/?apikey=417758d8&i=tt0273669
2022-08-13 21:45:19,177 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-17] https://www.omdbapi.com/?apikey=417758d8&i=tt0273670
2022-08-13 21:45:19,404 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-17] https://www.omdbapi.com/?apikey=417758d8&i=tt0309548
2022-08-13 21:45:20,030 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-17] https://www.omdbapi.com/?apikey=417758d8&i=tt0309680
2022-08-13 21:45:20,228 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-17] https://www.omdbapi.com/?apikey=417758d8&i=tt0285718
2022-08-13 21:45:20,835 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-17] https://www.omdbapi.com/?apikey=417758d8&i=tt9126200
2022-08-13 21:45:21,032 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-17] https://www.omdbapi.com/?apikey=417758d8&i=tt0377298
2022-08-13 21:45:21,650 INFO br.com.ada.moviesbattle.service.MovieServiceImpl [task-17] movies quantity: 109
2022-08-13 21:45:21,650 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-17] Finishing scheduled task to load movies.
2022-08-13 21:45:28,144 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-18] Starting scheduled task to load movies.
2022-08-13 21:45:28,147 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-18] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=southeastern
2022-08-13 21:45:28,402 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-18] https://www.omdbapi.com/?apikey=417758d8&i=tt1387470
2022-08-13 21:45:28,601 INFO br.com.ada.moviesbattle.service.MovieServiceImpl [task-18] movies quantity: 110
2022-08-13 21:45:28,601 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-18] Finishing scheduled task to load movies.
2022-08-13 21:45:38,145 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-19] Starting scheduled task to load movies.
2022-08-13 21:45:38,147 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-19] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=spread
2022-08-13 21:45:38,839 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-19] https://www.omdbapi.com/?apikey=417758d8&i=tt1186370
2022-08-13 21:45:39,047 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-19] https://www.omdbapi.com/?apikey=417758d8&i=tt10204940
2022-08-13 21:45:39,715 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-19] https://www.omdbapi.com/?apikey=417758d8&i=tt0079552
2022-08-13 21:45:39,914 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-19] https://www.omdbapi.com/?apikey=417758d8&i=tt6729862
2022-08-13 21:45:41,016 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-19] https://www.omdbapi.com/?apikey=417758d8&i=tt0262016
2022-08-13 21:45:41,648 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-19] https://www.omdbapi.com/?apikey=417758d8&i=tt7243568
2022-08-13 21:45:42,252 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-19] https://www.omdbapi.com/?apikey=417758d8&i=tt1841844
2022-08-13 21:45:42,490 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-19] https://www.omdbapi.com/?apikey=417758d8&i=tt1446173
2022-08-13 21:45:42,689 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-19] https://www.omdbapi.com/?apikey=417758d8&i=tt0111268
2022-08-13 21:45:42,893 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-19] https://www.omdbapi.com/?apikey=417758d8&i=tt0334160
2022-08-13 21:45:43,110 INFO br.com.ada.moviesbattle.service.MovieServiceImpl [task-19] movies quantity: 120
2022-08-13 21:45:43,110 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-19] Finishing scheduled task to load movies.
2022-08-13 21:45:48,146 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-20] Starting scheduled task to load movies.
2022-08-13 21:45:48,148 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-20] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=sparkling
2022-08-13 21:45:48,861 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-20] https://www.omdbapi.com/?apikey=417758d8&i=tt0086348
2022-08-13 21:45:49,539 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-20] https://www.omdbapi.com/?apikey=417758d8&i=tt0382310
2022-08-13 21:45:50,147 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-20] https://www.omdbapi.com/?apikey=417758d8&i=tt1809343
2022-08-13 21:45:50,345 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-20] https://www.omdbapi.com/?apikey=417758d8&i=tt10219112
2022-08-13 21:45:50,529 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-20] https://www.omdbapi.com/?apikey=417758d8&i=tt14198358
2022-08-13 21:45:50,722 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-20] https://www.omdbapi.com/?apikey=417758d8&i=tt2661436
2022-08-13 21:45:50,904 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-20] https://www.omdbapi.com/?apikey=417758d8&i=tt11682642
2022-08-13 21:45:51,109 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-20] https://www.omdbapi.com/?apikey=417758d8&i=tt0359536
2022-08-13 21:45:51,773 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-20] https://www.omdbapi.com/?apikey=417758d8&i=tt2948394
2022-08-13 21:45:52,388 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-20] https://www.omdbapi.com/?apikey=417758d8&i=tt4532748
2022-08-13 21:45:52,582 INFO br.com.ada.moviesbattle.service.MovieServiceImpl [task-20] movies quantity: 130
2022-08-13 21:45:52,582 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-20] Finishing scheduled task to load movies.
2022-08-13 21:46:21,574 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting MoviesBattleApplication on DESKTOP-EKRMV67 with PID 10496 (D:\projetos\ada\movies-battle\target\classes started by guibe in D:\projetos\ada\movies-battle)
2022-08-13 21:46:21,579 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.3.1.RELEASE, Spring v5.2.7.RELEASE
2022-08-13 21:46:21,579 INFO org.springframework.boot.SpringApplication [restartedMain] The following profiles are active: dev
2022-08-13 21:46:21,625 INFO org.springframework.boot.logging.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-08-13 21:46:21,625 INFO org.springframework.boot.logging.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-08-13 21:46:22,850 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2022-08-13 21:46:22,916 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 60ms. Found 5 JPA repository interfaces.
2022-08-13 21:46:23,510 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8080 (http)
2022-08-13 21:46:23,520 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8080"]
2022-08-13 21:46:23,520 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2022-08-13 21:46:23,521 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.36]
2022-08-13 21:46:23,635 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2022-08-13 21:46:23,636 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 2011 ms
2022-08-13 21:46:23,751 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2022-08-13 21:46:23,838 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2022-08-13 21:46:23,844 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [restartedMain] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:alura-forum'
2022-08-13 21:46:23,912 INFO org.springframework.boot.actuate.endpoint.web.ServletEndpointRegistrar [restartedMain] Registered '/actuator/jolokia' to jolokia-actuator-endpoint
2022-08-13 21:46:23,991 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2022-08-13 21:46:24,001 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'taskScheduler'
2022-08-13 21:46:24,033 INFO org.hibernate.jpa.internal.util.LogHelper [task-1] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-08-13 21:46:24,074 INFO org.hibernate.Version [task-1] HHH000412: Hibernate ORM core version 5.4.17.Final
2022-08-13 21:46:24,095 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-08-13 21:46:24,170 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [task-1] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2022-08-13 21:46:24,293 INFO org.hibernate.dialect.Dialect [task-1] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-08-13 21:46:24,455 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [restartedMain] Exposing 14 endpoint(s) beneath base path '/actuator'
2022-08-13 21:46:24,613 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@31bdaca4, org.springframework.security.web.context.SecurityContextPersistenceFilter@7cc743b7, org.springframework.security.web.header.HeaderWriterFilter@7d3a15ca, org.springframework.security.web.authentication.logout.LogoutFilter@141852d5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1c4945e3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@15b1daaa, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@382d09aa, org.springframework.security.web.session.SessionManagementFilter@8c8be5d, org.springframework.security.web.access.ExceptionTranslationFilter@73fcc769, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4c6ea238]
2022-08-13 21:46:24,669 INFO springfox.documentation.spring.web.PropertySourcedRequestMappingHandlerMapping [restartedMain] Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2022-08-13 21:46:24,784 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2022-08-13 21:46:24,839 INFO org.hibernate.tuple.PojoInstantiator [task-1] HHH000182: No default (no-argument) constructor for class: br.com.ada.moviesbattle.modelo.Quiz (class must be instantiated by Interceptor)
2022-08-13 21:46:24,926 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService
2022-08-13 21:46:25,025 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [task-1] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-08-13 21:46:25,032 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [task-1] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-08-13 21:46:25,104 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8080"]
2022-08-13 21:46:25,128 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8080 (http) with context path ''
2022-08-13 21:46:25,129 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [restartedMain] Context refreshed
2022-08-13 21:46:25,143 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [restartedMain] Found 1 custom documentation plugin(s)
2022-08-13 21:46:25,176 INFO springfox.documentation.spring.web.scanners.ApiListingReferenceScanner [restartedMain] Scanning for api listing references
2022-08-13 21:46:25,185 INFO org.springframework.data.repository.config.DeferredRepositoryInitializationListener [restartedMain] Triggering deferred initialization of Spring Data repositoriesâ€¦
2022-08-13 21:46:25,492 INFO org.springframework.data.repository.config.DeferredRepositoryInitializationListener [restartedMain] Spring Data repositories initialized!
2022-08-13 21:46:25,508 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started MoviesBattleApplication in 4.189 seconds (JVM running for 5.556)
2022-08-13 21:46:25,511 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-3] Starting scheduled task to load movies.
2022-08-13 21:46:27,386 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(3)-127.0.0.1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-08-13 21:46:27,386 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(3)-127.0.0.1] Initializing Servlet 'dispatcherServlet'
2022-08-13 21:46:27,393 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(3)-127.0.0.1] Completed initialization in 7 ms
2022-08-13 21:46:27,546 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=northern
2022-08-13 21:46:27,638 WARN de.codecentric.boot.admin.client.registration.ApplicationRegistrator [registrationTask1] Failed to register application as Application(name=spring-boot-application, managementUrl=http://DESKTOP-EKRMV67:8080/actuator, healthUrl=http://DESKTOP-EKRMV67:8080/actuator/health, serviceUrl=http://DESKTOP-EKRMV67:8080/) at spring-boot-admin ([http://localhost:8081/instances]): I/O error on POST request for "http://localhost:8081/instances": Connection refused: connect; nested exception is java.net.ConnectException: Connection refused: connect. Further attempts are logged on DEBUG level
2022-08-13 21:46:28,597 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt0230597
2022-08-13 21:46:29,316 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt1837613
2022-08-13 21:46:29,944 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt1487275
2022-08-13 21:46:30,564 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt1363127
2022-08-13 21:46:31,221 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt0036218
2022-08-13 21:46:31,887 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt9029324
2022-08-13 21:46:32,084 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt5027162
2022-08-13 21:46:32,268 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt4696222
2022-08-13 21:46:32,486 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt2316810
2022-08-13 21:46:33,106 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt0123197
2022-08-13 21:46:33,809 INFO br.com.ada.moviesbattle.service.MovieServiceImpl [task-3] movies quantity: 10
2022-08-13 21:46:33,810 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-3] Finishing scheduled task to load movies.
2022-08-13 21:46:35,518 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-4] Starting scheduled task to load movies.
2022-08-13 21:46:35,521 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=shift
2022-08-13 21:46:35,740 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt2965466
2022-08-13 21:46:36,377 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt0084412
2022-08-13 21:46:36,568 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt0099697
2022-08-13 21:46:37,188 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt0088213
2022-08-13 21:46:37,382 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt10309552
2022-08-13 21:46:37,580 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt0116835
2022-08-13 21:46:38,205 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt10661180
2022-08-13 21:46:38,848 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt2466684
2022-08-13 21:46:39,047 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt9850344
2022-08-13 21:46:39,240 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt4796254
2022-08-13 21:46:40,557 INFO br.com.ada.moviesbattle.service.MovieServiceImpl [task-4] movies quantity: 20
2022-08-13 21:46:40,557 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-4] Finishing scheduled task to load movies.
2022-08-13 21:46:45,533 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-5] Starting scheduled task to load movies.
2022-08-13 21:46:45,541 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-5] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=track
2022-08-13 21:46:47,209 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-5] https://www.omdbapi.com/?apikey=417758d8&i=tt0075343
2022-08-13 21:46:47,431 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-5] https://www.omdbapi.com/?apikey=417758d8&i=tt1043635
2022-08-13 21:46:48,072 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-5] https://www.omdbapi.com/?apikey=417758d8&i=tt2320968
2022-08-13 21:46:48,281 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-5] https://www.omdbapi.com/?apikey=417758d8&i=tt0096294
2022-08-13 21:46:48,472 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-5] https://www.omdbapi.com/?apikey=417758d8&i=tt0047603
2022-08-13 21:46:49,085 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-5] https://www.omdbapi.com/?apikey=417758d8&i=tt3839906
2022-08-13 21:46:49,264 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-5] https://www.omdbapi.com/?apikey=417758d8&i=tt2547210
2022-08-13 21:46:49,918 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-5] https://www.omdbapi.com/?apikey=417758d8&i=tt1780856
2022-08-13 21:46:50,544 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-5] https://www.omdbapi.com/?apikey=417758d8&i=tt0027441
2022-08-13 21:46:51,163 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-5] https://www.omdbapi.com/?apikey=417758d8&i=tt0323810
2022-08-13 21:46:51,356 INFO br.com.ada.moviesbattle.service.MovieServiceImpl [task-5] movies quantity: 30
2022-08-13 21:46:51,356 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-5] Finishing scheduled task to load movies.
2022-08-13 21:46:51,772 ERROR br.com.ada.moviesbattle.exception.ControllerAdvisor [http-nio-8080-exec-2] No default constructor for entity:  : br.com.ada.moviesbattle.modelo.Quiz; nested exception is org.hibernate.InstantiationException: No default constructor for entity:  : br.com.ada.moviesbattle.modelo.Quiz
2022-08-13 21:46:51,773 WARN org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver [http-nio-8080-exec-2] Resolved [org.springframework.orm.jpa.JpaSystemException: No default constructor for entity:  : br.com.ada.moviesbattle.modelo.Quiz; nested exception is org.hibernate.InstantiationException: No default constructor for entity:  : br.com.ada.moviesbattle.modelo.Quiz]
2022-08-13 21:46:55,535 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-6] Starting scheduled task to load movies.
2022-08-13 21:46:55,538 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-6] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=sevenths
2022-08-13 21:46:55,732 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-6] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=active
2022-08-13 21:46:56,349 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-6] https://www.omdbapi.com/?apikey=417758d8&i=tt8135494
2022-08-13 21:46:56,535 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-6] https://www.omdbapi.com/?apikey=417758d8&i=tt0211901
2022-08-13 21:46:57,151 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-6] https://www.omdbapi.com/?apikey=417758d8&i=tt10269680
2022-08-13 21:46:57,757 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-6] https://www.omdbapi.com/?apikey=417758d8&i=tt5460416
2022-08-13 21:46:58,382 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-6] https://www.omdbapi.com/?apikey=417758d8&i=tt0003596
2022-08-13 21:46:58,507 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(11)-127.0.0.1] Application shutdown requested.
2022-08-13 21:46:58,571 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-6] https://www.omdbapi.com/?apikey=417758d8&i=tt4355100
2022-08-13 21:46:58,767 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-6] https://www.omdbapi.com/?apikey=417758d8&i=tt5889486
2022-08-13 21:46:58,892 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [RMI TCP Connection(11)-127.0.0.1] Shutting down ExecutorService
2022-08-13 21:46:58,895 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [RMI TCP Connection(11)-127.0.0.1] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-08-13 21:46:58,897 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [RMI TCP Connection(11)-127.0.0.1] Shutting down ExecutorService 'taskScheduler'
2022-08-13 21:46:58,897 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [RMI TCP Connection(11)-127.0.0.1] Shutting down ExecutorService 'applicationTaskExecutor'
2022-08-13 21:46:59,113 WARN org.springframework.beans.factory.support.DisposableBeanAdapter [RMI TCP Connection(11)-127.0.0.1] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2022-08-13 21:46:59,114 INFO com.zaxxer.hikari.HikariDataSource [RMI TCP Connection(11)-127.0.0.1] HikariPool-1 - Shutdown initiated...
2022-08-13 21:46:59,119 INFO com.zaxxer.hikari.HikariDataSource [RMI TCP Connection(11)-127.0.0.1] HikariPool-1 - Shutdown completed.
2022-08-13 21:46:59,396 ERROR org.springframework.aop.interceptor.SimpleAsyncUncaughtExceptionHandler [task-6] Unexpected exception occurred invoking async method: public void br.com.ada.moviesbattle.scheduled.LoadMovieTask.loadMovies() throws java.lang.Exception
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'movieRepository' defined in br.com.ada.moviesbattle.repository.MovieRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot create inner bean '(inner bean)#2b4f969e' of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#2b4f969e': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.boot.context.properties.ConfigurationPropertiesBindException: Error creating bean with name 'spring.cache-org.springframework.boot.autoconfigure.cache.CacheProperties': Could not bind properties to 'CacheProperties' : prefix=spring.cache, ignoreInvalidFields=false, ignoreUnknownFields=true; nested exception is java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@3d79187c has been closed already
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:389)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:134)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1699)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1444)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:594)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1304)
	at org.springframework.context.annotation.ContextAnnotationAutowireCandidateResolver$1.getTarget(ContextAnnotationAutowireCandidateResolver.java:90)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:192)
	at com.sun.proxy.$Proxy103.save(Unknown Source)
	at br.com.ada.moviesbattle.service.MovieServiceImpl.loadMovies(MovieServiceImpl.java:35)
	at br.com.ada.moviesbattle.scheduled.LoadMovieTask.loadMovies(LoadMovieTask.java:28)
	at br.com.ada.moviesbattle.scheduled.LoadMovieTask$$FastClassBySpringCGLIB$$2cb165b6.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:834)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#2b4f969e': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.boot.context.properties.ConfigurationPropertiesBindException: Error creating bean with name 'spring.cache-org.springframework.boot.autoconfigure.cache.CacheProperties': Could not bind properties to 'CacheProperties' : prefix=spring.cache, ignoreInvalidFields=false, ignoreUnknownFields=true; nested exception is java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@3d79187c has been closed already
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:342)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:113)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:690)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:507)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1338)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1177)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:557)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:374)
	... 26 common frames omitted
Caused by: org.springframework.boot.context.properties.ConfigurationPropertiesBindException: Error creating bean with name 'spring.cache-org.springframework.boot.autoconfigure.cache.CacheProperties': Could not bind properties to 'CacheProperties' : prefix=spring.cache, ignoreInvalidFields=false, ignoreUnknownFields=true; nested exception is java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@3d79187c has been closed already
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:92)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.postProcessBeforeInitialization(ConfigurationPropertiesBindingPostProcessor.java:78)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:416)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1788)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1304)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1224)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:884)
	at org.springframework.beans.factory.support.ConstructorResolver.resolvePreparedArguments(ConstructorResolver.java:831)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:446)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1338)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1177)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:557)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:310)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:330)
	... 34 common frames omitted
Caused by: java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@3d79187c has been closed already
	at org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1093)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1114)
	at org.springframework.boot.context.properties.BoundConfigurationProperties.get(BoundConfigurationProperties.java:78)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getHandler(ConfigurationPropertiesBinder.java:127)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.getBindHandler(ConfigurationPropertiesBinder.java:109)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.bind(ConfigurationPropertiesBinder.java:89)
	at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:89)
	... 60 common frames omitted
2022-08-13 21:48:25,671 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting MoviesBattleApplication on DESKTOP-EKRMV67 with PID 36836 (D:\projetos\ada\movies-battle\target\classes started by guibe in D:\projetos\ada\movies-battle)
2022-08-13 21:48:25,677 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.3.1.RELEASE, Spring v5.2.7.RELEASE
2022-08-13 21:48:25,677 INFO org.springframework.boot.SpringApplication [restartedMain] The following profiles are active: dev
2022-08-13 21:48:25,721 INFO org.springframework.boot.logging.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-08-13 21:48:25,721 INFO org.springframework.boot.logging.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-08-13 21:48:26,879 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2022-08-13 21:48:26,953 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 68ms. Found 5 JPA repository interfaces.
2022-08-13 21:48:27,480 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8080 (http)
2022-08-13 21:48:27,495 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8080"]
2022-08-13 21:48:27,495 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2022-08-13 21:48:27,496 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.36]
2022-08-13 21:48:27,603 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2022-08-13 21:48:27,603 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 1882 ms
2022-08-13 21:48:27,712 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2022-08-13 21:48:27,795 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2022-08-13 21:48:27,801 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [restartedMain] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:alura-forum'
2022-08-13 21:48:27,862 INFO org.springframework.boot.actuate.endpoint.web.ServletEndpointRegistrar [restartedMain] Registered '/actuator/jolokia' to jolokia-actuator-endpoint
2022-08-13 21:48:27,933 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2022-08-13 21:48:27,941 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'taskScheduler'
2022-08-13 21:48:27,974 INFO org.hibernate.jpa.internal.util.LogHelper [task-1] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-08-13 21:48:28,012 INFO org.hibernate.Version [task-1] HHH000412: Hibernate ORM core version 5.4.17.Final
2022-08-13 21:48:28,025 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-08-13 21:48:28,103 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [task-1] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2022-08-13 21:48:28,208 INFO org.hibernate.dialect.Dialect [task-1] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-08-13 21:48:28,376 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [restartedMain] Exposing 14 endpoint(s) beneath base path '/actuator'
2022-08-13 21:48:28,552 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@46917740, org.springframework.security.web.context.SecurityContextPersistenceFilter@487e8d, org.springframework.security.web.header.HeaderWriterFilter@579b9f3, org.springframework.security.web.authentication.logout.LogoutFilter@131a4073, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1e457513, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@d7d07f9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@54cf6fa9, org.springframework.security.web.session.SessionManagementFilter@6fe6bc0e, org.springframework.security.web.access.ExceptionTranslationFilter@796f53f0, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7b54796f]
2022-08-13 21:48:28,594 INFO springfox.documentation.spring.web.PropertySourcedRequestMappingHandlerMapping [restartedMain] Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2022-08-13 21:48:28,707 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2022-08-13 21:48:28,731 INFO org.hibernate.tuple.PojoInstantiator [task-1] HHH000182: No default (no-argument) constructor for class: br.com.ada.moviesbattle.modelo.Quiz (class must be instantiated by Interceptor)
2022-08-13 21:48:28,831 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService
2022-08-13 21:48:28,893 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [task-1] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-08-13 21:48:28,899 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [task-1] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-08-13 21:48:28,969 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8080"]
2022-08-13 21:48:28,991 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8080 (http) with context path ''
2022-08-13 21:48:28,993 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [restartedMain] Context refreshed
2022-08-13 21:48:29,006 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [restartedMain] Found 1 custom documentation plugin(s)
2022-08-13 21:48:29,037 INFO springfox.documentation.spring.web.scanners.ApiListingReferenceScanner [restartedMain] Scanning for api listing references
2022-08-13 21:48:29,047 INFO org.springframework.data.repository.config.DeferredRepositoryInitializationListener [restartedMain] Triggering deferred initialization of Spring Data repositoriesâ€¦
2022-08-13 21:48:29,334 INFO org.springframework.data.repository.config.DeferredRepositoryInitializationListener [restartedMain] Spring Data repositories initialized!
2022-08-13 21:48:29,347 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started MoviesBattleApplication in 3.927 seconds (JVM running for 5.213)
2022-08-13 21:48:29,350 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-3] Starting scheduled task to load movies.
2022-08-13 21:48:31,288 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(3)-127.0.0.1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-08-13 21:48:31,288 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(3)-127.0.0.1] Initializing Servlet 'dispatcherServlet'
2022-08-13 21:48:31,295 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(3)-127.0.0.1] Completed initialization in 7 ms
2022-08-13 21:48:31,450 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=ascitic
2022-08-13 21:48:31,455 WARN de.codecentric.boot.admin.client.registration.ApplicationRegistrator [registrationTask1] Failed to register application as Application(name=spring-boot-application, managementUrl=http://DESKTOP-EKRMV67:8080/actuator, healthUrl=http://DESKTOP-EKRMV67:8080/actuator/health, serviceUrl=http://DESKTOP-EKRMV67:8080/) at spring-boot-admin ([http://localhost:8081/instances]): I/O error on POST request for "http://localhost:8081/instances": Connection refused: connect; nested exception is java.net.ConnectException: Connection refused: connect. Further attempts are logged on DEBUG level
2022-08-13 21:48:31,788 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=tomography
2022-08-13 21:48:31,989 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=lymphadenoma
2022-08-13 21:48:32,633 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=admitted
2022-08-13 21:48:32,817 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt1109585
2022-08-13 21:48:33,069 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt2837314
2022-08-13 21:48:33,725 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt3663126
2022-08-13 21:48:33,920 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt6917484
2022-08-13 21:48:34,553 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt8946762
2022-08-13 21:48:35,180 INFO br.com.ada.moviesbattle.service.MovieServiceImpl [task-3] movies quantity: 5
2022-08-13 21:48:35,180 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-3] Finishing scheduled task to load movies.
2022-08-13 21:48:39,362 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-4] Starting scheduled task to load movies.
2022-08-13 21:48:39,372 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=budding
2022-08-13 21:48:39,592 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt6101624
2022-08-13 21:48:40,227 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt9134100
2022-08-13 21:48:40,433 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt13253656
2022-08-13 21:48:41,100 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt14454912
2022-08-13 21:48:41,306 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt19818804
2022-08-13 21:48:41,932 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt0343500
2022-08-13 21:48:42,561 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt1869706
2022-08-13 21:48:42,794 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt1947978
2022-08-13 21:48:43,017 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt2217735
2022-08-13 21:48:43,207 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt4477992
2022-08-13 21:48:43,591 ERROR br.com.ada.moviesbattle.exception.ControllerAdvisor [http-nio-8080-exec-2] No default constructor for entity:  : br.com.ada.moviesbattle.modelo.Quiz; nested exception is org.hibernate.InstantiationException: No default constructor for entity:  : br.com.ada.moviesbattle.modelo.Quiz
2022-08-13 21:48:43,591 WARN org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver [http-nio-8080-exec-2] Resolved [org.springframework.orm.jpa.JpaSystemException: No default constructor for entity:  : br.com.ada.moviesbattle.modelo.Quiz; nested exception is org.hibernate.InstantiationException: No default constructor for entity:  : br.com.ada.moviesbattle.modelo.Quiz]
2022-08-13 21:48:43,826 INFO br.com.ada.moviesbattle.service.MovieServiceImpl [task-4] movies quantity: 15
2022-08-13 21:48:43,826 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-4] Finishing scheduled task to load movies.
2022-08-13 21:48:49,375 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-5] Starting scheduled task to load movies.
2022-08-13 21:48:49,380 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-5] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=mastopexy
2022-08-13 21:48:50,090 ERROR org.springframework.aop.interceptor.SimpleAsyncUncaughtExceptionHandler [task-5] Unexpected exception occurred invoking async method: public void br.com.ada.moviesbattle.scheduled.LoadMovieTask.loadMovies() throws java.lang.Exception
java.lang.NullPointerException: null
	at br.com.ada.moviesbattle.service.MovieServiceImpl.loadMovies(MovieServiceImpl.java:31)
	at br.com.ada.moviesbattle.scheduled.LoadMovieTask.loadMovies(LoadMovieTask.java:28)
	at br.com.ada.moviesbattle.scheduled.LoadMovieTask$$FastClassBySpringCGLIB$$2cb165b6.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:834)
2022-08-13 21:48:50,479 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(10)-127.0.0.1] Application shutdown requested.
2022-08-13 21:48:50,879 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [RMI TCP Connection(10)-127.0.0.1] Shutting down ExecutorService
2022-08-13 21:48:50,881 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [RMI TCP Connection(10)-127.0.0.1] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-08-13 21:48:50,884 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [RMI TCP Connection(10)-127.0.0.1] Shutting down ExecutorService 'taskScheduler'
2022-08-13 21:48:50,884 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [RMI TCP Connection(10)-127.0.0.1] Shutting down ExecutorService 'applicationTaskExecutor'
2022-08-13 21:48:51,093 WARN org.springframework.beans.factory.support.DisposableBeanAdapter [RMI TCP Connection(10)-127.0.0.1] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2022-08-13 21:48:51,094 INFO com.zaxxer.hikari.HikariDataSource [RMI TCP Connection(10)-127.0.0.1] HikariPool-1 - Shutdown initiated...
2022-08-13 21:48:51,104 INFO com.zaxxer.hikari.HikariDataSource [RMI TCP Connection(10)-127.0.0.1] HikariPool-1 - Shutdown completed.
2022-08-13 21:50:11,495 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting MoviesBattleApplication on DESKTOP-EKRMV67 with PID 7300 (D:\projetos\ada\movies-battle\target\classes started by guibe in D:\projetos\ada\movies-battle)
2022-08-13 21:50:11,500 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.3.1.RELEASE, Spring v5.2.7.RELEASE
2022-08-13 21:50:11,501 INFO org.springframework.boot.SpringApplication [restartedMain] The following profiles are active: dev
2022-08-13 21:50:11,546 INFO org.springframework.boot.logging.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-08-13 21:50:11,546 INFO org.springframework.boot.logging.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-08-13 21:50:12,706 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2022-08-13 21:50:12,783 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 70ms. Found 5 JPA repository interfaces.
2022-08-13 21:50:13,324 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8080 (http)
2022-08-13 21:50:13,332 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8080"]
2022-08-13 21:50:13,332 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2022-08-13 21:50:13,332 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.36]
2022-08-13 21:50:13,427 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2022-08-13 21:50:13,427 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 1881 ms
2022-08-13 21:50:13,534 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2022-08-13 21:50:13,618 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2022-08-13 21:50:13,623 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [restartedMain] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:alura-forum'
2022-08-13 21:50:13,683 INFO org.springframework.boot.actuate.endpoint.web.ServletEndpointRegistrar [restartedMain] Registered '/actuator/jolokia' to jolokia-actuator-endpoint
2022-08-13 21:50:13,753 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2022-08-13 21:50:13,762 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'taskScheduler'
2022-08-13 21:50:13,794 INFO org.hibernate.jpa.internal.util.LogHelper [task-1] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-08-13 21:50:13,831 INFO org.hibernate.Version [task-1] HHH000412: Hibernate ORM core version 5.4.17.Final
2022-08-13 21:50:13,855 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-08-13 21:50:13,926 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [task-1] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2022-08-13 21:50:14,023 INFO org.hibernate.dialect.Dialect [task-1] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-08-13 21:50:14,195 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [restartedMain] Exposing 14 endpoint(s) beneath base path '/actuator'
2022-08-13 21:50:14,367 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@29cea05a, org.springframework.security.web.context.SecurityContextPersistenceFilter@1cf6d5a0, org.springframework.security.web.header.HeaderWriterFilter@3c68b6e9, org.springframework.security.web.authentication.logout.LogoutFilter@53bdc65b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@50d22421, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@229f9c7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@24cb056d, org.springframework.security.web.session.SessionManagementFilter@50ae713f, org.springframework.security.web.access.ExceptionTranslationFilter@a52712b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@37be3f4b]
2022-08-13 21:50:14,407 INFO springfox.documentation.spring.web.PropertySourcedRequestMappingHandlerMapping [restartedMain] Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2022-08-13 21:50:14,519 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2022-08-13 21:50:14,647 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService
2022-08-13 21:50:14,696 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [task-1] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-08-13 21:50:14,702 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [task-1] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-08-13 21:50:14,770 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8080"]
2022-08-13 21:50:14,790 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8080 (http) with context path ''
2022-08-13 21:50:14,791 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [restartedMain] Context refreshed
2022-08-13 21:50:14,804 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [restartedMain] Found 1 custom documentation plugin(s)
2022-08-13 21:50:14,836 INFO springfox.documentation.spring.web.scanners.ApiListingReferenceScanner [restartedMain] Scanning for api listing references
2022-08-13 21:50:14,847 INFO org.springframework.data.repository.config.DeferredRepositoryInitializationListener [restartedMain] Triggering deferred initialization of Spring Data repositoriesâ€¦
2022-08-13 21:50:15,160 INFO org.springframework.data.repository.config.DeferredRepositoryInitializationListener [restartedMain] Spring Data repositories initialized!
2022-08-13 21:50:15,173 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started MoviesBattleApplication in 3.922 seconds (JVM running for 5.202)
2022-08-13 21:50:15,177 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-3] Starting scheduled task to load movies.
2022-08-13 21:50:17,106 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(4)-127.0.0.1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-08-13 21:50:17,106 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(4)-127.0.0.1] Initializing Servlet 'dispatcherServlet'
2022-08-13 21:50:17,113 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(4)-127.0.0.1] Completed initialization in 7 ms
2022-08-13 21:50:17,217 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=hygiene
2022-08-13 21:50:17,290 WARN de.codecentric.boot.admin.client.registration.ApplicationRegistrator [registrationTask1] Failed to register application as Application(name=spring-boot-application, managementUrl=http://DESKTOP-EKRMV67:8080/actuator, healthUrl=http://DESKTOP-EKRMV67:8080/actuator/health, serviceUrl=http://DESKTOP-EKRMV67:8080/) at spring-boot-admin ([http://localhost:8081/instances]): I/O error on POST request for "http://localhost:8081/instances": Connection refused: connect; nested exception is java.net.ConnectException: Connection refused: connect. Further attempts are logged on DEBUG level
2022-08-13 21:50:18,095 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt0034171
2022-08-13 21:50:18,813 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt14038552
2022-08-13 21:50:19,182 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt0187165
2022-08-13 21:50:19,444 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt0296083
2022-08-13 21:50:20,113 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt14286002
2022-08-13 21:50:20,878 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt0283545
2022-08-13 21:50:21,570 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt0438411
2022-08-13 21:50:22,683 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt0438413
2022-08-13 21:50:23,334 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt0438414
2022-08-13 21:50:23,554 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt1015348
2022-08-13 21:50:24,220 INFO br.com.ada.moviesbattle.service.MovieServiceImpl [task-3] movies quantity: 10
2022-08-13 21:50:24,220 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-3] Finishing scheduled task to load movies.
2022-08-13 21:50:25,175 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-4] Starting scheduled task to load movies.
2022-08-13 21:50:25,177 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=r
2022-08-13 21:50:25,377 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=hobby
2022-08-13 21:50:26,014 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt0031284
2022-08-13 21:50:26,662 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt0034858
2022-08-13 21:50:27,294 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt1619834
2022-08-13 21:50:27,944 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt4957624
2022-08-13 21:50:28,575 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt0165419
2022-08-13 21:50:29,189 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt1225291
2022-08-13 21:50:29,856 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt0219787
2022-08-13 21:50:30,511 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt0757989
2022-08-13 21:50:31,163 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt0361826
2022-08-13 21:50:31,354 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt0216868
2022-08-13 21:50:32,003 INFO br.com.ada.moviesbattle.service.MovieServiceImpl [task-4] movies quantity: 20
2022-08-13 21:50:32,003 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-4] Finishing scheduled task to load movies.
2022-08-13 21:50:35,190 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-5] Starting scheduled task to load movies.
2022-08-13 21:50:35,194 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-5] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=indiction
2022-08-13 21:50:35,856 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-5] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=anthropology
2022-08-13 21:50:36,516 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-5] https://www.omdbapi.com/?apikey=417758d8&i=tt3806580
2022-08-13 21:50:36,592 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(9)-127.0.0.1] Application shutdown requested.
2022-08-13 21:50:37,004 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [RMI TCP Connection(9)-127.0.0.1] Shutting down ExecutorService
2022-08-13 21:50:37,006 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [RMI TCP Connection(9)-127.0.0.1] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-08-13 21:50:37,008 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [RMI TCP Connection(9)-127.0.0.1] Shutting down ExecutorService 'taskScheduler'
2022-08-13 21:50:37,008 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [RMI TCP Connection(9)-127.0.0.1] Shutting down ExecutorService 'applicationTaskExecutor'
2022-08-13 21:50:37,144 ERROR org.springframework.aop.interceptor.SimpleAsyncUncaughtExceptionHandler [task-5] Unexpected exception occurred invoking async method: public void br.com.ada.moviesbattle.scheduled.LoadMovieTask.loadMovies() throws java.lang.Exception
org.springframework.beans.factory.BeanCreationNotAllowedException: Error creating bean with name 'movieRepository': Singleton bean creation not allowed while singletons of this factory are in destruction (Do not request a bean from a BeanFactory in a destroy method implementation!)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:212)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1304)
	at org.springframework.context.annotation.ContextAnnotationAutowireCandidateResolver$1.getTarget(ContextAnnotationAutowireCandidateResolver.java:90)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:192)
	at com.sun.proxy.$Proxy103.save(Unknown Source)
	at br.com.ada.moviesbattle.service.MovieServiceImpl.loadMovies(MovieServiceImpl.java:35)
	at br.com.ada.moviesbattle.scheduled.LoadMovieTask.loadMovies(LoadMovieTask.java:28)
	at br.com.ada.moviesbattle.scheduled.LoadMovieTask$$FastClassBySpringCGLIB$$2cb165b6.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:834)
2022-08-13 21:50:37,223 WARN org.springframework.beans.factory.support.DisposableBeanAdapter [RMI TCP Connection(9)-127.0.0.1] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2022-08-13 21:50:37,223 INFO com.zaxxer.hikari.HikariDataSource [RMI TCP Connection(9)-127.0.0.1] HikariPool-1 - Shutdown initiated...
2022-08-13 21:50:37,228 INFO com.zaxxer.hikari.HikariDataSource [RMI TCP Connection(9)-127.0.0.1] HikariPool-1 - Shutdown completed.
2022-08-13 21:57:34,056 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting MoviesBattleApplication on DESKTOP-EKRMV67 with PID 34708 (D:\projetos\ada\movies-battle\target\classes started by guibe in D:\projetos\ada\movies-battle)
2022-08-13 21:57:34,059 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.3.1.RELEASE, Spring v5.2.7.RELEASE
2022-08-13 21:57:34,059 INFO org.springframework.boot.SpringApplication [restartedMain] The following profiles are active: dev
2022-08-13 21:57:34,101 INFO org.springframework.boot.logging.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-08-13 21:57:34,101 INFO org.springframework.boot.logging.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-08-13 21:57:35,276 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2022-08-13 21:57:35,347 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 66ms. Found 5 JPA repository interfaces.
2022-08-13 21:57:35,893 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8080 (http)
2022-08-13 21:57:35,900 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8080"]
2022-08-13 21:57:35,900 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2022-08-13 21:57:35,900 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.36]
2022-08-13 21:57:36,014 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2022-08-13 21:57:36,014 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 1913 ms
2022-08-13 21:57:36,130 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2022-08-13 21:57:36,218 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2022-08-13 21:57:36,224 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [restartedMain] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:alura-forum'
2022-08-13 21:57:36,290 INFO org.springframework.boot.actuate.endpoint.web.ServletEndpointRegistrar [restartedMain] Registered '/actuator/jolokia' to jolokia-actuator-endpoint
2022-08-13 21:57:36,361 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2022-08-13 21:57:36,371 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'taskScheduler'
2022-08-13 21:57:36,404 INFO org.hibernate.jpa.internal.util.LogHelper [task-1] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-08-13 21:57:36,441 INFO org.hibernate.Version [task-1] HHH000412: Hibernate ORM core version 5.4.17.Final
2022-08-13 21:57:36,452 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-08-13 21:57:36,547 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [task-1] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2022-08-13 21:57:36,642 INFO org.hibernate.dialect.Dialect [task-1] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-08-13 21:57:36,797 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [restartedMain] Exposing 14 endpoint(s) beneath base path '/actuator'
2022-08-13 21:57:36,954 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@55edf53, org.springframework.security.web.context.SecurityContextPersistenceFilter@465b9465, org.springframework.security.web.header.HeaderWriterFilter@8a8a03c, org.springframework.security.web.authentication.logout.LogoutFilter@7865ee8f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6ddaf21b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@77f5b70f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3983994f, org.springframework.security.web.session.SessionManagementFilter@72814764, org.springframework.security.web.access.ExceptionTranslationFilter@2fa26def, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@744163d4]
2022-08-13 21:57:37,006 INFO springfox.documentation.spring.web.PropertySourcedRequestMappingHandlerMapping [restartedMain] Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2022-08-13 21:57:37,120 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2022-08-13 21:57:37,247 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService
2022-08-13 21:57:37,347 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [task-1] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-08-13 21:57:37,353 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [task-1] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-08-13 21:57:37,431 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8080"]
2022-08-13 21:57:37,452 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8080 (http) with context path ''
2022-08-13 21:57:37,453 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [restartedMain] Context refreshed
2022-08-13 21:57:37,468 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [restartedMain] Found 1 custom documentation plugin(s)
2022-08-13 21:57:37,502 INFO springfox.documentation.spring.web.scanners.ApiListingReferenceScanner [restartedMain] Scanning for api listing references
2022-08-13 21:57:37,506 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(3)-127.0.0.1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-08-13 21:57:37,506 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(3)-127.0.0.1] Initializing Servlet 'dispatcherServlet'
2022-08-13 21:57:37,523 INFO org.springframework.data.repository.config.DeferredRepositoryInitializationListener [restartedMain] Triggering deferred initialization of Spring Data repositoriesâ€¦
2022-08-13 21:57:37,523 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(3)-127.0.0.1] Completed initialization in 16 ms
2022-08-13 21:57:37,813 INFO org.springframework.data.repository.config.DeferredRepositoryInitializationListener [restartedMain] Spring Data repositories initialized!
2022-08-13 21:57:37,818 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started MoviesBattleApplication in 4.007 seconds (JVM running for 5.402)
2022-08-13 21:57:37,821 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-3] Starting scheduled task to load movies.
2022-08-13 21:57:39,868 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=moves
2022-08-13 21:57:39,890 WARN de.codecentric.boot.admin.client.registration.ApplicationRegistrator [registrationTask1] Failed to register application as Application(name=spring-boot-application, managementUrl=http://DESKTOP-EKRMV67:8080/actuator, healthUrl=http://DESKTOP-EKRMV67:8080/actuator/health, serviceUrl=http://DESKTOP-EKRMV67:8080/) at spring-boot-admin ([http://localhost:8081/instances]): I/O error on POST request for "http://localhost:8081/instances": Connection refused: connect; nested exception is java.net.ConnectException: Connection refused: connect. Further attempts are logged on DEBUG level
2022-08-13 21:57:40,644 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt0085154
2022-08-13 21:57:41,336 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt2043933
2022-08-13 21:57:41,995 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt0073453
2022-08-13 21:57:42,181 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt0104627
2022-08-13 21:57:42,814 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt8886670
2022-08-13 21:57:43,472 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt0080928
2022-08-13 21:57:44,121 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt0087144
2022-08-13 21:57:44,738 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt0089304
2022-08-13 21:57:45,361 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt0026008
2022-08-13 21:57:46,011 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt0283684
2022-08-13 21:57:46,289 INFO br.com.ada.moviesbattle.service.MovieServiceImpl [task-3] movies quantity: 10
2022-08-13 21:57:46,289 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-3] Finishing scheduled task to load movies.
2022-08-13 21:57:47,821 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-4] Starting scheduled task to load movies.
2022-08-13 21:57:47,825 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=investigatory
2022-08-13 21:57:48,020 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=geomatics
2022-08-13 21:57:48,632 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=anxiously
2022-08-13 21:57:49,289 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt12312984
2022-08-13 21:57:49,934 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt13350150
2022-08-13 21:57:50,554 INFO br.com.ada.moviesbattle.service.MovieServiceImpl [task-4] movies quantity: 12
2022-08-13 21:57:50,554 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-4] Finishing scheduled task to load movies.
2022-08-13 21:57:57,510 INFO br.com.ada.moviesbattle.controller.QuizController [http-nio-8080-exec-4] tt2043933
2022-08-13 21:57:57,825 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-5] Starting scheduled task to load movies.
2022-08-13 21:57:57,827 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-5] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=anchovy
2022-08-13 21:57:58,572 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-5] https://www.omdbapi.com/?apikey=417758d8&i=tt0025270
2022-08-13 21:57:58,773 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-5] https://www.omdbapi.com/?apikey=417758d8&i=tt8840014
2022-08-13 21:57:58,961 INFO br.com.ada.moviesbattle.service.MovieServiceImpl [task-5] movies quantity: 14
2022-08-13 21:57:58,961 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-5] Finishing scheduled task to load movies.
2022-08-13 21:58:04,661 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(11)-127.0.0.1] Application shutdown requested.
2022-08-13 21:58:05,025 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [RMI TCP Connection(11)-127.0.0.1] Shutting down ExecutorService
2022-08-13 21:58:05,028 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [RMI TCP Connection(11)-127.0.0.1] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-08-13 21:58:05,030 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [RMI TCP Connection(11)-127.0.0.1] Shutting down ExecutorService 'taskScheduler'
2022-08-13 21:58:05,030 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [RMI TCP Connection(11)-127.0.0.1] Shutting down ExecutorService 'applicationTaskExecutor'
2022-08-13 21:58:05,234 WARN org.springframework.beans.factory.support.DisposableBeanAdapter [RMI TCP Connection(11)-127.0.0.1] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2022-08-13 21:58:05,235 INFO com.zaxxer.hikari.HikariDataSource [RMI TCP Connection(11)-127.0.0.1] HikariPool-1 - Shutdown initiated...
2022-08-13 21:58:05,238 INFO com.zaxxer.hikari.HikariDataSource [RMI TCP Connection(11)-127.0.0.1] HikariPool-1 - Shutdown completed.
2022-08-13 22:20:41,619 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting MoviesBattleApplication on DESKTOP-EKRMV67 with PID 34868 (D:\projetos\ada\movies-battle\target\classes started by guibe in D:\projetos\ada\movies-battle)
2022-08-13 22:20:41,623 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.3.1.RELEASE, Spring v5.2.7.RELEASE
2022-08-13 22:20:41,624 INFO org.springframework.boot.SpringApplication [restartedMain] The following profiles are active: dev
2022-08-13 22:20:41,664 INFO org.springframework.boot.logging.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-08-13 22:20:41,665 INFO org.springframework.boot.logging.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-08-13 22:20:42,811 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2022-08-13 22:20:42,882 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 65ms. Found 5 JPA repository interfaces.
2022-08-13 22:20:43,421 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8080 (http)
2022-08-13 22:20:43,428 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8080"]
2022-08-13 22:20:43,428 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2022-08-13 22:20:43,428 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.36]
2022-08-13 22:20:43,543 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2022-08-13 22:20:43,544 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 1879 ms
2022-08-13 22:20:43,658 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2022-08-13 22:20:43,744 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2022-08-13 22:20:43,750 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [restartedMain] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:alura-forum'
2022-08-13 22:20:43,810 INFO org.springframework.boot.actuate.endpoint.web.ServletEndpointRegistrar [restartedMain] Registered '/actuator/jolokia' to jolokia-actuator-endpoint
2022-08-13 22:20:43,877 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2022-08-13 22:20:43,886 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'taskScheduler'
2022-08-13 22:20:43,919 INFO org.hibernate.jpa.internal.util.LogHelper [task-1] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-08-13 22:20:43,958 INFO org.hibernate.Version [task-1] HHH000412: Hibernate ORM core version 5.4.17.Final
2022-08-13 22:20:43,979 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-08-13 22:20:44,052 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [task-1] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2022-08-13 22:20:44,147 INFO org.hibernate.dialect.Dialect [task-1] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-08-13 22:20:44,311 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [restartedMain] Exposing 14 endpoint(s) beneath base path '/actuator'
2022-08-13 22:20:44,481 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@586ec60e, org.springframework.security.web.context.SecurityContextPersistenceFilter@79ca6c6, org.springframework.security.web.header.HeaderWriterFilter@1eb4b304, org.springframework.security.web.authentication.logout.LogoutFilter@4dfd791d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@10fc891d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5e5b59e2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6d503970, org.springframework.security.web.session.SessionManagementFilter@7ab9e352, org.springframework.security.web.access.ExceptionTranslationFilter@5629e00c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@17bf3a38]
2022-08-13 22:20:44,523 INFO springfox.documentation.spring.web.PropertySourcedRequestMappingHandlerMapping [restartedMain] Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2022-08-13 22:20:44,643 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2022-08-13 22:20:44,771 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService
2022-08-13 22:20:44,837 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [task-1] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-08-13 22:20:44,843 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [task-1] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-08-13 22:20:44,914 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8080"]
2022-08-13 22:20:44,940 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8080 (http) with context path ''
2022-08-13 22:20:44,941 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [restartedMain] Context refreshed
2022-08-13 22:20:44,957 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [restartedMain] Found 1 custom documentation plugin(s)
2022-08-13 22:20:44,995 INFO springfox.documentation.spring.web.scanners.ApiListingReferenceScanner [restartedMain] Scanning for api listing references
2022-08-13 22:20:45,012 INFO org.springframework.data.repository.config.DeferredRepositoryInitializationListener [restartedMain] Triggering deferred initialization of Spring Data repositoriesâ€¦
2022-08-13 22:20:45,294 INFO org.springframework.data.repository.config.DeferredRepositoryInitializationListener [restartedMain] Spring Data repositories initialized!
2022-08-13 22:20:45,298 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(3)-127.0.0.1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-08-13 22:20:45,298 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(3)-127.0.0.1] Initializing Servlet 'dispatcherServlet'
2022-08-13 22:20:45,300 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started MoviesBattleApplication in 3.917 seconds (JVM running for 5.16)
2022-08-13 22:20:45,303 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-3] Starting scheduled task to load movies.
2022-08-13 22:20:45,305 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(3)-127.0.0.1] Completed initialization in 6 ms
2022-08-13 22:20:47,320 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=sergio
2022-08-13 22:20:47,377 WARN de.codecentric.boot.admin.client.registration.ApplicationRegistrator [registrationTask1] Failed to register application as Application(name=spring-boot-application, managementUrl=http://DESKTOP-EKRMV67:8080/actuator, healthUrl=http://DESKTOP-EKRMV67:8080/actuator/health, serviceUrl=http://DESKTOP-EKRMV67:8080/) at spring-boot-admin ([http://localhost:8081/instances]): I/O error on POST request for "http://localhost:8081/instances": Connection refused: connect; nested exception is java.net.ConnectException: Connection refused: connect. Further attempts are logged on DEBUG level
2022-08-13 22:20:47,657 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt8750570
2022-08-13 22:20:47,847 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(8)-127.0.0.1] Application shutdown requested.
2022-08-13 22:20:48,235 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [RMI TCP Connection(8)-127.0.0.1] Shutting down ExecutorService
2022-08-13 22:20:48,248 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [RMI TCP Connection(8)-127.0.0.1] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-08-13 22:20:48,250 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [RMI TCP Connection(8)-127.0.0.1] Shutting down ExecutorService 'taskScheduler'
2022-08-13 22:20:48,251 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [RMI TCP Connection(8)-127.0.0.1] Shutting down ExecutorService 'applicationTaskExecutor'
2022-08-13 22:20:48,278 ERROR org.springframework.aop.interceptor.SimpleAsyncUncaughtExceptionHandler [task-3] Unexpected exception occurred invoking async method: public void br.com.ada.moviesbattle.scheduled.LoadMovieTask.loadMovies() throws java.lang.Exception
org.springframework.beans.factory.BeanCreationNotAllowedException: Error creating bean with name 'movieRepository': Singleton bean creation not allowed while singletons of this factory are in destruction (Do not request a bean from a BeanFactory in a destroy method implementation!)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:212)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1304)
	at org.springframework.context.annotation.ContextAnnotationAutowireCandidateResolver$1.getTarget(ContextAnnotationAutowireCandidateResolver.java:90)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:192)
	at com.sun.proxy.$Proxy103.save(Unknown Source)
	at br.com.ada.moviesbattle.service.MovieServiceImpl.loadMovies(MovieServiceImpl.java:35)
	at br.com.ada.moviesbattle.scheduled.LoadMovieTask.loadMovies(LoadMovieTask.java:28)
	at br.com.ada.moviesbattle.scheduled.LoadMovieTask$$FastClassBySpringCGLIB$$2cb165b6.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:834)
2022-08-13 22:20:48,470 WARN org.springframework.beans.factory.support.DisposableBeanAdapter [RMI TCP Connection(8)-127.0.0.1] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2022-08-13 22:20:48,472 INFO com.zaxxer.hikari.HikariDataSource [RMI TCP Connection(8)-127.0.0.1] HikariPool-1 - Shutdown initiated...
2022-08-13 22:20:48,483 INFO com.zaxxer.hikari.HikariDataSource [RMI TCP Connection(8)-127.0.0.1] HikariPool-1 - Shutdown completed.
2022-08-13 22:32:21,021 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting MoviesBattleApplication on DESKTOP-EKRMV67 with PID 29856 (D:\projetos\ada\movies-battle\target\classes started by guibe in D:\projetos\ada\movies-battle)
2022-08-13 22:32:21,025 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.3.1.RELEASE, Spring v5.2.7.RELEASE
2022-08-13 22:32:21,025 INFO org.springframework.boot.SpringApplication [restartedMain] The following profiles are active: dev
2022-08-13 22:32:21,064 INFO org.springframework.boot.logging.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-08-13 22:32:21,064 INFO org.springframework.boot.logging.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-08-13 22:32:22,226 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2022-08-13 22:32:22,309 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 76ms. Found 5 JPA repository interfaces.
2022-08-13 22:32:22,880 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8080 (http)
2022-08-13 22:32:22,887 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8080"]
2022-08-13 22:32:22,887 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2022-08-13 22:32:22,888 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.36]
2022-08-13 22:32:22,982 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2022-08-13 22:32:22,983 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 1918 ms
2022-08-13 22:32:23,090 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2022-08-13 22:32:23,176 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2022-08-13 22:32:23,181 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [restartedMain] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:alura-forum'
2022-08-13 22:32:23,240 INFO org.springframework.boot.actuate.endpoint.web.ServletEndpointRegistrar [restartedMain] Registered '/actuator/jolokia' to jolokia-actuator-endpoint
2022-08-13 22:32:23,314 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2022-08-13 22:32:23,325 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'taskScheduler'
2022-08-13 22:32:23,359 INFO org.hibernate.jpa.internal.util.LogHelper [task-1] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-08-13 22:32:23,399 INFO org.hibernate.Version [task-1] HHH000412: Hibernate ORM core version 5.4.17.Final
2022-08-13 22:32:23,411 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-08-13 22:32:23,495 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [task-1] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2022-08-13 22:32:23,580 INFO org.hibernate.dialect.Dialect [task-1] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-08-13 22:32:23,757 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [restartedMain] Exposing 14 endpoint(s) beneath base path '/actuator'
2022-08-13 22:32:23,922 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3668b22d, org.springframework.security.web.context.SecurityContextPersistenceFilter@17c0492, org.springframework.security.web.header.HeaderWriterFilter@28dd7425, org.springframework.security.web.authentication.logout.LogoutFilter@2e575090, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1137de3c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@a107bc3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@fd2aff, org.springframework.security.web.session.SessionManagementFilter@1cdfa2a8, org.springframework.security.web.access.ExceptionTranslationFilter@12742fb1, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2f68b930]
2022-08-13 22:32:23,966 INFO springfox.documentation.spring.web.PropertySourcedRequestMappingHandlerMapping [restartedMain] Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2022-08-13 22:32:24,076 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2022-08-13 22:32:24,202 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService
2022-08-13 22:32:24,290 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [task-1] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-08-13 22:32:24,296 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [task-1] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-08-13 22:32:24,385 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8080"]
2022-08-13 22:32:24,411 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8080 (http) with context path ''
2022-08-13 22:32:24,413 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [restartedMain] Context refreshed
2022-08-13 22:32:24,425 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(3)-127.0.0.1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-08-13 22:32:24,425 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(3)-127.0.0.1] Initializing Servlet 'dispatcherServlet'
2022-08-13 22:32:24,430 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [restartedMain] Found 1 custom documentation plugin(s)
2022-08-13 22:32:24,432 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(3)-127.0.0.1] Completed initialization in 6 ms
2022-08-13 22:32:24,476 INFO springfox.documentation.spring.web.scanners.ApiListingReferenceScanner [restartedMain] Scanning for api listing references
2022-08-13 22:32:24,487 INFO org.springframework.data.repository.config.DeferredRepositoryInitializationListener [restartedMain] Triggering deferred initialization of Spring Data repositoriesâ€¦
2022-08-13 22:32:24,816 INFO org.springframework.data.repository.config.DeferredRepositoryInitializationListener [restartedMain] Spring Data repositories initialized!
2022-08-13 22:32:24,822 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started MoviesBattleApplication in 4.039 seconds (JVM running for 5.315)
2022-08-13 22:32:24,825 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-3] Starting scheduled task to load movies.
2022-08-13 22:32:26,898 WARN de.codecentric.boot.admin.client.registration.ApplicationRegistrator [registrationTask1] Failed to register application as Application(name=spring-boot-application, managementUrl=http://DESKTOP-EKRMV67:8080/actuator, healthUrl=http://DESKTOP-EKRMV67:8080/actuator/health, serviceUrl=http://DESKTOP-EKRMV67:8080/) at spring-boot-admin ([http://localhost:8081/instances]): I/O error on POST request for "http://localhost:8081/instances": Connection refused: connect; nested exception is java.net.ConnectException: Connection refused: connect. Further attempts are logged on DEBUG level
2022-08-13 22:32:26,995 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=krasnoyarsk
2022-08-13 22:32:27,788 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt13905460
2022-08-13 22:32:28,531 INFO br.com.ada.moviesbattle.service.MovieServiceImpl [task-3] movies quantity: 1
2022-08-13 22:32:28,531 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-3] Finishing scheduled task to load movies.
2022-08-13 22:32:34,825 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-4] Starting scheduled task to load movies.
2022-08-13 22:32:34,828 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=clifton
2022-08-13 22:32:35,511 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt5919756
2022-08-13 22:32:36,173 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt1715337
2022-08-13 22:32:36,821 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt1792542
2022-08-13 22:32:37,473 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt2369455
2022-08-13 22:32:38,092 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt2938954
2022-08-13 22:32:38,710 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt6088750
2022-08-13 22:32:39,328 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt6179264
2022-08-13 22:32:39,981 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt12916764
2022-08-13 22:32:40,183 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt15000792
2022-08-13 22:32:40,794 INFO br.com.ada.moviesbattle.service.MovieServiceImpl [task-4] movies quantity: 10
2022-08-13 22:32:40,795 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-4] Finishing scheduled task to load movies.
2022-08-13 22:32:44,829 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-5] Starting scheduled task to load movies.
2022-08-13 22:32:44,835 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-5] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=lean
2022-08-13 22:32:45,503 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-5] https://www.omdbapi.com/?apikey=417758d8&i=tt0097722
2022-08-13 22:32:46,134 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-5] https://www.omdbapi.com/?apikey=417758d8&i=tt5340300
2022-08-13 22:32:46,796 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-5] https://www.omdbapi.com/?apikey=417758d8&i=tt0135571
2022-08-13 22:32:47,463 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-5] https://www.omdbapi.com/?apikey=417758d8&i=tt11872780
2022-08-13 22:32:48,081 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-5] https://www.omdbapi.com/?apikey=417758d8&i=tt0259749
2022-08-13 22:32:48,743 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-5] https://www.omdbapi.com/?apikey=417758d8&i=tt0076443
2022-08-13 22:32:49,400 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-5] https://www.omdbapi.com/?apikey=417758d8&i=tt0268601
2022-08-13 22:32:50,021 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-5] https://www.omdbapi.com/?apikey=417758d8&i=tt7947298
2022-08-13 22:32:50,643 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-5] https://www.omdbapi.com/?apikey=417758d8&i=tt6367282
2022-08-13 22:32:52,357 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-5] https://www.omdbapi.com/?apikey=417758d8&i=tt0310002
2022-08-13 22:32:52,970 INFO br.com.ada.moviesbattle.service.MovieServiceImpl [task-5] movies quantity: 20
2022-08-13 22:32:52,970 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-5] Finishing scheduled task to load movies.
2022-08-13 22:32:54,841 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-6] Starting scheduled task to load movies.
2022-08-13 22:32:54,843 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-6] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=emphasized
2022-08-13 22:32:55,459 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-6] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=feng
2022-08-13 22:32:55,687 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-6] https://www.omdbapi.com/?apikey=417758d8&i=tt0107358
2022-08-13 22:32:56,307 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-6] https://www.omdbapi.com/?apikey=417758d8&i=tt0851515
2022-08-13 22:32:56,954 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-6] https://www.omdbapi.com/?apikey=417758d8&i=tt2513344
2022-08-13 22:32:57,144 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-6] https://www.omdbapi.com/?apikey=417758d8&i=tt0430082
2022-08-13 22:32:57,807 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-6] https://www.omdbapi.com/?apikey=417758d8&i=tt7046524
2022-08-13 22:32:58,427 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-6] https://www.omdbapi.com/?apikey=417758d8&i=tt1756487
2022-08-13 22:32:58,625 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-6] https://www.omdbapi.com/?apikey=417758d8&i=tt1313153
2022-08-13 22:32:59,230 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-6] https://www.omdbapi.com/?apikey=417758d8&i=tt3837198
2022-08-13 22:32:59,412 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-6] https://www.omdbapi.com/?apikey=417758d8&i=tt1021085
2022-08-13 22:33:00,033 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-6] https://www.omdbapi.com/?apikey=417758d8&i=tt0068840
2022-08-13 22:33:00,692 INFO br.com.ada.moviesbattle.service.MovieServiceImpl [task-6] movies quantity: 30
2022-08-13 22:33:00,692 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-6] Finishing scheduled task to load movies.
2022-08-13 22:33:04,853 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-7] Starting scheduled task to load movies.
2022-08-13 22:33:04,855 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-7] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=allecret
2022-08-13 22:33:05,462 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-7] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=visits
2022-08-13 22:33:06,134 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-7] https://www.omdbapi.com/?apikey=417758d8&i=tt0048282
2022-08-13 22:33:06,743 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-7] https://www.omdbapi.com/?apikey=417758d8&i=tt2431406
2022-08-13 22:33:06,945 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-7] https://www.omdbapi.com/?apikey=417758d8&i=tt0232821
2022-08-13 22:33:07,554 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-7] https://www.omdbapi.com/?apikey=417758d8&i=tt2554808
2022-08-13 22:33:08,187 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-7] https://www.omdbapi.com/?apikey=417758d8&i=tt0428020
2022-08-13 22:33:08,794 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-7] https://www.omdbapi.com/?apikey=417758d8&i=tt0819884
2022-08-13 22:33:09,456 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-7] https://www.omdbapi.com/?apikey=417758d8&i=tt0476651
2022-08-13 22:33:09,645 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-7] https://www.omdbapi.com/?apikey=417758d8&i=tt2076183
2022-08-13 22:33:10,299 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-7] https://www.omdbapi.com/?apikey=417758d8&i=tt0247547
2022-08-13 22:33:10,486 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-7] https://www.omdbapi.com/?apikey=417758d8&i=tt0018128
2022-08-13 22:33:11,102 INFO br.com.ada.moviesbattle.service.MovieServiceImpl [task-7] movies quantity: 40
2022-08-13 22:33:11,102 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-7] Finishing scheduled task to load movies.
2022-08-13 22:33:12,393 INFO br.com.ada.moviesbattle.controller.QuizController [http-nio-8080-exec-4] tt0259749
2022-08-13 22:33:14,866 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-8] Starting scheduled task to load movies.
2022-08-13 22:33:14,868 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-8] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=jeepney
2022-08-13 22:33:15,060 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-8] https://www.omdbapi.com/?apikey=417758d8&i=tt0343859
2022-08-13 22:33:15,264 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-8] https://www.omdbapi.com/?apikey=417758d8&i=tt0787051
2022-08-13 22:33:15,453 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-8] https://www.omdbapi.com/?apikey=417758d8&i=tt1158255
2022-08-13 22:33:15,647 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-8] https://www.omdbapi.com/?apikey=417758d8&i=tt1213131
2022-08-13 22:33:16,281 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-8] https://www.omdbapi.com/?apikey=417758d8&i=tt1593707
2022-08-13 22:33:16,955 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-8] https://www.omdbapi.com/?apikey=417758d8&i=tt2060528
2022-08-13 22:33:17,569 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-8] https://www.omdbapi.com/?apikey=417758d8&i=tt2611316
2022-08-13 22:33:18,242 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-8] https://www.omdbapi.com/?apikey=417758d8&i=tt3669044
2022-08-13 22:33:18,895 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-8] https://www.omdbapi.com/?apikey=417758d8&i=tt5505400
2022-08-13 22:33:19,068 INFO br.com.ada.moviesbattle.controller.QuizController [http-nio-8080-exec-5] tt0259749
2022-08-13 22:33:19,071 ERROR br.com.ada.moviesbattle.exception.ControllerAdvisor [http-nio-8080-exec-5] Index 0 out of bounds for length 0
2022-08-13 22:33:19,072 WARN org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver [http-nio-8080-exec-5] Resolved [java.lang.IndexOutOfBoundsException: Index 0 out of bounds for length 0]
2022-08-13 22:33:19,550 INFO br.com.ada.moviesbattle.service.MovieServiceImpl [task-8] movies quantity: 49
2022-08-13 22:33:19,551 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-8] Finishing scheduled task to load movies.
2022-08-13 22:33:24,882 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-9] Starting scheduled task to load movies.
2022-08-13 22:33:24,889 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-9] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=combinatorics
2022-08-13 22:33:25,595 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-9] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=computer
2022-08-13 22:33:26,251 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-9] https://www.omdbapi.com/?apikey=417758d8&i=tt0065566
2022-08-13 22:33:26,920 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-9] https://www.omdbapi.com/?apikey=417758d8&i=tt2007360
2022-08-13 22:33:27,121 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-9] https://www.omdbapi.com/?apikey=417758d8&i=tt6152554
2022-08-13 22:33:27,736 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-9] https://www.omdbapi.com/?apikey=417758d8&i=tt0112709
2022-08-13 22:33:27,948 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-9] https://www.omdbapi.com/?apikey=417758d8&i=tt8343642
2022-08-13 22:33:28,137 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-9] https://www.omdbapi.com/?apikey=417758d8&i=tt2165545
2022-08-13 22:33:28,796 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-9] https://www.omdbapi.com/?apikey=417758d8&i=tt7309998
2022-08-13 22:33:29,410 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-9] https://www.omdbapi.com/?apikey=417758d8&i=tt3271064
2022-08-13 22:33:29,614 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-9] https://www.omdbapi.com/?apikey=417758d8&i=tt0308449
2022-08-13 22:33:30,239 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-9] https://www.omdbapi.com/?apikey=417758d8&i=tt0150179
2022-08-13 22:33:30,856 INFO br.com.ada.moviesbattle.service.MovieServiceImpl [task-9] movies quantity: 59
2022-08-13 22:33:30,856 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-9] Finishing scheduled task to load movies.
2022-08-13 22:33:34,894 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-10] Starting scheduled task to load movies.
2022-08-13 22:33:34,897 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-10] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=irrigated
2022-08-13 22:33:35,089 ERROR org.springframework.aop.interceptor.SimpleAsyncUncaughtExceptionHandler [task-10] Unexpected exception occurred invoking async method: public void br.com.ada.moviesbattle.scheduled.LoadMovieTask.loadMovies() throws java.lang.Exception
java.lang.NullPointerException: null
	at br.com.ada.moviesbattle.service.MovieServiceImpl.loadMovies(MovieServiceImpl.java:31)
	at br.com.ada.moviesbattle.scheduled.LoadMovieTask.loadMovies(LoadMovieTask.java:28)
	at br.com.ada.moviesbattle.scheduled.LoadMovieTask$$FastClassBySpringCGLIB$$2cb165b6.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:834)
2022-08-13 22:33:44,895 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-11] Starting scheduled task to load movies.
2022-08-13 22:33:44,900 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-11] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=hsien
2022-08-13 22:33:45,624 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-11] https://www.omdbapi.com/?apikey=417758d8&i=tt2231076
2022-08-13 22:33:46,285 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-11] https://www.omdbapi.com/?apikey=417758d8&i=tt0439720
2022-08-13 22:33:46,481 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-11] https://www.omdbapi.com/?apikey=417758d8&i=tt1904968
2022-08-13 22:33:47,091 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-11] https://www.omdbapi.com/?apikey=417758d8&i=tt2378479
2022-08-13 22:33:47,287 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-11] https://www.omdbapi.com/?apikey=417758d8&i=tt4092526
2022-08-13 22:33:47,913 INFO br.com.ada.moviesbattle.service.MovieServiceImpl [task-11] movies quantity: 64
2022-08-13 22:33:47,914 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-11] Finishing scheduled task to load movies.
2022-08-13 22:33:54,896 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-12] Starting scheduled task to load movies.
2022-08-13 22:33:54,903 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-12] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=incheon
2022-08-13 22:33:55,145 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-12] https://www.omdbapi.com/?apikey=417758d8&i=tt4939066
2022-08-13 22:33:55,328 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-12] https://www.omdbapi.com/?apikey=417758d8&i=tt0314201
2022-08-13 22:33:55,534 INFO br.com.ada.moviesbattle.service.MovieServiceImpl [task-12] movies quantity: 66
2022-08-13 22:33:55,534 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-12] Finishing scheduled task to load movies.
2022-08-13 22:34:04,902 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-13] Starting scheduled task to load movies.
2022-08-13 22:34:04,904 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-13] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=sitting
2022-08-13 22:34:04,944 INFO br.com.ada.moviesbattle.controller.QuizController [http-nio-8080-exec-7] tt1792542
2022-08-13 22:34:05,568 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-13] https://www.omdbapi.com/?apikey=417758d8&i=tt8020896
2022-08-13 22:34:06,246 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-13] https://www.omdbapi.com/?apikey=417758d8&i=tt0074254
2022-08-13 22:34:06,444 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-13] https://www.omdbapi.com/?apikey=417758d8&i=tt0040795
2022-08-13 22:34:07,060 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-13] https://www.omdbapi.com/?apikey=417758d8&i=tt0064074
2022-08-13 22:34:07,266 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-13] https://www.omdbapi.com/?apikey=417758d8&i=tt0069273
2022-08-13 22:34:07,464 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-13] https://www.omdbapi.com/?apikey=417758d8&i=tt0047501
2022-08-13 22:34:07,658 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-13] https://www.omdbapi.com/?apikey=417758d8&i=tt10619332
2022-08-13 22:34:07,852 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-13] https://www.omdbapi.com/?apikey=417758d8&i=tt0098280
2022-08-13 22:34:09,250 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-13] https://www.omdbapi.com/?apikey=417758d8&i=tt0081522
2022-08-13 22:34:09,443 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-13] https://www.omdbapi.com/?apikey=417758d8&i=tt0028260
2022-08-13 22:34:10,102 INFO br.com.ada.moviesbattle.service.MovieServiceImpl [task-13] movies quantity: 76
2022-08-13 22:34:10,102 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-13] Finishing scheduled task to load movies.
2022-08-13 22:34:14,907 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-14] Starting scheduled task to load movies.
2022-08-13 22:34:14,911 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-14] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=taoist
2022-08-13 22:34:15,111 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-14] https://www.omdbapi.com/?apikey=417758d8&i=tt14715744
2022-08-13 22:34:15,316 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-14] https://www.omdbapi.com/?apikey=417758d8&i=tt17374232
2022-08-13 22:34:15,517 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-14] https://www.omdbapi.com/?apikey=417758d8&i=tt18298642
2022-08-13 22:34:16,133 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-14] https://www.omdbapi.com/?apikey=417758d8&i=tt1674678
2022-08-13 22:34:16,763 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-14] https://www.omdbapi.com/?apikey=417758d8&i=tt4909582
2022-08-13 22:34:16,950 INFO br.com.ada.moviesbattle.service.MovieServiceImpl [task-14] movies quantity: 81
2022-08-13 22:34:16,950 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-14] Finishing scheduled task to load movies.
2022-08-13 22:34:17,666 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(11)-127.0.0.1] Application shutdown requested.
2022-08-13 22:34:18,029 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [RMI TCP Connection(11)-127.0.0.1] Shutting down ExecutorService
2022-08-13 22:34:18,031 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [RMI TCP Connection(11)-127.0.0.1] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-08-13 22:34:18,034 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [RMI TCP Connection(11)-127.0.0.1] Shutting down ExecutorService 'taskScheduler'
2022-08-13 22:34:18,034 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [RMI TCP Connection(11)-127.0.0.1] Shutting down ExecutorService 'applicationTaskExecutor'
2022-08-13 22:34:18,253 WARN org.springframework.beans.factory.support.DisposableBeanAdapter [RMI TCP Connection(11)-127.0.0.1] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2022-08-13 22:34:18,253 INFO com.zaxxer.hikari.HikariDataSource [RMI TCP Connection(11)-127.0.0.1] HikariPool-1 - Shutdown initiated...
2022-08-13 22:34:18,260 INFO com.zaxxer.hikari.HikariDataSource [RMI TCP Connection(11)-127.0.0.1] HikariPool-1 - Shutdown completed.
2022-08-13 22:35:25,712 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting MoviesBattleApplication on DESKTOP-EKRMV67 with PID 31404 (D:\projetos\ada\movies-battle\target\classes started by guibe in D:\projetos\ada\movies-battle)
2022-08-13 22:35:25,716 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.3.1.RELEASE, Spring v5.2.7.RELEASE
2022-08-13 22:35:25,717 INFO org.springframework.boot.SpringApplication [restartedMain] The following profiles are active: dev
2022-08-13 22:35:25,756 INFO org.springframework.boot.logging.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-08-13 22:35:25,756 INFO org.springframework.boot.logging.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-08-13 22:35:26,920 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2022-08-13 22:35:26,996 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 70ms. Found 5 JPA repository interfaces.
2022-08-13 22:35:27,537 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8080 (http)
2022-08-13 22:35:27,544 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8080"]
2022-08-13 22:35:27,545 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2022-08-13 22:35:27,545 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.36]
2022-08-13 22:35:27,636 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2022-08-13 22:35:27,636 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 1880 ms
2022-08-13 22:35:27,742 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2022-08-13 22:35:27,827 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2022-08-13 22:35:27,832 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [restartedMain] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:alura-forum'
2022-08-13 22:35:27,894 INFO org.springframework.boot.actuate.endpoint.web.ServletEndpointRegistrar [restartedMain] Registered '/actuator/jolokia' to jolokia-actuator-endpoint
2022-08-13 22:35:27,965 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2022-08-13 22:35:27,974 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'taskScheduler'
2022-08-13 22:35:28,006 INFO org.hibernate.jpa.internal.util.LogHelper [task-1] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-08-13 22:35:28,045 INFO org.hibernate.Version [task-1] HHH000412: Hibernate ORM core version 5.4.17.Final
2022-08-13 22:35:28,058 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-08-13 22:35:28,135 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [task-1] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2022-08-13 22:35:28,221 INFO org.hibernate.dialect.Dialect [task-1] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2022-08-13 22:35:28,409 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [restartedMain] Exposing 14 endpoint(s) beneath base path '/actuator'
2022-08-13 22:35:28,582 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7df450e2, org.springframework.security.web.context.SecurityContextPersistenceFilter@33732a11, org.springframework.security.web.header.HeaderWriterFilter@5f1a6d01, org.springframework.security.web.authentication.logout.LogoutFilter@61c0a162, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5f55aa3a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@52efb0d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1b0c69de, org.springframework.security.web.session.SessionManagementFilter@6ac7ab03, org.springframework.security.web.access.ExceptionTranslationFilter@6c7aa7a0, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@761fcdef]
2022-08-13 22:35:28,623 INFO springfox.documentation.spring.web.PropertySourcedRequestMappingHandlerMapping [restartedMain] Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2022-08-13 22:35:28,740 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2022-08-13 22:35:28,864 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService
2022-08-13 22:35:28,915 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [task-1] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-08-13 22:35:28,921 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [task-1] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-08-13 22:35:28,989 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8080"]
2022-08-13 22:35:29,011 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8080 (http) with context path ''
2022-08-13 22:35:29,013 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [restartedMain] Context refreshed
2022-08-13 22:35:29,026 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [restartedMain] Found 1 custom documentation plugin(s)
2022-08-13 22:35:29,058 INFO springfox.documentation.spring.web.scanners.ApiListingReferenceScanner [restartedMain] Scanning for api listing references
2022-08-13 22:35:29,068 INFO org.springframework.data.repository.config.DeferredRepositoryInitializationListener [restartedMain] Triggering deferred initialization of Spring Data repositoriesâ€¦
2022-08-13 22:35:29,378 INFO org.springframework.data.repository.config.DeferredRepositoryInitializationListener [restartedMain] Spring Data repositories initialized!
2022-08-13 22:35:29,393 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started MoviesBattleApplication in 3.942 seconds (JVM running for 5.233)
2022-08-13 22:35:29,396 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-3] Starting scheduled task to load movies.
2022-08-13 22:35:31,247 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=feminist
2022-08-13 22:35:31,301 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(9)-127.0.0.1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-08-13 22:35:31,302 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(9)-127.0.0.1] Initializing Servlet 'dispatcherServlet'
2022-08-13 22:35:31,309 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(9)-127.0.0.1] Completed initialization in 7 ms
2022-08-13 22:35:31,499 WARN de.codecentric.boot.admin.client.registration.ApplicationRegistrator [registrationTask1] Failed to register application as Application(name=spring-boot-application, managementUrl=http://DESKTOP-EKRMV67:8080/actuator, healthUrl=http://DESKTOP-EKRMV67:8080/actuator/health, serviceUrl=http://DESKTOP-EKRMV67:8080/) at spring-boot-admin ([http://localhost:8081/instances]): I/O error on POST request for "http://localhost:8081/instances": Connection refused: connect; nested exception is java.net.ConnectException: Connection refused: connect. Further attempts are logged on DEBUG level
2022-08-13 22:35:35,019 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt0067090
2022-08-13 22:35:35,278 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt8564614
2022-08-13 22:35:35,892 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt0404266
2022-08-13 22:35:36,523 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt1420549
2022-08-13 22:35:37,187 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt0853269
2022-08-13 22:35:37,846 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt0796819
2022-08-13 22:35:38,035 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt2455658
2022-08-13 22:35:38,697 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt0280677
2022-08-13 22:35:39,316 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt7543546
2022-08-13 22:35:39,407 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-4] Starting scheduled task to load movies.
2022-08-13 22:35:39,411 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=sportling
2022-08-13 22:35:39,668 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=figure
2022-08-13 22:35:39,934 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-3] https://www.omdbapi.com/?apikey=417758d8&i=tt14599556
2022-08-13 22:35:40,335 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt0447987
2022-08-13 22:35:40,639 INFO br.com.ada.moviesbattle.service.MovieServiceImpl [task-3] movies quantity: 10
2022-08-13 22:35:40,639 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-3] Finishing scheduled task to load movies.
2022-08-13 22:35:40,988 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt8119680
2022-08-13 22:35:41,662 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt0293154
2022-08-13 22:35:41,864 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt6665988
2022-08-13 22:35:42,048 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt0030248
2022-08-13 22:35:42,667 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt8738176
2022-08-13 22:35:43,280 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt6695462
2022-08-13 22:35:43,890 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt0080723
2022-08-13 22:35:44,521 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt7296616
2022-08-13 22:35:45,132 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-4] https://www.omdbapi.com/?apikey=417758d8&i=tt11393740
2022-08-13 22:35:45,748 INFO br.com.ada.moviesbattle.service.MovieServiceImpl [task-4] movies quantity: 20
2022-08-13 22:35:45,749 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-4] Finishing scheduled task to load movies.
2022-08-13 22:35:49,412 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-5] Starting scheduled task to load movies.
2022-08-13 22:35:49,414 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-5] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=equipped
2022-08-13 22:35:50,041 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-5] https://www.omdbapi.com/?apikey=417758d8&i=tt0093099
2022-08-13 22:35:50,688 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-5] https://www.omdbapi.com/?apikey=417758d8&i=tt0349473
2022-08-13 22:35:51,302 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-5] https://www.omdbapi.com/?apikey=417758d8&i=tt3333306
2022-08-13 22:35:51,952 INFO br.com.ada.moviesbattle.service.MovieServiceImpl [task-5] movies quantity: 23
2022-08-13 22:35:51,953 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-5] Finishing scheduled task to load movies.
2022-08-13 22:35:59,416 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-6] Starting scheduled task to load movies.
2022-08-13 22:35:59,419 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-6] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=used
2022-08-13 22:35:59,652 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-6] https://www.omdbapi.com/?apikey=417758d8&i=tt0081698
2022-08-13 22:36:00,268 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-6] https://www.omdbapi.com/?apikey=417758d8&i=tt10887902
2022-08-13 22:36:00,413 INFO br.com.ada.moviesbattle.controller.QuizController [http-nio-8080-exec-4] tt6665988
2022-08-13 22:36:00,928 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-6] https://www.omdbapi.com/?apikey=417758d8&i=tt0105706
2022-08-13 22:36:01,574 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-6] https://www.omdbapi.com/?apikey=417758d8&i=tt2147728
2022-08-13 22:36:01,781 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-6] https://www.omdbapi.com/?apikey=417758d8&i=tt10673846
2022-08-13 22:36:02,444 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-6] https://www.omdbapi.com/?apikey=417758d8&i=tt5591540
2022-08-13 22:36:02,639 INFO br.com.ada.moviesbattle.controller.QuizController [http-nio-8080-exec-5] tt6665988
2022-08-13 22:36:02,642 ERROR br.com.ada.moviesbattle.exception.ControllerAdvisor [http-nio-8080-exec-5] Quiz already answered! id: 1
2022-08-13 22:36:02,642 WARN org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver [http-nio-8080-exec-5] Resolved [java.lang.Exception: Quiz already answered! id: 1]
2022-08-13 22:36:03,105 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-6] https://www.omdbapi.com/?apikey=417758d8&i=tt6715168
2022-08-13 22:36:03,769 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-6] https://www.omdbapi.com/?apikey=417758d8&i=tt1956669
2022-08-13 22:36:04,412 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-6] https://www.omdbapi.com/?apikey=417758d8&i=tt0410829
2022-08-13 22:36:04,611 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-6] https://www.omdbapi.com/?apikey=417758d8&i=tt0479685
2022-08-13 22:36:05,232 INFO br.com.ada.moviesbattle.service.MovieServiceImpl [task-6] movies quantity: 33
2022-08-13 22:36:05,233 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-6] Finishing scheduled task to load movies.
2022-08-13 22:36:09,418 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-7] Starting scheduled task to load movies.
2022-08-13 22:36:09,420 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-7] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=european
2022-08-13 22:36:09,627 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-7] https://www.omdbapi.com/?apikey=417758d8&i=tt0089670
2022-08-13 22:36:10,253 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-7] https://www.omdbapi.com/?apikey=417758d8&i=tt0367652
2022-08-13 22:36:10,459 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-7] https://www.omdbapi.com/?apikey=417758d8&i=tt0365770
2022-08-13 22:36:11,117 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-7] https://www.omdbapi.com/?apikey=417758d8&i=tt0231549
2022-08-13 22:36:11,736 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-7] https://www.omdbapi.com/?apikey=417758d8&i=tt4288614
2022-08-13 22:36:12,331 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-7] https://www.omdbapi.com/?apikey=417758d8&i=tt11998956
2022-08-13 22:36:12,535 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-7] https://www.omdbapi.com/?apikey=417758d8&i=tt2413460
2022-08-13 22:36:13,144 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-7] https://www.omdbapi.com/?apikey=417758d8&i=tt0802950
2022-08-13 22:36:13,759 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-7] https://www.omdbapi.com/?apikey=417758d8&i=tt0491725
2022-08-13 22:36:14,387 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-7] https://www.omdbapi.com/?apikey=417758d8&i=tt0864678
2022-08-13 22:36:14,570 INFO br.com.ada.moviesbattle.service.MovieServiceImpl [task-7] movies quantity: 43
2022-08-13 22:36:14,570 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-7] Finishing scheduled task to load movies.
2022-08-13 22:36:18,937 INFO br.com.ada.moviesbattle.controller.QuizController [http-nio-8080-exec-6] tt6665988
2022-08-13 22:36:18,939 ERROR br.com.ada.moviesbattle.exception.ControllerAdvisor [http-nio-8080-exec-6] Quiz already answered! id: 1
2022-08-13 22:36:18,939 WARN org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver [http-nio-8080-exec-6] Resolved [java.lang.Exception: Quiz already answered! id: 1]
2022-08-13 22:36:19,420 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-8] Starting scheduled task to load movies.
2022-08-13 22:36:19,423 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-8] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=luaus
2022-08-13 22:36:19,610 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-8] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=kuril
2022-08-13 22:36:20,266 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-8] https://www.omdbapi.com/?apikey=417758d8&i=tt4270246
2022-08-13 22:36:20,476 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-8] https://www.omdbapi.com/?apikey=417758d8&i=tt4270284
2022-08-13 22:36:20,663 INFO br.com.ada.moviesbattle.service.MovieServiceImpl [task-8] movies quantity: 45
2022-08-13 22:36:20,663 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-8] Finishing scheduled task to load movies.
2022-08-13 22:36:29,426 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-9] Starting scheduled task to load movies.
2022-08-13 22:36:29,431 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-9] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=bernard
2022-08-13 22:36:31,156 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-9] https://www.omdbapi.com/?apikey=417758d8&i=tt0470732
2022-08-13 22:36:31,820 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-9] https://www.omdbapi.com/?apikey=417758d8&i=tt0101435
2022-08-13 22:36:32,512 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-9] https://www.omdbapi.com/?apikey=417758d8&i=tt7655142
2022-08-13 22:36:33,189 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-9] https://www.omdbapi.com/?apikey=417758d8&i=tt4654016
2022-08-13 22:36:33,824 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-9] https://www.omdbapi.com/?apikey=417758d8&i=tt0278521
2022-08-13 22:36:34,015 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-9] https://www.omdbapi.com/?apikey=417758d8&i=tt0104946
2022-08-13 22:36:34,220 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-9] https://www.omdbapi.com/?apikey=417758d8&i=tt2317744
2022-08-13 22:36:34,867 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-9] https://www.omdbapi.com/?apikey=417758d8&i=tt3327086
2022-08-13 22:36:35,071 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-9] https://www.omdbapi.com/?apikey=417758d8&i=tt0129783
2022-08-13 22:36:35,728 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-9] https://www.omdbapi.com/?apikey=417758d8&i=tt0307664
2022-08-13 22:36:36,361 INFO br.com.ada.moviesbattle.service.MovieServiceImpl [task-9] movies quantity: 55
2022-08-13 22:36:36,362 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-9] Finishing scheduled task to load movies.
2022-08-13 22:36:39,430 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-10] Starting scheduled task to load movies.
2022-08-13 22:36:39,434 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-10] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=newcastle
2022-08-13 22:36:39,624 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-10] https://www.omdbapi.com/?apikey=417758d8&i=tt1043860
2022-08-13 22:36:39,809 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-10] https://www.omdbapi.com/?apikey=417758d8&i=tt0471069
2022-08-13 22:36:40,464 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-10] https://www.omdbapi.com/?apikey=417758d8&i=tt1669194
2022-08-13 22:36:40,676 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-10] https://www.omdbapi.com/?apikey=417758d8&i=tt0350890
2022-08-13 22:36:40,863 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-10] https://www.omdbapi.com/?apikey=417758d8&i=tt1633334
2022-08-13 22:36:41,067 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-10] https://www.omdbapi.com/?apikey=417758d8&i=tt13801722
2022-08-13 22:36:41,262 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-10] https://www.omdbapi.com/?apikey=417758d8&i=tt7082904
2022-08-13 22:36:41,457 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-10] https://www.omdbapi.com/?apikey=417758d8&i=tt7671062
2022-08-13 22:36:41,650 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-10] https://www.omdbapi.com/?apikey=417758d8&i=tt7682344
2022-08-13 22:36:42,331 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-10] https://www.omdbapi.com/?apikey=417758d8&i=tt7682370
2022-08-13 22:36:42,523 INFO br.com.ada.moviesbattle.service.MovieServiceImpl [task-10] movies quantity: 65
2022-08-13 22:36:42,524 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-10] Finishing scheduled task to load movies.
2022-08-13 22:36:49,429 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-11] Starting scheduled task to load movies.
2022-08-13 22:36:49,432 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-11] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=cabinetmaking
2022-08-13 22:36:49,674 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-11] https://www.omdbapi.com/?apikey=417758d8&type=movie&s=knapping
2022-08-13 22:36:50,329 INFO br.com.ada.moviesbattle.service.OmdbServiceImpl [task-11] https://www.omdbapi.com/?apikey=417758d8&i=tt4359704
2022-08-13 22:36:50,952 INFO br.com.ada.moviesbattle.service.MovieServiceImpl [task-11] movies quantity: 66
2022-08-13 22:36:50,952 INFO br.com.ada.moviesbattle.scheduled.LoadMovieTask [task-11] Finishing scheduled task to load movies.
